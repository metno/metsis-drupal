!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.mapClient=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){!function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):root.ol=factory()}(this,function(){function t(a,b){var c=a.split("."),d=OPENLAYERS||aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function v(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function ea(){}function x(a){return a.ao||(a.ao=++fa)}function ga(a){this.message="Assertion failed. See https://openlayers.org/en/v3.20.1/doc/errors/#"+a+" for details.",this.code=a,this.name="AssertionError"}function ha(a,b){if(!a)throw new ga(b)}function ia(a,b,c){return Math.min(Math.max(a,b),c)}function ka(a){return ha(a>0,29),Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function la(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);l>1?(c=e,d=f):l>0&&(c+=g*l,d+=h*l)}return ma(a,b,c,d)}function ma(a,b,c,d){return a=c-a,b=d-b,a*a+b*b}function na(a){return a*Math.PI/180}function oa(a,b){var c=a%b;return 0>c*b?c+b:c}function pa(a,b,c){return a+c*(b-a)}function qa(a){return function(b){return b?[ia(b[0],a[0],a[2]),ia(b[1],a[1],a[3])]:void 0}}function ra(a){return a}function sa(a,b,c){this.center=a,this.resolution=b,this.rotation=c}function ua(a){for(var b in a)delete a[b]}function va(a){var c,b=[];for(c in a)b.push(a[c]);return b}function wa(a){for(var b in a)return!1;return!b}function xa(a){function b(b){var d=a.listener,e=a.xg||a.target;return a.zg&&ya(a),d.call(e,b)}return a.yg=b}function za(a,b,c,d){for(var e,f=0,g=a.length;g>f;++f)if(e=a[f],e.listener===b&&e.xg===c)return d&&(e.deleteIndex=f),e}function Aa(a,b){var c=a.eb;return c?c[b]:void 0}function Ba(a){var b=a.eb;return b||(b=a.eb={}),b}function Ca(a,b){var c=Aa(a,b);if(c){for(var d=0,e=c.length;e>d;++d)a.removeEventListener(b,c[d].yg),ua(c[d]);c.length=0,(c=a.eb)&&(delete c[b],0===Object.keys(c).length&&delete a.eb)}}function B(a,b,c,d,e){var f=Ba(a),g=f[b];return g||(g=f[b]=[]),(f=za(g,c,d,!1))?e||(f.zg=!1):(f={xg:d,zg:!!e,listener:c,target:a,type:b},a.addEventListener(b,xa(f)),g.push(f)),f}function Da(a,b,c,d){return B(a,b,c,d,!0)}function Ea(a,b,c,d){(a=Aa(a,b))&&(c=za(a,c,d,!0))&&ya(c)}function ya(a){if(a&&a.target){a.target.removeEventListener(a.type,a.yg);var b=Aa(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),0===b.length&&Ca(a.target,a.type)}ua(a)}}function Fa(a){var c,b=Ba(a);for(c in b)Ca(a,c)}function Ga(){}function Ha(a){a.zb||(a.zb=!0,a.oa())}function Ia(a){this.type=a,this.target=null}function Ka(a){a.stopPropagation()}function Na(){this.Qa={},this.va={},this.ra={}}function Oa(a,b){return b?b in a.ra:0<Object.keys(a.ra).length}function Pa(){Na.call(this),this.g=0}function Qa(a){if(Array.isArray(a))for(var b=0,c=a.length;c>b;++b)ya(a[b]);else ya(a)}function Sa(a){Pa.call(this),x(this),this.H={},void 0!==a&&this.I(a)}function Ua(a){return Ta.hasOwnProperty(a)?Ta[a]:Ta[a]="change:"+a}function Va(a,b,c){var d;d=Ua(b),a.b(new Wa(d,b,c)),d=Xa,a.b(new Wa(d,b,c))}function Wa(a,b,c){Ia.call(this,a),this.key=b,this.oldValue=c}function Ya(a,b){return a>b?1:b>a?-1:0}function Za(a,b){return 0<=a.indexOf(b)}function $a(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(c>0){for(c=1;d>c;++c)if(a[c]<b)return c-1}else if(0>c){for(c=1;d>c;++c)if(a[c]<=b)return c}else for(c=1;d>c;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function ab(a){return a.reduce(function(a,c){return a.concat(Array.isArray(c)?ab(c):c)},[])}function bb(a,b){var c,d=Array.isArray(b)?b:[b],e=d.length;for(c=0;e>c;c++)a[a.length]=d[c]}function cb(a,b){for(var d,c=a.length>>>0,e=0;c>e;e++)if(d=a[e],b(d,e,a))return d;return null}function db(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;c>d;d++)if(a[d]!==b[d])return!1;return!0}function eb(a){var e,b=fb,c=a.length,d=Array(a.length);for(e=0;c>e;e++)d[e]={index:e,value:a[e]};for(d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index}),e=0;e<a.length;e++)a[e]=d[e].value}function gb(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c}function hb(a,b){var c=b||Ya;return a.every(function(b,e){if(0===e)return!0;var f=c(a[e-1],b);return!(f>0||0===f)})}function ib(a){return function(b,c,d){return void 0!==b?(b=$a(a,b,d),b=ia(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]):void 0}}function jb(a,b,c){return function(d,e,f){return void 0!==d?(d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)):void 0}}function lb(a){return void 0!==a?0:void 0}function mb(a,b){return void 0!==a?a+b:void 0}function nb(a){var b=2*Math.PI/a;return function(a,d){return void 0!==a?a=Math.floor((a+d)/b+.5)*b:void 0}}function ob(){var a=na(5);return function(b,c){return void 0!==b?Math.abs(b+c)<=a?0:b+c:void 0}}function pb(a,b){var c=void 0!==b?a.toFixed(b):""+a,d=c.indexOf("."),d=-1===d?c.length:d;return d>2?c:Array(3-d).join("0")+c}function qb(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0}function rb(a,b){return a[0]+=b[0],a[1]+=b[1],a}function sb(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=e[0],e=e[1],h=f[0],f=f[1],l=h-g,m=f-e,c=0===l&&0===m?0:(l*(c-g)+m*(d-e))/(l*l+m*m||0);return 0>=c||(c>=1?(g=h,e=f):(g+=c*l,e+=c*m)),[g,e]}function tb(a,b,c){a=oa(a+180,360)-180;var d=Math.abs(3600*a);return Math.floor(d/3600)+"° "+pb(Math.floor(d/60%60))+"′ "+pb(d%60,c||0)+"″ "+b.charAt(0>a?1:0)}function ub(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function vb(a,b){for(var c=!0,d=a.length-1;d>=0;--d)if(a[d]!=b[d]){c=!1;break}return c}function wb(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;return a[0]=a[0]*c-a[1]*d,a[1]=e,a}function xb(a,b){a[0]*=b,a[1]*=b}function yb(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}function zb(a,b){return yb(a,sb(a,b))}function Ab(a,b){return ub(a,"{x}, {y}",b)}function Bb(a){return Math.pow(a,3)}function Cb(a){return 1-Bb(1-a)}function Db(a){return 3*a*a-2*a*a*a}function Eb(a){return a}function Fb(a){return.5>a?Db(2*a):1-Db(2*(a-.5))}function Gb(a){for(var b=Hb(),c=0,d=a.length;d>c;++c)Ib(b,a[c]);return b}function Jb(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Kb(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Lb(a,b,c){return b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,b*b+a*a}function Mb(a,b){return Nb(a,b[0],b[1])}function Ob(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Nb(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Qb(a,b){var c=a[1],d=a[2],e=a[3],f=b[0],g=b[1],h=0;return f<a[0]?h|=16:f>d&&(h|=4),c>g?h|=8:g>e&&(h|=2),0===h&&(h=1),h}function Hb(){return[1/0,1/0,-(1/0),-(1/0)]}function Rb(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Sb(a,b){var c=a[0],d=a[1];return Rb(c,d,c,d,b)}function Tb(a,b,c,d,e){return e=Rb(1/0,1/0,-(1/0),-(1/0),e),Ub(e,a,b,c,d)}function Vb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function Wb(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a}function Ib(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])}function Ub(a,b,c,d,e){for(;d>c;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g),f[1]=Math.min(f[1],h),f[2]=Math.max(f[2],g),f[3]=Math.max(f[3],h)}return a}function Xb(a,b,c){var d;return(d=b.call(c,Yb(a)))||(d=b.call(c,Zb(a)))||(d=b.call(c,$b(a)))?d:(d=b.call(c,ac(a)))?d:!1}function bc(a){var b=0;return cc(a)||(b=dc(a)*ec(a)),b}function Yb(a){return[a[0],a[1]]}function Zb(a){return[a[2],a[1]]}function gc(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function hc(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2,b=Math.cos(c);var g=Math.sin(c);c=f*b,f*=g,b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h,d=l-c-h,g=l+c-h,c=l+c+h;var h=m-f-b,l=m-f+b,p=m+f+b,f=m+f-b;return Rb(Math.min(a,d,g,c),Math.min(h,l,p,f),Math.max(a,d,g,c),Math.max(h,l,p,f),e)}function ec(a){return a[3]-a[1]}function ic(a,b,c){return c=c?c:Hb(),jc(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]),c}function ac(a){return[a[0],a[3]]}function $b(a){return[a[2],a[3]]}function dc(a){return a[2]-a[0]}function jc(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function cc(a){return a[2]<a[0]||a[3]<a[1]}function kc(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c,a[2]+=c,a[1]-=d,a[3]+=d}function lc(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]],b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];return b=Math.min.apply(null,d),a=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e),Rb(b,a,d,e,c)}function mc(){return!0}function nc(){return!1}function oc(a){this.radius=a}function sc(a){this.hb=a.code,this.c=a.units,this.f=void 0!==a.extent?a.extent:null,this.i=void 0!==a.worldExtent?a.worldExtent:null,this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.g=void 0!==a.global?a.global:!1,this.a=!(!this.g||!this.f),this.l=a.getPointResolution,this.j=null,this.o=a.metersPerUnit;var b=a.code,c=rc||window.proj4;"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.b=b.axis),void 0===a.metersPerUnit&&(this.o=b.to_meter),void 0===a.units&&(this.c=b.units)))}function vc(a,b,c){a=a.hb,b=b.hb,a in uc||(uc[a]={}),uc[a][b]=c}function wc(a,b){var c;return a in uc&&b in uc[a]&&(c=uc[a][b]),c}function xc(a,b,c){var d=a.l;return d?b=d(b,c):"degrees"!=a.Eb()&&(d=yc(a,zc("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=d(b,b,2),b=(pc.b(b.slice(0,2),b.slice(2,4))+pc.b(b.slice(4,6),b.slice(6,8)))/2,a=a.ic(),void 0!==a&&(b/=a)),b}function Ac(a){Bc(a),a.forEach(function(b){a.forEach(function(a){b!==a&&vc(b,a,Cc)})})}function Dc(){var a=Ec,b=Fc,c=Gc;Hc.forEach(function(d){a.forEach(function(a){vc(d,a,b),vc(a,d,c)})})}function Ic(a){tc[a.hb]=a,vc(a,a,Cc)}function Bc(a){var b=[];a.forEach(function(a){b.push(Ic(a))})}function Jc(a){return a?"string"==typeof a?zc(a):a:zc("EPSG:3857")}function Kc(a,b,c,d){a=zc(a),b=zc(b),vc(a,b,Lc(c)),vc(b,a,Lc(d))}function Lc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2,c=void 0!==c?c:Array(e);var f,g;for(g=0;e>g;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;f>=2;--f)c[g+f]=b[g+f];return c}}function zc(a){var b=null;if(a instanceof sc)b=a;else if("string"==typeof a){var b=tc[a]||null,c=rc||window.proj4;b||"function"!=typeof c||void 0===c.defs(a)||(b=new sc({code:a}),Ic(b))}return b}function Mc(a,b){if(a===b)return!0;var c=a.Eb()===b.Eb();return a.hb===b.hb?c:yc(a,b)===Cc&&c}function Nc(a,b){var c=zc(a),d=zc(b);return yc(c,d)}function yc(a,b){var c=a.hb,d=b.hb,e=wc(c,d);if(!e){var f=rc||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Ac([b,a]):(e=f(d,c),Kc(b,a,e.forward,e.inverse)),e=wc(c,d))}}return e||(e=Oc),e}function Oc(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;d>c;++c)b[c]=a[c];a=b}return a}function Cc(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;d>c;++c)b[c]=a[c];c=b}else c=a.slice();return c}function Pc(a,b,c){return Nc(b,c)(a,void 0,a.length)}function Qc(a,b,c){return b=Nc(b,c),lc(a,b)}function Rc(){Sa.call(this),this.v=Hb(),this.u=-1,this.i={},this.o=this.j=0}function Sc(a,b,c,d,e,f){for(var g=f?f:[],h=0;c>b;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4],g[h++]=e[1]*l+e[3]*m+e[5]}return f&&g.length!=h&&(g.length=h),g}function Tc(a,b,c,d,e,f){var l,m,g=f?f:[],h=0;for(l=0;b>l;l+=c)for(g[h++]=a[l]+d,g[h++]=a[l+1]+e,m=l+2;l+c>m;++m)g[h++]=a[m];return f&&g.length!=h&&(g.length=h),g}function Uc(){Rc.call(this),this.ka="XY",this.a=2,this.B=null}function Vc(a){var b;return"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4),b}function Xc(a,b,c){a.a=Vc(b),a.ka=b,a.B=c}function Yc(a,b,c,d){if(b)c=Vc(b);else{for(b=0;d>b;++b){if(0===c.length)return a.ka="XY",void(a.a=2);c=c[0]}c=c.length;var e;2==c?e="XY":3==c?e="XYZ":4==c&&(e="XYZM"),b=e}a.ka=b,a.a=c}function Zc(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];c>b;b+=d)var h=a[b],l=a[b+1],e=e+(g*h-f*l),f=h,g=l;return e/2}function $c(a,b,c,d){var f,g,e=0;for(f=0,g=c.length;g>f;++f){var h=c[f],e=e+Zc(a,b,h,d);b=h}return e}function ad(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,p=a[c+1]-l;if(0!==m||0!==p)if(f=((e-h)*m+(f-l)*p)/(m*m+p*p),f>1)b=c;else if(f>0){for(e=0;d>e;++e)g[e]=pa(a[b+e],a[c+e],f);return void(g.length=d)}for(e=0;d>e;++e)g[e]=a[b+e];g.length=d}function bd(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;c>b;b+=d){var h=a[b],l=a[b+1],f=ma(f,g,h,l);f>e&&(e=f),f=h,g=l}return e}function cd(a,b,c,d,e){var f,g;for(f=0,g=c.length;g>f;++f){var h=c[f];e=bd(a,b,h,d,e),b=h}return e}function dd(a,b,c,d,e,f,g,h,l,m,p){if(b==c)return m;var n;if(0===e){if(n=ma(g,h,a[b],a[b+1]),m>n){for(p=0;d>p;++p)l[p]=a[b+p];return l.length=d,n}return m}for(var q=p?p:[0/0,0/0],r=b+d;c>r;)if(ad(a,r-d,r,d,g,h,q),n=ma(g,h,q[0],q[1]),m>n){for(m=n,p=0;d>p;++p)l[p]=q[p];l.length=d,r+=d}else r+=d*Math.max((Math.sqrt(n)-Math.sqrt(m))/e|0,1);if(f&&(ad(a,c-d,b,d,g,h,q),n=ma(g,h,q[0],q[1]),m>n)){for(m=n,p=0;d>p;++p)l[p]=q[p];l.length=d}return m}function ed(a,b,c,d,e,f,g,h,l,m,p){p=p?p:[0/0,0/0];var n,q;for(n=0,q=c.length;q>n;++n){var r=c[n];m=dd(a,b,r,d,e,f,g,h,l,m,p),b=r}return m}function fd(a,b){var d,e,c=0;for(d=0,e=b.length;e>d;++d)a[c++]=b[d];return c}function gd(a,b,c,d){var e,f;for(e=0,f=c.length;f>e;++e){var h,g=c[e];for(h=0;d>h;++h)a[b++]=g[h]}return b}function hd(a,b,c,d,e){e=e?e:[];var g,h,f=0;for(g=0,h=c.length;h>g;++g)b=gd(a,b,c[g],d),e[f++]=b;return e.length=f,e}function id(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;c>b;b+=d)e[f++]=a.slice(b,b+d);return e.length=f,e}function jd(a,b,c,d,e){e=void 0!==e?e:[];var g,h,f=0;for(g=0,h=c.length;h>g;++g){var l=c[g];e[f++]=id(a,b,l,d,e[f]),b=l}return e.length=f,e}function kd(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;c>b;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1,l[h-1]=1,c=[b,c-d];for(var p,m=0;0<c.length;){var n=c.pop(),q=c.pop(),r=0,u=a[q],w=a[q+1],y=a[n],z=a[n+1];for(p=q+d;n>p;p+=d){var A=la(a[p],a[p+1],u,w,y,z);A>r&&(m=p,r=A)}r>e&&(l[(m-b)/d]=1,m>q+d&&c.push(q,m),n>m+d&&c.push(m,n))}for(p=0;h>p;++p)l[p]&&(f[g++]=a[b+p*d],f[g++]=a[b+p*d+1]);return g}function ld(a,b,c,d,e,f,g,h){var l,m;for(l=0,m=c.length;m>l;++l){var p=c[l];a:{var n=a,q=p,r=d,u=e,w=f;if(b!=q){var y=u*Math.round(n[b]/u),z=u*Math.round(n[b+1]/u);b+=r,w[g++]=y,w[g++]=z;var A,O;do if(A=u*Math.round(n[b]/u),O=u*Math.round(n[b+1]/u),b+=r,b==q){w[g++]=A,w[g++]=O;break a}while(A==y&&O==z);for(;q>b;){var Ja,ca;if(Ja=u*Math.round(n[b]/u),ca=u*Math.round(n[b+1]/u),b+=r,Ja!=A||ca!=O){var Ma=A-y,D=O-z,La=Ja-y,kb=ca-z;Ma*kb==D*La&&(0>Ma&&Ma>La||Ma==La||Ma>0&&La>Ma)&&(0>D&&D>kb||D==kb||D>0&&kb>D)||(w[g++]=A,w[g++]=O,y=A,z=O),A=Ja,O=ca}}w[g++]=A,w[g++]=O}}h.push(g),b=p}return g}function md(a,b){Uc.call(this),this.c=this.l=-1,this.qa(a,b)}function nd(a,b,c){Xc(a,b,c),a.s()}function C(a,b){Uc.call(this),this.qa(a,b)}function pd(a,b,c,d,e){return!Xb(e,function(e){return!qd(a,b,c,d,e[0],e[1])})}function qd(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];c>b;b+=d){var m=a[b],p=a[b+1];f>=l?p>f&&(m-h)*(f-l)-(e-h)*(p-l)>0&&g++:f>=p&&0>(m-h)*(f-l)-(e-h)*(p-l)&&g--,h=m,l=p}return 0!==g}function rd(a,b,c,d,e,f){if(0===c.length||!qd(a,b,c[0],d,e,f))return!1;var g;for(b=1,g=c.length;g>b;++b)if(qd(a,c[b-1],c[b],d,e,f))return!1;return!0}function sd(a,b,c,d,e,f,g){var h,l,m,p,n,q=e[f+1],r=[],u=c[0];for(m=a[u-d],n=a[u-d+1],h=b;u>h;h+=d)p=a[h],l=a[h+1],(n>=q&&q>=l||q>=n&&l>=q)&&(m=(q-n)/(l-n)*(p-m)+m,r.push(m)),m=p,n=l;for(u=0/0,n=-(1/0),r.sort(Ya),m=r[0],h=1,l=r.length;l>h;++h){p=r[h];var w=Math.abs(p-m);w>n&&(m=(m+p)/2,rd(a,b,c,d,m,q)&&(u=m,n=w)),m=p}return isNaN(u)&&(u=e[f]),g?(g.push(u,q),g):[u,q]}function td(a,b,c,d,e,f){for(var l,g=[a[b],a[b+1]],h=[];c>b+d;b+=d){if(h[0]=a[b+d],h[1]=a[b+d+1],l=e.call(f,g,h))return l;g[0]=h[0],g[1]=h[1]}return!1}function ud(a,b,c,d,e){var f=Ub(Hb(),a,b,c,d);return jc(e,f)?Ob(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:td(a,b,c,d,function(a,b){var c=!1,d=Qb(e,a),f=Qb(e,b);if(1===d||1===f)c=!0;else{var n=e[0],q=e[1],r=e[2],u=e[3],w=b[0],y=b[1],z=(y-a[1])/(w-a[0]);2&f&&!(2&d)&&(c=w-(y-u)/z,c=c>=n&&r>=c),c||!(4&f)||4&d||(c=y-(w-r)*z,c=c>=q&&u>=c),c||!(8&f)||8&d||(c=w-(y-q)/z,c=c>=n&&r>=c),c||!(16&f)||16&d||(c=y-(w-n)*z,c=c>=q&&u>=c)}return c}):!1}function vd(a,b,c,d,e){var f=c[0];if(!(ud(a,b,f,d,e)||qd(a,b,f,d,e[0],e[1])||qd(a,b,f,d,e[0],e[3])||qd(a,b,f,d,e[2],e[1])||qd(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;for(b=1,f=c.length;f>b;++b)if(pd(a,c[b-1],c[b],d,e))return!1;return!0}function wd(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];c>b;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return e>0}function xd(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f,g;for(f=0,g=b.length;g>f;++f){var h=b[f],e=wd(a,e,h,c);if(0===f){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}function yd(a,b,c,d,e){e=void 0!==e?e:!1;var f,g;for(f=0,g=c.length;g>f;++f){var h=c[f],l=wd(a,b,h,d);if(0===f?e&&l||!e&&!l:e&&!l||!e&&l)for(var l=a,m=h,p=d;m-p>b;){var n;for(n=0;p>n;++n){var q=l[b+n];l[b+n]=l[m-p+n],l[m-p+n]=q}b+=p,m-=p}b=h}return b}function zd(a,b,c,d){var f,g,e=0;for(f=0,g=b.length;g>f;++f)e=yd(a,e,b[f],c,d);return e}function E(a,b){Uc.call(this),this.c=[],this.A=-1,this.C=null,this.P=this.D=this.L=-1,this.l=null,this.qa(a,b)}function Ad(a){if(a.A!=a.g){var b=gc(a.G());a.C=sd(a.Vb(),0,a.c,a.a,b,0),a.A=a.g}return a.C}function Bd(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;e>f;++f)bb(d,a.offset(b,c,2*Math.PI*f/e));return d.push(d[0],d[1]),a=new E(null),a.da("XY",d,[d.length]),a}function Cd(a){var b=a[0],c=a[1],d=a[2];return a=a[3],b=[b,c,b,a,d,a,d,c,b,c],c=new E(null),c.da("XY",b,[b.length]),c}function Dd(a,b,c){var d=b?b:32,e=a.pa();b=a.ka;for(var f=new E(null,b),d=e*(d+1),e=Array(d),g=0;d>g;g++)e[g]=0;return f.da(b,e,[e.length]),Ed(f,a.Fd(),a.qe(),c),f}function Ed(a,b,c,d){var e=a.ia(),f=a.ka,g=a.pa(),h=a.Kb(),l=e.length/g-1;d=d?d:0;for(var m,p,n=0;l>=n;++n)p=n*g,m=d+2*oa(n,l)*Math.PI/l,e[p]=b[0]+c*Math.cos(m),e[p+1]=b[1]+c*Math.sin(m);a.da(f,e,h)}function Fd(a){Sa.call(this),a=a||{},this.i=[0,0],this.f=[],this.Pe=this.Pe.bind(this);var b={};b[Gd]=void 0!==a.center?a.center:null,this.o=Jc(a.projection);var c,d,e,f=void 0!==a.minZoom?a.minZoom:0;c=void 0!==a.maxZoom?a.maxZoom:28;var g=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)c=a.resolutions,d=c[0],e=c[c.length-1],c=ib(c);else{d=Jc(a.projection),e=d.G();var h=(e?Math.max(dc(e),ec(e)):360*qc.degrees/d.ic())/256/Math.pow(2,0),l=h/Math.pow(2,28);d=a.maxResolution,void 0!==d?f=0:d=h/Math.pow(g,f),e=a.minResolution,void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(g,c):h/Math.pow(g,c):l),c=f+Math.floor(Math.log(d/e)/Math.log(g)),e=d/Math.pow(g,c-f),c=jb(g,d,c-f)}this.a=d,this.j=e,this.A=g,this.c=a.resolutions,this.l=f,f=void 0!==a.extent?qa(a.extent):ra,(void 0!==a.enableRotation?a.enableRotation:1)?(g=a.constrainRotation,g=void 0===g||!0===g?ob():!1===g?mb:"number"==typeof g?nb(g):mb):g=lb,this.u=new sa(f,c,g),void 0!==a.resolution?b[Hd]=a.resolution:void 0!==a.zoom&&(b[Hd]=this.constrainResolution(this.a,a.zoom-this.l)),b[Id]=void 0!==a.rotation?a.rotation:0,this.I(b)}function Ld(a){Jd(a,Kd,-Md(a)[Kd]);for(var b=0,c=a.f.length;c>b;++b){var d=a.f[b];d[0].Vc&&d[0].Vc(!1)}a.f.length=0}function Od(a,b,c){var d,e=a.fb();return void 0!==e&&(d=[e[0]-c[0],e[1]-c[1]],wb(d,b-a.Ra()),rb(d,c)),d}function Nd(a,b,c){var d,e=a.fb();return a=a.Oa(),void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]),d}function Md(a,b){return void 0!==b?(b[0]=a.i[0],b[1]=a.i[1],b):a.i.slice()}function Pd(a,b){return Math.max(dc(a)/b[0],ec(a)/b[1])}function Qd(a){var b=a.a,c=Math.log(b/a.j)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}function Rd(a){var b=a.a,c=Math.log(b/a.j)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}function Sd(a){return!!a.fb()&&void 0!==a.Oa()}function Jd(a,b,c){a.i[b]+=c,a.s()}function Td(a,b,c,d){this.ea=a,this.ca=b,this.ga=c,this.ja=d}function Ud(a,b,c){return a.ea<=b&&b<=a.ca&&a.ga<=c&&c<=a.ja}function Vd(a,b){return a.ea==b.ea&&a.ga==b.ga&&a.ca==b.ca&&a.ja==b.ja}function Wd(a,b){return a.ea<=b.ca&&a.ca>=b.ea&&a.ga<=b.ja&&a.ja>=b.ga}function Xd(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c}function Yd(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c}function Zd(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:b[0]=b[1]=a,b)}function $d(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function ae(a){var e,f,b=a[0],c=Array(b),d=1<<b-1;for(e=0;b>e;++e)f=48,a[1]&d&&(f+=1),a[2]&d&&(f+=2),c[e]=String.fromCharCode(f),d>>=1;return c.join("")}function be(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.b=a.resolutions,ha(hb(this.b,function(a,b){return b-a}),17),this.maxZoom=this.b.length-1,this.g=void 0!==a.origin?a.origin:null,this.f=null,void 0!==a.origins&&(this.f=a.origins,ha(this.f.length==this.b.length,20));var b=a.extent;void 0===b||this.g||this.f||(this.g=ac(b)),ha(!this.g&&this.f||this.g&&!this.f,18),this.c=null,void 0!==a.tileSizes&&(this.c=a.tileSizes,ha(this.c.length==this.b.length,19)),this.i=void 0!==a.tileSize?a.tileSize:this.c?null:256,ha(!this.i&&this.c||this.i&&!this.c,22),this.v=void 0!==b?b:null,this.a=null,this.j=[0,0],void 0!==a.sizes?this.a=a.sizes.map(function(a){return new Td(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&ce(this,b)}function ge(a,b,c,d,e){for(e=a.Na(b,e),b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,fe(a,e,b,d)))return!0;--b}return!1}function he(a,b,c,d){return b[0]<a.maxZoom?(d=a.Na(b,d),fe(a,d,b[0]+1,c)):null}function ie(a,b,c,d){je(a,b[0],b[1],c,!1,ee);var e=ee[1],f=ee[2];return je(a,b[2],b[3],c,!0,ee),a=ee[1],b=ee[2],void 0!==d?(d.ea=e,d.ca=a,d.ga=f,d.ja=b):d=new Td(e,a,f,b),d}function fe(a,b,c,d){return c=a.Ha(c),ie(a,b,c,d)}function ke(a,b){var c=a.Kc(b[0]),d=a.Ha(b[0]),e=Zd(a.Za(b[0]),a.j);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}function je(a,b,c,d,e,f){var g=a.Ec(d),h=d/a.Ha(g),l=a.Kc(g);return a=Zd(a.Za(g),a.j),b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0],c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1],e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c)),$d(g,b,c,f)}function ce(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;c>e;++e)d[e]=fe(a,b,e);a.a=d}function le(a){var b=a.j;if(!b){var b=me(a),c=ne(b,void 0,void 0),b=new be({extent:b,origin:ac(b),resolutions:c,tileSize:void 0});a.j=b}return b}function oe(a){var b={};return ta(b,void 0!==a?a:{}),void 0===b.extent&&(b.extent=zc("EPSG:3857").G()),b.resolutions=ne(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new be(b)}function ne(a,b,c){b=void 0!==b?b:42;var d=ec(a);for(a=dc(a),c=Zd(void 0!==c?c:256),c=Math.max(a/c[0],d/c[1]),b+=1,d=Array(b),a=0;b>a;++a)d[a]=c/Math.pow(2,a);return d}function me(a){a=zc(a);var b=a.G();return b||(a=180*qc.degrees/a.ic(),b=Rb(-a,-a,a,a)),b}function pe(a){this.b=a.html,this.a=a.tileRanges?a.tileRanges:null}function qe(a){Sa.call(this),this.a=a?a:[],re(this)}function re(a){a.set(se,a.a.length)}function te(a,b){Ia.call(this,a),this.element=b}function ye(a){return Array.isArray(a)?a:ze(a)}function Ae(a){if("string"!=typeof a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];d!=(0|d)&&(d=d+.5|0),a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}function Be(a){var b=[];return b[0]=ia(a[0]+.5|0,0,255),b[1]=ia(a[1]+.5|0,0,255),b[2]=ia(a[2]+.5|0,0,255),b[3]=ia(a[3],0,1),b}function Ce(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Ae(a)}function De(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")}function Ee(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Fe(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Ge(a,b,c){Ia.call(this,a),this.map=b,this.frameState=void 0!==c?c:null}function Ie(a){Sa.call(this),this.element=a.element?a.element:null,this.a=this.P=null,this.v=[],this.render=a.render?a.render:ea,a.target&&this.c(a.target)}function Je(a){a=a?a:{},this.L=document.createElement("UL"),this.u=document.createElement("LI"),this.L.appendChild(this.u),this.u.style.display="none",this.f=void 0!==a.collapsed?a.collapsed:!0,this.l=void 0!==a.collapsible?a.collapsible:!0,this.l||(this.f=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"»";"string"==typeof d?(this.A=document.createElement("span"),this.A.textContent=d):this.A=d,d=void 0!==a.label?a.label:"i","string"==typeof d?(this.C=document.createElement("span"),this.C.textContent=d):this.C=d;var e=this.l&&!this.f?this.A:this.C,d=document.createElement("button");d.setAttribute("type","button"),d.title=c,d.appendChild(e),B(d,"click",this.em,this),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control"+(this.f&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),c.appendChild(this.L),c.appendChild(d),Ie.call(this,{element:c,render:a.render?a.render:Ke,target:a.target}),this.D=!0,this.o={},this.j={},this.U={}}function Ke(a){if(a=a.frameState){var b,c,d,e,f,g,h,l,m,p,n,q=a.layerStatesArray,r=ta({},a.attributions),u={},w={},y=a.viewState.projection;for(c=0,b=q.length;b>c;c++)if((g=q[c].layer.la())&&(p=x(g).toString(),m=g.j))for(d=0,e=m.length;e>d;d++)if(h=m[d],l=x(h).toString(),!(l in r)){if(f=a.usedTiles[p]){var z=g.Db(y);a:{n=h;var A=y;if(n.a){var O,Ja,ca,Ma=void 0;for(Ma in f)if(Ma in n.a){ca=f[Ma];var D;for(O=0,Ja=n.a[Ma].length;Ja>O;++O){if(D=n.a[Ma][O],Wd(D,ca)){n=!0;break a}var La=fe(z,me(A),parseInt(Ma,10)),kb=La.ca-La.ea+1;if((ca.ea<La.ea||ca.ca>La.ca)&&(Wd(D,new Td(oa(ca.ea,kb),oa(ca.ca,kb),ca.ga,ca.ja))||ca.ca-ca.ea+1>kb&&Wd(D,La))){n=!0;break a}}}n=!1}else n=!0}}else n=!1;n?(l in u&&delete u[l],n=h.b,n in w||(w[n]=!0,r[l]=h)):u[l]=h}b=[r,u],c=b[0],b=b[1];for(var W in this.o)W in c?(this.j[W]||(this.o[W].style.display="",this.j[W]=!0),delete c[W]):W in b?(this.j[W]&&(this.o[W].style.display="none",delete this.j[W]),delete b[W]):(Fe(this.o[W]),delete this.o[W],delete this.j[W]);for(W in c)d=document.createElement("LI"),d.innerHTML=c[W].b,this.L.appendChild(d),this.o[W]=d,this.j[W]=!0;for(W in b)d=document.createElement("LI"),d.innerHTML=b[W].b,d.style.display="none",this.L.appendChild(d),this.o[W]=d;W=!wa(this.j)||!wa(a.logos),this.D!=W&&(this.element.style.display=W?"":"none",this.D=W),W&&wa(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var Ra;a=a.logos,W=this.U;for(Ra in W)Ra in a||(Fe(W[Ra]),delete W[Ra]);for(var Pb in a)b=a[Pb],b instanceof HTMLElement&&(this.u.appendChild(b),W[Pb]=b),Pb in W||(Ra=new Image,Ra.src=Pb,""===b?c=Ra:(c=document.createElement("a"),c.href=b,c.appendChild(Ra)),this.u.appendChild(c),W[Pb]=c);this.u.style.display=wa(a)?"none":""}else this.D&&(this.element.style.display="none",this.D=!1)}function Le(a){a.element.classList.toggle("ol-collapsed"),a.f?Ee(a.A,a.C):Ee(a.C,a.A),a.f=!a.f}function Me(a){a=a?a:{},this.f=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"⤢";this.l="string"==typeof b?document.createTextNode(b):b,b=void 0!==a.labelActive?a.labelActive:"×",this.o="string"==typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen",b=document.createElement("button");b.className=this.f+"-"+Ne(),b.setAttribute("type","button"),b.title=c,b.appendChild(this.l),B(b,"click",this.C,this),c=document.createElement("div"),c.className=this.f+" ol-unselectable ol-control "+(Oe()?"":"ol-unsupported"),c.appendChild(b),Ie.call(this,{element:c,target:a.target}),this.A=void 0!==a.keys?a.keys:!1,this.j=a.source}function Oe(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Ne(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Pe(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function Re(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"⇧";this.f=null,"string"==typeof c?(this.f=document.createElement("span"),this.f.className="ol-compass",this.f.textContent=c):(this.f=c,this.f.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation",c=document.createElement("button");c.className=b+"-reset",c.setAttribute("type","button"),c.title=d,c.appendChild(this.f),B(c,"click",Re.prototype.A,this),d=document.createElement("div"),d.className=b+" ol-unselectable ol-control",d.appendChild(c),b=a.render?a.render:Se,this.l=a.resetNorth?a.resetNorth:void 0,Ie.call(this,{element:d,render:b,target:a.target}),this.o=void 0!==a.duration?a.duration:250,this.j=void 0!==a.autoHide?a.autoHide:!0,this.u=void 0,this.j&&this.element.classList.add("ol-hidden")}function Se(a){if(a=a.frameState){if(a=a.viewState.rotation,a!=this.u){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=b,this.f.style.webkitTransform=b,this.f.style.transform=b}this.u=a}}function Te(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in",h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof d?document.createTextNode(d):d),B(h,"click",Te.prototype.j.bind(this,c)),d=document.createElement("button"),d.className=b+"-out",d.setAttribute("type","button"),d.title=g,d.appendChild("string"==typeof e?document.createTextNode(e):e),B(d,"click",Te.prototype.j.bind(this,-c)),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control",c.appendChild(h),c.appendChild(d),Ie.call(this,{element:c,target:a.target}),this.f=void 0!==a.duration?a.duration:250}function Ue(a){a=a?a:{};var b=new qe;return(void 0!==a.zoom?a.zoom:1)&&b.push(new Te(a.zoomOptions)),(void 0!==a.rotate?a.rotate:1)&&b.push(new Re(a.rotateOptions)),(void 0!==a.attribution?a.attribution:1)&&b.push(new Je(a.attributionOptions)),b}function Ve(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position",Ie.call(this,{element:b,render:a.render?a.render:We,target:a.target}),B(this,Ua(Xe),this.hm,this),a.coordinateFormat&&this.oi(a.coordinateFormat),a.projection&&this.sh(zc(a.projection)),this.u=void 0!==a.undefinedHTML?a.undefinedHTML:"",this.o=b.innerHTML,
this.l=this.j=this.f=null}function We(a){a=a.frameState,a?this.f!=a.viewState.projection&&(this.f=a.viewState.projection,this.j=null):this.f=null,Ye(this,this.l)}function Ye(a,b){var c=a.u;if(b&&a.f){if(!a.j){var d=a.rh();a.j=d?yc(a.f,d):Oc}(d=a.a.Sa(b))&&(a.j(d,d),c=(c=a.Lg())?c(d):d.toString())}a.o&&c==a.o||(a.element.innerHTML=c,a.o=c)}function $e(a,b,c,d,e){Ge.call(this,a,b,e),this.originalEvent=c,this.pixel=b.ce(c),this.coordinate=b.Sa(this.pixel),this.dragging=void 0!==d?d:!1}function cf(a,b,c,d,e){$e.call(this,a,b,c.b,d,e),this.b=c}function ef(a,b){var c,d,e=df.length;for(d=0;e>d;++d)try{if(c=a.getContext(df[d],b))return c}catch(f){}return null}function yf(a,b){this.b=a,this.c=b}function zf(a){yf.call(this,a,{mousedown:this.tl,mousemove:this.ul,mouseup:this.xl,mouseover:this.wl,mouseout:this.vl}),this.a=a.g,this.g=[]}function Af(a,b){for(var h,c=a.g,d=b.clientX,e=b.clientY,f=0,g=c.length;g>f&&(h=c[f]);f++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function Bf(a){var b=Cf(a,a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=1,b.isPrimary=!0,b.pointerType="mouse",b}function Gf(a){yf.call(this,a,{MSPointerDown:this.Cl,MSPointerMove:this.Dl,MSPointerUp:this.Gl,MSPointerOut:this.El,MSPointerOver:this.Fl,MSPointerCancel:this.Bl,MSGotPointerCapture:this.zl,MSLostPointerCapture:this.Al}),this.a=a.g,this.g=["","unavailable","touch","pen","mouse"]}function Hf(a,b){var c=b;return"number"==typeof b.pointerType&&(c=Cf(b,b),c.pointerType=a.g[b.pointerType]),c}function Jf(a){yf.call(this,a,{pointerdown:this.po,pointermove:this.qo,pointerup:this.to,pointerout:this.ro,pointerover:this.so,pointercancel:this.oo,gotpointercapture:this.Lk,lostpointercapture:this.sl})}function If(a,b,c){Ia.call(this,a),this.b=b,a=c?c:{},this.buttons=Lf(a),this.pressure=Mf(a,this.buttons),this.bubbles="bubbles"in a?a.bubbles:!1,this.cancelable="cancelable"in a?a.cancelable:!1,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.pointerType="pointerType"in a?a.pointerType:"",this.isPrimary="isPrimary"in a?a.isPrimary:!1,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}function Lf(a){if(a.buttons||Nf)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Mf(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}function Of(a,b){yf.call(this,a,{touchstart:this.up,touchmove:this.tp,touchend:this.sp,touchcancel:this.rp}),this.a=a.g,this.j=b,this.g=void 0,this.i=0,this.f=void 0}function Pf(a,b,c){return b=Cf(b,c),b.pointerId=c.identifier+2,b.bubbles=!0,b.cancelable=!0,b.detail=a.i,b.button=0,b.buttons=1,b.width=c.webkitRadiusX||c.radiusX||0,b.height=c.webkitRadiusY||c.radiusY||0,b.pressure=c.webkitForce||c.force||.5,b.isPrimary=a.g===c.identifier,b.pointerType="touch",b.clientX=c.clientX,b.clientY=c.clientY,b.screenX=c.screenX,b.screenY=c.screenY,b}function Qf(a,b,c){function d(){b.preventDefault()}var g,h,e=Array.prototype.slice.call(b.changedTouches),f=e.length;for(g=0;f>g;++g)h=Pf(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}function Rf(a,b){var c=a.j.g,d=b.changedTouches[0];if(a.g===d.identifier){var e=[d.clientX,d.clientY];c.push(e),setTimeout(function(){var a=c.indexOf(e);a>-1&&c.splice(a,1)},2500)}}function Tf(a){Na.call(this),this.i=a,this.g={},this.c={},this.a=[],sf?Uf(this,new Jf(this)):tf?Uf(this,new Gf(this)):(a=new zf(this),Uf(this,a),rf&&Uf(this,new Of(this,a))),a=this.a.length;for(var b,c=0;a>c;c++)b=this.a[c],Vf(this,Object.keys(b.c))}function Uf(a,b){var c=Object.keys(b.c);c&&(c.forEach(function(a){var c=b.c[a];c&&(this.c[a]=c.bind(b))},a),a.a.push(b))}function Vf(a,b){b.forEach(function(a){B(this.i,a,this.f,this)},a)}function Wf(a,b){b.forEach(function(a){Ea(this.i,a,this.f,this)},a)}function Cf(a,b){for(var d,c={},e=0,f=Xf.length;f>e;e++)d=Xf[e][0],c[d]=a[d]||b[d]||Xf[e][1];return c}function Sf(a,b,c){b.bubbles=!1,Df(a,"pointerleave",b,c)}function Ff(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||Sf(a,b,c)}function Ef(a,b,c){b.bubbles=!0,Df(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,Df(a,"pointerenter",b,c))}function Df(a,b,c,d){a.b(new If(b,d,c))}function Kf(a,b){a.b(new If(b.type,b,b))}function Yf(a){Na.call(this),this.f=a,this.j=0,this.l=!1,this.c=[],this.g=null,a=this.f.f,this.u=0,this.H={},this.i=new Tf(a),this.a=null,this.o=B(this.i,"pointerdown",this.cl,this),this.v=B(this.i,"pointermove",this.So,this)}function Zf(a,b){var c=new cf("click",a.f,b);a.b(c),0!==a.j?(clearTimeout(a.j),a.j=0,c=new cf("dblclick",a.f,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new cf("singleclick",this.f,b);this.b(a)}.bind(a),250)}function $f(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.H[b.pointerId]:"pointerdown"==b.type&&(a.H[b.pointerId]=!0),a.u=Object.keys(a.H).length}function ag(a,b){Na.call(this),this.Ca=a,this.state=b,this.a=null,this.key=""}function bg(a){if(!a.a)return a;var b=a.a;do{if(b.W()==cg)return b;b=b.a}while(b);return a}function dg(a,b){this.o=a,this.f=b,this.b=[],this.g=[],this.a={}}function eg(a){var b=a.b,c=a.g,d=b[0];return 1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),fg(a,0)),b=a.f(d),delete a.a[b],d}function fg(a,b){for(var c=a.b,d=a.g,e=c.length,f=c[b],g=d[b],h=b;e>>1>b;){var l=2*b+1,m=2*b+2,l=e>m&&d[m]<d[l]?m:l;c[b]=c[l],d[b]=d[l],b=l}c[b]=f,d[b]=g,gg(a,h,b)}function gg(a,b,c){var d=a.b;a=a.g;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(!(a[g]>f))break;d[c]=d[g],a[c]=a[g],c=g}d[c]=e,a[c]=f}function hg(a){var g,h,l,b=a.o,c=a.b,d=a.g,e=0,f=c.length;for(h=0;f>h;++h)g=c[h],l=b(g),1/0==l?delete a.a[a.f(g)]:(d[e]=l,c[e++]=g);for(c.length=e,d.length=e,b=(a.b.length>>1)-1;b>=0;b--)fg(a,b)}function ig(a,b){dg.call(this,function(b){return a.apply(null,b)},function(a){return a[0].bb()}),this.v=b,this.j=0,this.i={}}function jg(a,b,c){for(var e,f,d=0;a.j<b&&c>d&&0<a.b.length;)e=eg(a)[0],f=e.bb(),0!==e.W()||f in a.i||(a.i[f]=!0,++a.j,++d,e.load())}function kg(a,b,c){this.c=a,this.f=b,this.i=c,this.b=[],this.a=this.g=0}function lg(a){Sa.call(this),this.v=null,this.Ea(!0),this.handleEvent=a.handleEvent}function ng(a,b,c,d){if(void 0!==b){var e=a.Ra(),f=a.fb();void 0!==e&&f&&d>0?a.animate({rotation:b,anchor:c,duration:d,easing:Cb}):a.rotate(b,c)}}function og(a,b,c,d){var e=a.Oa();b=a.constrainResolution(e,b,0),pg(a,b,c,d)}function pg(a,b,c,d){if(b){var e=a.Oa(),f=a.fb();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:Cb}):(c&&(c=Nd(a,b,c),a.Mb(c)),a.Oc(b))}}function qg(a){a=a?a:{},this.a=a.delta?a.delta:1,lg.call(this,{handleEvent:rg}),this.i=void 0!==a.duration?a.duration:250}function rg(a){var b=!1,c=a.originalEvent;if("dblclick"==a.type){var b=a.coordinate,c=c.shiftKey?-this.a:this.a,d=a.map.aa();og(d,c,b,this.i),a.preventDefault(),b=!0}return!b}function sg(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function tg(a){return a=a.originalEvent,0==a.button&&!(kf&&lf&&a.ctrlKey)}function ug(a){return"pointermove"==a.type}function vg(a){return"singleclick"==a.type}function wg(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function xg(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function yg(a){return a=a.originalEvent.target.tagName,"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function zg(a){return ha(a.b,56),"mouse"==a.b.pointerType}function Ag(a){return a=a.b,a.isPrimary&&0===a.button}function Bg(a){a=a?a:{},lg.call(this,{handleEvent:a.handleEvent?a.handleEvent:Cg}),this.Ve=a.handleDownEvent?a.handleDownEvent:nc,this.bf=a.handleDragEvent?a.handleDragEvent:ea,this.cf=a.handleMoveEvent?a.handleMoveEvent:ea,this.df=a.handleUpEvent?a.handleUpEvent:nc,this.A=!1,this.Z={},this.l=[]}function Dg(a){for(var b=a.length,c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}function Cg(a){if(!(a instanceof cf))return!0;var b=!1,c=a.type;return("pointerdown"===c||"pointerdrag"===c||"pointerup"===c)&&(c=a.b,"pointerup"==a.type?delete this.Z[c.pointerId]:"pointerdown"==a.type?this.Z[c.pointerId]=c:c.pointerId in this.Z&&(this.Z[c.pointerId]=c),this.l=va(this.Z)),this.A&&("pointerdrag"==a.type?this.bf(a):"pointerup"==a.type&&(this.A=this.df(a))),"pointerdown"==a.type?(this.A=a=this.Ve(a),b=this.Qc(a)):"pointermove"==a.type&&this.cf(a),!b}function Eg(a){Bg.call(this,{handleDownEvent:Fg,handleDragEvent:Gg,handleUpEvent:Hg}),a=a?a:{},this.a=a.kinetic,this.i=null,this.o=a.condition?a.condition:wg,this.j=!1}function Gg(a){var b=Dg(this.l);if(this.a&&this.a.b.push(b[0],b[1],Date.now()),this.i){var c=this.i[0]-b[0],d=b[1]-this.i[1];a=a.map.aa();var e=a.W(),c=[c,d];xb(c,e.resolution),wb(c,e.rotation),rb(c,e.center),c=a.Zd(c),a.Mb(c)}this.i=b}function Hg(a){var b=a.map;if(a=b.aa(),0===this.l.length){var c;if(c=!this.j&&this.a)if(c=this.a,6>c.b.length)c=!1;else{var d=Date.now()-c.i,e=c.b.length-3;if(c.b[e+2]<d)c=!1;else{for(var f=e-3;f>0&&c.b[f+2]>d;)f-=3;var d=c.b[e+2]-c.b[f+2],g=c.b[e]-c.b[f],e=c.b[e+1]-c.b[f+1];c.g=Math.atan2(e,g),c.a=Math.sqrt(g*g+e*e)/d,c=c.a>c.f}}return c&&(c=this.a,c=(c.f-c.a)/c.c,e=this.a.g,f=a.fb(),f=b.Ga(f),b=b.Sa([f[0]-c*Math.cos(e),f[1]-c*Math.sin(e)]),a.animate({center:a.Zd(b),duration:500,easing:Cb})),Jd(a,1,-1),!1}return this.i=null,!0}function Fg(a){if(0<this.l.length&&this.o(a)){var b=a.map.aa();return this.i=null,this.A||Jd(b,1,1),b.Mb(a.frameState.viewState.center),this.a&&(a=this.a,a.b.length=0,a.g=0,a.a=0),this.j=1<this.l.length,!0}return!1}function Ig(a){a=a?a:{},Bg.call(this,{handleDownEvent:Jg,handleDragEvent:Kg,handleUpEvent:Lg}),this.i=a.condition?a.condition:sg,this.a=void 0,this.j=void 0!==a.duration?a.duration:250}function Kg(a){if(zg(a)){var b=a.map,c=b.nb();if(a=a.pixel,c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2),void 0!==this.a){a=c-this.a;var b=b.aa(),d=b.Ra();ng(b,d-a)}this.a=c}}function Lg(a){if(!zg(a))return!0;a=a.map.aa(),Jd(a,1,-1);var b=a.Ra(),c=this.j,b=a.constrainRotation(b,0);return ng(a,b,void 0,c),!1}function Jg(a){return zg(a)&&tg(a)&&this.i(a)?(Jd(a.map.aa(),1,1),this.a=void 0,!0):!1}function Mg(a){this.f=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+a,this.g=this.c=this.b=null}function Ng(a){var b=a.c,c=a.g;a=a.a.style,a.left=Math.min(b[0],c[0])+"px",a.top=Math.min(b[1],c[1])+"px",a.width=Math.abs(c[0]-b[0])+"px",a.height=Math.abs(c[1]-b[1])+"px"}function Og(a){var b=a.c,c=a.g,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Sa,a.b);b[4]=b[0].slice(),a.f?a.f.qa([b]):a.f=new E([b])}function Pg(a){Bg.call(this,{handleDownEvent:Qg,handleDragEvent:Rg,handleUpEvent:Sg}),a=a?a:{},this.a=new Mg(a.className||"ol-dragbox"),this.i=null,this.u=a.condition?a.condition:mc,this.o=a.boxEndCondition?a.boxEndCondition:Tg}function Tg(a,b,c){return a=c[0]-b[0],b=c[1]-b[1],a*a+b*b>=64}function Rg(a){if(zg(a)){var b=this.a,c=a.pixel;b.c=this.i,b.g=c,Og(b),Ng(b),this.b(new Ug(Vg,a.coordinate,a))}}function Sg(a){return zg(a)?(this.a.setMap(null),this.o(a,this.i,a.pixel)&&(this.j(a),this.b(new Ug(Wg,a.coordinate,a))),!1):!0}function Qg(a){if(zg(a)&&tg(a)&&this.u(a)){this.i=a.pixel,this.a.setMap(a.map);var b=this.a,c=this.i;return b.c=this.i,b.g=c,Og(b),Ng(b),this.b(new Ug(Xg,a.coordinate,a)),!0}return!1}function Ug(a,b,c){Ia.call(this,a),this.coordinate=b,this.mapBrowserEvent=c}function Yg(a){a=a?a:{};var b=a.condition?a.condition:xg;this.C=void 0!==a.duration?a.duration:200,this.D=void 0!==a.out?a.out:!1,Pg.call(this,{condition:b,className:a.className||"ol-dragzoom"})}function Zg(a){lg.call(this,{handleEvent:$g}),a=a||{},this.a=function(a){return wg(a)&&yg(a)},this.i=void 0!==a.condition?a.condition:this.a,this.j=void 0!==a.duration?a.duration:100,this.l=void 0!==a.pixelDelta?a.pixelDelta:128}function $g(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.i(a)&&(40==c||37==c||39==c||38==c)){var b=a.map.aa(),d=b.Oa()*this.l,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d,d=[e,f],wb(d,b.Ra()),c=this.j,(e=b.fb())&&(d=b.Zd([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:Eb,center:d}):b.Mb(d)),a.preventDefault(),b=!0}}return!b}function ah(a){lg.call(this,{handleEvent:bh}),a=a?a:{},this.i=a.condition?a.condition:yg,this.a=a.delta?a.delta:1,this.j=void 0!==a.duration?a.duration:100}function bh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.i(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.aa(),og(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b}function ch(a){lg.call(this,{handleEvent:dh}),a=a||{},this.j=0,this.L=void 0!==a.duration?a.duration:250,this.U=void 0!==a.timeout?a.timeout:80,this.A=void 0!==a.useAnchor?a.useAnchor:!0,this.a=null,this.o=this.l=this.u=this.i=void 0}function dh(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault();var b=a.map,c=a.originalEvent;this.A&&(this.a=a.coordinate);var d;if("wheel"==a.type?(d=c.deltaY,hf&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=mf),c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)):"mousewheel"==a.type&&(d=-c.wheelDeltaY,jf&&(d/=3)),0===d)return!1;if(a=Date.now(),void 0===this.i&&(this.i=a),(!this.l||400<a-this.i)&&(this.l=4>Math.abs(d)?eh:fh),this.l===eh){b=b.aa(),this.o?clearTimeout(this.o):Jd(b,1,1),this.o=setTimeout(this.C.bind(this),400),d=b.Oa()*Math.pow(2,d/300);var c=b.j,e=b.a,f=0;if(c>d?(d=Math.max(d,c/1.5),f=1):d>e&&(d=Math.min(d,1.5*e),f=-1),this.a){var g=Nd(b,d,this.a);b.Mb(g)}return b.Oc(d),f>0?b.animate({resolution:c,easing:Cb,anchor:this.a,duration:500}):0>f&&b.animate({resolution:e,easing:Cb,anchor:this.a,duration:500}),this.i=a,!1}return this.j+=d,a=Math.max(this.U-(a-this.i),0),clearTimeout(this.u),this.u=setTimeout(this.D.bind(this,b),a),!1}function gh(a){Bg.call(this,{handleDownEvent:hh,handleDragEvent:ih,handleUpEvent:jh}),a=a||{},this.i=null,this.j=void 0,this.a=!1,this.o=0,this.C=void 0!==a.threshold?a.threshold:.3,this.u=void 0!==a.duration?a.duration:250}function ih(a){var b=0,c=this.l[0],d=this.l[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.o+=b,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0)),this.j=c,a=a.map,c=a.f.getBoundingClientRect(),d=Dg(this.l),d[0]-=c.left,d[1]-=c.top,this.i=a.Sa(d),this.a&&(c=a.aa(),d=c.Ra(),a.render(),ng(c,d+b,this.i))}function jh(a){if(2>this.l.length){if(a=a.map.aa(),Jd(a,1,-1),this.a){var b=a.Ra(),c=this.i,d=this.u,b=a.constrainRotation(b,0);ng(a,b,c,d)}return!1}return!0}function hh(a){return 2<=this.l.length?(a=a.map,this.i=null,this.j=void 0,this.a=!1,this.o=0,this.A||Jd(a.aa(),1,1),!0):!1}function kh(a){Bg.call(this,{handleDownEvent:lh,handleDragEvent:nh,handleUpEvent:oh}),a=a?a:{},this.o=a.constrainResolution||!1,this.i=null,this.u=void 0!==a.duration?a.duration:400,this.a=void 0,this.j=1}function nh(a){var b=1,c=this.l[0],d=this.l[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e),this.a=e,1!=b&&(this.j=b),a=a.map;var e=a.aa(),c=e.Oa(),d=a.f.getBoundingClientRect(),f=Dg(this.l);f[0]-=d.left,f[1]-=d.top,this.i=a.Sa(f),a.render(),pg(e,c*b,this.i)}function oh(a){if(2>this.l.length){if(a=a.map.aa(),Jd(a,1,-1),this.o){var b=a.Oa(),c=this.i,d=this.u,b=a.constrainResolution(b,0,this.j-1);pg(a,b,c,d)}return!1}return!0}function lh(a){return 2<=this.l.length?(a=a.map,this.i=null,this.a=void 0,this.j=1,this.A||Jd(a.aa(),1,1),!0):!1}function ph(a){a=a?a:{};var b=new qe,c=new kg(-.005,.05,100);return(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new Ig),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new qg({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&b.push(new Eg({kinetic:c})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new gh),(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new kh({duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(b.push(new Zg),b.push(new ah({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new ch({duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new Yg({duration:a.zoomDuration})),b}function qh(a){Sa.call(this);var b=ta({},a);b[rh]=void 0!==a.opacity?a.opacity:1,b[sh]=void 0!==a.visible?a.visible:!0,b[th]=void 0!==a.zIndex?a.zIndex:0,b[uh]=void 0!==a.maxResolution?a.maxResolution:1/0,b[vh]=void 0!==a.minResolution?a.minResolution:0,this.I(b),this.a={layer:this,me:!0}}function wh(a){return a.a.opacity=ia(a.Yb(),0,1),a.a.Ei=a.uf(),a.a.visible=a.Fb(),a.a.extent=a.G(),a.a.zIndex=a.Zb(),a.a.maxResolution=a.Wb(),a.a.minResolution=Math.max(a.Xb(),0),a.a}function yh(a){var b=a||{};a=ta({},b),delete a.layers,b=b.layers,qh.call(this,a),this.c=[],this.f={},B(this,Ua(zh),this.Wk,this),b?Array.isArray(b)?b=new qe(b.slice()):ha(b instanceof qe,43):b=new qe,this.yh(b)}function Ah(a){sc.call(this,{code:a,units:"m",extent:Bh,global:!0,worldExtent:Ch,getPointResolution:function(a,c){return a/ja(c[1]/6378137)}})}function Fc(a,b,c){var d=a.length;c=c>1?c:2,void 0===b&&(b=c>2?a.slice():Array(d));for(var e=0;d>e;e+=c){b[e]=Dh*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Dh?f=Dh:-Dh>f&&(f=-Dh),b[e+1]=f}return b}function Gc(a,b,c){var d=a.length;c=c>1?c:2,void 0===b&&(b=c>2?a.slice():Array(d));for(var e=0;d>e;e+=c)b[e]=180*a[e]/Dh,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b}function Fh(a,b){sc.call(this,{code:a,units:"degrees",extent:Gh,axisOrientation:b,global:!0,metersPerUnit:Hh,worldExtent:Gh})}function Ih(){Ac(Ec),Ac(Hc),Dc()}function Jh(a,b,c,d,e){Ia.call(this,a),this.vectorContext=b,this.frameState=c,this.context=d,this.glContext=e}function Kh(a){var b=ta({},a);delete b.source,qh.call(this,b),this.A=this.v=this.o=null,a.map&&this.setMap(a.map),B(this,Ua("source"),this.il,this),this.Pc(a.source?a.source:null)}function Lh(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}function Mh(){this.b={},this.a=0}function Ph(){return[1,0,0,1,0,0]}function Qh(a){return Rh(a,1,0,0,1,0,0)}function Sh(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],p=b[2],n=b[3],q=b[4],r=b[5];return a[0]=c*l+e*m,a[1]=d*l+f*m,a[2]=c*p+e*n,a[3]=d*p+f*n,a[4]=c*q+e*r+g,a[5]=d*q+f*r+h,a}function Rh(a,b,c,d,e,f,g){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a}function Th(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Uh(a,b){var c=b[0],d=b[1];return b[0]=a[0]*c+a[2]*d+a[4],b[1]=a[1]*c+a[3]*d+a[5],b}function Vh(a,b){var c=Math.cos(b),d=Math.sin(b);Sh(a,Rh(Oh,c,d,-d,c,0,0))}function Wh(a,b,c){return Sh(a,Rh(Oh,b,0,0,c,0,0))}function Xh(a,b,c){Sh(a,Rh(Oh,1,0,0,1,b,c))}function Yh(a,b,c,d,e,f,g,h){var l=Math.sin(f);return f=Math.cos(f),a[0]=d*f,a[1]=e*l,a[2]=-d*l,a[3]=e*f,a[4]=g*d*f-h*d*l+b,a[5]=g*e*l+h*e*f+c,a}function Zh(a){var b=a[0]*a[3]-a[1]*a[2];ha(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];return a[0]=f/b,a[1]=-d/b,a[2]=-e/b,a[3]=c/b,a[4]=(e*h-f*g)/b,a[5]=-(c*h-d*g)/b,a}function $h(a,b){this.l=b,this.f={},this.v={}}function ai(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;Yh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),Zh(Th(d,c))}function bi(){if(32<Nh.a){var b,c,a=0;for(b in Nh.b)c=Nh.b[b],0!==(3&a++)||Oa(c)||(delete Nh.b[b],--Nh.a)}}function ci(a,b){var c=x(b).toString();if(c in a.f)return a.f[c];var d=a.Ag(b);return a.f[c]=d,a.v[c]=B(d,"change",a.Uk,a),d}function di(a,b){for(var c in a.f)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.Yo.bind(a));break}}function fb(a,b){return a.zIndex-b.zIndex}function ei(a){Kh.call(this,a?a:{})}function F(a){a=a?a:{};var b=ta({},a);delete b.preload,delete b.useInterimTilesOnError,Kh.call(this,b),this.l(void 0!==a.preload?a.preload:0),this.C(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}function hi(a,b,c,d,e){Na.call(this),this.j=e,this.extent=a,this.f=c,this.resolution=b,this.state=d}function ii(a,b,c,d,e,f,g){hi.call(this,a,b,c,ji,d),this.o=e,this.g=new Image,null!==f&&(this.g.crossOrigin=f),this.i={},this.c=null,this.state=ji,this.l=g}function qi(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}function ri(a){this.l=a.opacity,this.H=a.rotateWithView,this.o=a.rotation,this.i=a.scale,this.u=a.snapToPixel}function si(a){this.C=this.A=this.j=null,this.f=void 0!==a.fill?a.fill:null,this.P=[0,0],this.b=a.points,this.a=void 0!==a.radius?a.radius:a.radius1,this.c=void 0!==a.radius2?a.radius2:this.a,this.v=void 0!==a.angle?a.angle:0,this.g=void 0!==a.stroke?a.stroke:null,this.L=this.va=this.U=this.ra=null,this.D=a.atlasManager,ti(this,this.D),ri.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}function ti(a,b){var c,h,d="",e="",f=0,g=null,l=0;a.g&&(h=Ce(a.g.b),l=a.g.f,void 0===l&&(l=1),g=a.g.g,nf||(g=null),e=a.g.i,void 0===e&&(e="round"),d=a.g.c,void 0===d&&(d="round"),f=a.g.j,void 0===f&&(f=10));var m=2*(a.a+l)+1,d={strokeStyle:h,Fi:l,size:m,lineCap:d,lineDash:g,lineJoin:e,miterLimit:f};void 0===b?(e=De(m,m),a.A=e.canvas,c=m=a.A.width,a.Eg(d,e,0,0),a.L=[d.size,d.size],a.f?a.C=a.A:(e=De(d.size,d.size),a.C=e.canvas,a.Dg(d,e,0,0))):(m=Math.round(m),(e=!a.f)&&(c=a.Dg.bind(a,d)),a.g?(f=a.g,void 0===f.a&&(f.a="s",f.a=f.b?"string"==typeof f.b?f.a+f.b:f.a+x(f.b).toString():f.a+"-",f.a+=","+(void 0!==f.c?f.c.toString():"-")+","+(f.g?f.g.toString():"-")+","+(void 0!==f.i?f.i:"-")+","+(void 0!==f.j?f.j.toString():"-")+","+(void 0!==f.f?f.f.toString():"-")),f=f.a):f="-",a.f?(g=a.f,void 0===g.a&&(g.a=g.b instanceof CanvasPattern||g.b instanceof CanvasGradient?x(g.b).toString():"f"+(g.b?Ae(g.b):"-")),g=g.a):g="-",a.j&&f==a.j[1]&&g==a.j[2]&&a.a==a.j[3]&&a.c==a.j[4]&&a.v==a.j[5]&&a.b==a.j[6]||(a.j=["r"+f+g+(void 0!==a.a?a.a.toString():"-")+(void 0!==a.c?a.c.toString():"-")+(void 0!==a.v?a.v.toString():"-")+(void 0!==a.b?a.b.toString():"-"),f,g,a.a,a.c,a.v,a.b]),d=b.add(a.j[0],m,m,a.Eg.bind(a,d),c),a.A=d.image,a.P=[d.offsetX,d.offsetY],c=d.image.width,e?(a.C=d.yf,a.L=[d.yf.width,d.yf.height]):(a.C=a.A,a.L=[c,c])),a.ra=[m/2,m/2],a.U=[m,m],a.va=[c,c]}function ui(a){a=a||{},si.call(this,{points:1/0,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}function vi(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.a=void 0}function wi(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.c=a.lineCap,this.g=void 0!==a.lineDash?a.lineDash:null,this.i=a.lineJoin,this.j=a.miterLimit,this.f=a.width,this.a=void 0}function xi(a){a=a||{},this.i=null,this.c=yi,void 0!==a.geometry&&this.Pa(a.geometry),this.f=void 0!==a.fill?a.fill:null,this.a=void 0!==a.image?a.image:null,this.g=void 0!==a.stroke?a.stroke:null,this.j=void 0!==a.text?a.text:null,this.b=a.zIndex}function zi(a){if("function"!=typeof a){var b;Array.isArray(a)?b=a:(ha(a instanceof xi,41),b=[a]),a=function(){return b}}return a}function Bi(){if(!Ai){var a=new vi({color:"rgba(255,255,255,0.4)"}),b=new wi({color:"#3399CC",width:1.25});Ai=[new xi({image:new ui({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Ai}function Ci(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a.Polygon=[new xi({fill:new vi({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new xi({stroke:new wi({color:b,width:5})}),new xi({stroke:new wi({color:c,width:3})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new xi({image:new ui({radius:6,fill:new vi({color:c}),stroke:new wi({color:b,width:1.5})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function yi(a){return a.V()}function G(a){a=a?a:{};var b=ta({},a);delete b.style,delete b.renderBuffer,delete b.updateWhileAnimating,delete b.updateWhileInteracting,Kh.call(this,b),this.i=void 0!==a.renderBuffer?a.renderBuffer:100,this.C=null,this.j=void 0,this.l(a.style),this.Z=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1,this.fa=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}function H(a){a=a?a:{};var b=ta({},a);delete b.preload,delete b.useInterimTilesOnError,G.call(this,b),this.P(a.preload?a.preload:0),this.U(a.useInterimTilesOnError?a.useInterimTilesOnError:!0),ha(void 0==a.renderMode||a.renderMode==Di||a.renderMode==Ei||a.renderMode==Fi,28),this.u=a.renderMode||Ei}function Ii(){}function Ji(a,b,c,d,e){this.f=a,this.A=b,this.c=c,this.C=d,this.fc=e,this.i=this.b=this.a=this.Z=this.Qa=this.U=null,this.fa=this.eb=this.H=this.ra=this.L=this.D=0,this.sa=!1,this.j=this.zb=0,this.na=!1,this.va=0,this.g="",this.xa=this.Fa=0,this.Ja=!1,this.o=this.Ua=0,this.P=this.v=this.l=null,this.u=[],this.Ob=Ph()}function Ki(a,b,c){if(a.i){b=Sc(b,0,c,2,a.C,a.u),c=a.f;var d=a.Ob,e=c.globalAlpha;1!=a.H&&(c.globalAlpha=e*a.H);var f=a.zb;a.sa&&(f+=a.fc);var g,h;for(g=0,h=b.length;h>g;g+=2){var l=b[g]-a.D,m=b[g+1]-a.L;if(a.na&&(l=Math.round(l),m=Math.round(m)),0!==f||1!=a.j){var p=l+a.D,n=m+a.L;Yh(d,p,n,a.j,a.j,f,-p,-n),c.setTransform.apply(c,d)}c.drawImage(a.i,a.eb,a.fa,a.va,a.ra,l,m,a.va,a.ra)}0===f&&1==a.j||c.setTransform(1,0,0,1,0,0),1!=a.H&&(c.globalAlpha=e)}}function Li(a,b,c,d){var e=0;if(a.P&&""!==a.g){a.l&&Mi(a,a.l),a.v&&Ni(a,a.v);var f=a.P,g=a.f,h=a.Z;for(h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Z={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),b=Sc(b,e,c,d,a.C,a.u),f=a.f,g=a.Ua,a.Ja&&(g+=a.fc);c>e;e+=d){var h=b[e]+a.Fa,l=b[e+1]+a.xa;if(0!==g||1!=a.o){var m=Yh(a.Ob,h,l,a.o,a.o,g,-h,-l);f.setTransform.apply(f,m)}a.v&&f.strokeText(a.g,h,l),a.l&&f.fillText(a.g,h,l)}0===g&&1==a.o||f.setTransform(1,0,0,1,0,0)}}function Oi(a,b,c,d,e,f){var g=a.f;for(a=Sc(b,c,d,e,a.C,a.u),g.moveTo(a[0],a[1]),b=a.length,f&&(b-=2),c=2;b>c;c+=2)g.lineTo(a[c],a[c+1]);return f&&g.closePath(),d}function Pi(a,b,c,d,e){var f,g;for(f=0,g=d.length;g>f;++f)c=Oi(a,b,c,d[f],e,!0);return c}function Mi(a,b){var c=a.f,d=a.U;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.U={fillStyle:b.fillStyle})}function Ni(a,b){var c=a.f,d=a.Qa;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),nf&&!db(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,nf&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Qa={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}function Ui(a){Pa.call(this),this.a=a}function Xi(a,b){var c=b.W();return c!=li&&c!=ki&&B(b,"change",a.Fa,a),c==ji&&(b.load(),c=b.W()),c==li}function Wi(a){var b=a.a;b.Fb()&&"ready"==b.uf()&&a.s()}function Yi(a,b){b.Ih()&&a.postRenderFunctions.push(function(a,b,e){b=x(a).toString(),a.Wc(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Zi(a,b){if(b){var c,d,e;for(d=0,e=b.length;e>d;++d)c=b[d],a[x(c).toString()]=c}}function $i(a,b){var c=b.L;void 0!==c&&("string"==typeof c?a.logos[c]="":c&&(ha("string"==typeof c.href,44),ha("string"==typeof c.src,45),a.logos[c.src]=c.href))}function aj(a,b,c,d){b=x(b).toString(),c=c.toString(),b in a?c in a[b]?(a=a[b][c],d.ea<a.ea&&(a.ea=d.ea),d.ca>a.ca&&(a.ca=d.ca),d.ga<a.ga&&(a.ga=d.ga),d.ja>a.ja&&(a.ja=d.ja)):a[b][c]=d:(a[b]={},a[b][c]=d)}function bj(a,b,c,d,e,f,g,h,l,m){var p=x(b).toString();p in a.wantedTiles||(a.wantedTiles[p]={});var n=a.wantedTiles[p];a=a.tileQueue;var r,u,w,y,z,A,q=c.minZoom;for(A=g;A>=q;--A)for(u=fe(c,f,A,u),w=c.Ha(A),y=u.ea;y<=u.ca;++y)for(z=u.ga;z<=u.ja;++z)h>=g-A?(r=b.Dc(A,y,z,d,e),0==r.W()&&(n[r.bb()]=!0,r.bb()in a.a||a.c([r,p,ke(c,r.Ca),w])),void 0!==l&&l.call(m,r)):b.ig(A,y,z,e)}function cj(a){Ui.call(this,a),this.xa=Ph()}function dj(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=ac(c),l=$b(c),m=Zb(c);c=Yb(c),Uh(b.coordinateToPixelTransform,h),Uh(b.coordinateToPixelTransform,l),Uh(b.coordinateToPixelTransform,m),Uh(b.coordinateToPixelTransform,c),a.save(),qi(a,-g,e/2,f/2),a.beginPath(),a.moveTo(h[0]*d,h[1]*d),a.lineTo(l[0]*d,l[1]*d),a.lineTo(m[0]*d,m[1]*d),a.lineTo(c[0]*d,c[1]*d),a.clip(),qi(a,g,e/2,f/2)}function ej(a,b,c,d,e){var f=a.a;if(Oa(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;qi(c,-l,g/2,h/2),a=void 0!==e?e:fj(a,d,0),f.b(new Jh(b,new Ji(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null)),qi(c,l,g/2,h/2)}}function fj(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return Yh(a.xa,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])}function gj(a){cj.call(this,a),this.u=Ph(),this.i=null}function hj(a){gj.call(this,a),this.f=null,this.j=Ph()}function ij(a){gj.call(this,a),this.L=De(),this.j=null,this.f=[],this.H=Hb(),this.Ua=new Td(0,0,0,0),this.U=Ph(),this.na=0}function jj(){}function kj(a,b,c,d){this.zb=a,this.Qa=b,this.overlaps=d,this.c=0,this.resolution=c,this.va=this.ra=null,this.a=[],this.coordinates=[],this.Z=Ph(),this.b=[],this.eb=[],this.sa=Ph(),this.fa=Ph()}function lj(a,b,c,d,e,f,g){var h=a.coordinates.length,l=a.mf();g&&(c+=e),g=[b[c],b[c+1]];var n,q,r,m=[0/0,0/0],p=!0;for(n=c+e;d>n;n+=e)m[0]=b[n],m[1]=b[n+1],r=Qb(l,m),r!==q?(p&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],p=!1):1===r?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],p=!1):p=!0,g[0]=m[0],g[1]=m[1],q=r;return(f&&p||n===c+e)&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),h}function mj(a,b){a.ra=[0,b,0],a.a.push(a.ra),a.va=[0,b,0],a.b.push(a.va)}function nj(a,b,c){if(a.U){var d=Uh(a.Z,a.U.slice());b.translate(d[0],d[1]),b.rotate(c)}b.fill(),a.U&&b.setTransform.apply(b,a.fa)}function oj(a,b,c,d,e,f,g,h,l){var m;db(d,a.Z)?m=a.eb:(m=Sc(a.coordinates,0,a.coordinates.length,2,d,a.eb),Th(a.Z,d)),d=!wa(f);for(var r,y,z,A,O,p=0,n=g.length,q=0,u=a.sa,w=a.fa,Ja=0,ca=0,Ma=a.a!=g||a.overlaps?0:200;n>p;){var La,kb,W,Ra,D=g[p];switch(D[0]){case 0:q=D[1],d&&f[x(q).toString()]||!q.V()?p=D[2]:void 0===l||jc(l,q.V().G())?++p:p=D[2]+1;break;case 1:Ja>Ma&&(nj(a,b,e),Ja=0),ca>Ma&&(b.stroke(),ca=0),Ja||ca||b.beginPath(),++p;break;case 2:q=D[1],r=m[q],D=m[q+1],A=m[q+2]-r,q=m[q+3]-D,q=Math.sqrt(A*A+q*q),b.moveTo(r+q,D),b.arc(r,D,q,0,2*Math.PI,!0),++p;break;case 3:b.closePath(),++p;break;case 4:q=D[1],r=D[2],La=D[3],kb=D[4]*c,W=D[5]*c;var Pb=D[6],fc=D[7],Wc=D[8],de=D[9];Ra=D[10],A=D[11],O=D[12];var He=D[13],od=D[14];for(Ra&&(A+=e);r>q;q+=2){if(D=m[q]-kb,Ra=m[q+1]-W,He&&(D=Math.round(D),Ra=Math.round(Ra)),1!=O||0!==A){var bf=D+kb,mh=Ra+W;Yh(u,bf,mh,O,O,A,-bf,-mh),b.setTransform.apply(b,u)}bf=b.globalAlpha,1!=fc&&(b.globalAlpha=bf*fc);var mh=od+Wc>La.width?La.width-Wc:od,xo=Pb+de>La.height?La.height-de:Pb;b.drawImage(La,Wc,de,mh,xo,D,Ra,mh*c,xo*c),1!=fc&&(b.globalAlpha=bf),1==O&&0===A||b.setTransform.apply(b,w)}++p;break;case 5:for(q=D[1],r=D[2],W=D[3],Pb=D[4]*c,fc=D[5]*c,A=D[6],O=D[7]*c,La=D[8],kb=D[9],(Ra=D[10])&&(A+=e);r>q;q+=2){for(D=m[q]+Pb,Ra=m[q+1]+fc,(1!=O||0!==A)&&(Yh(u,D,Ra,O,O,A,-D,-Ra),b.setTransform.apply(b,u)),Wc=W.split("\n"),de=Wc.length,de>1?(He=Math.round(1.5*b.measureText("M").width),Ra-=(de-1)/2*He):He=0,od=0;de>od;od++)bf=Wc[od],kb&&b.strokeText(bf,D,Ra),La&&b.fillText(bf,D,Ra),Ra+=He;1==O&&0===A||b.setTransform.apply(b,w)}
++p;break;case 6:if(void 0!==h&&(q=D[1],q=h(q)))return q;++p;break;case 7:Ma?Ja++:nj(a,b,e),++p;break;case 8:for(q=D[1],r=D[2],D=m[q],Ra=m[q+1],A=D+.5|0,O=Ra+.5|0,(A!==y||O!==z)&&(b.moveTo(D,Ra),y=A,z=O),q+=2;r>q;q+=2)D=m[q],Ra=m[q+1],A=D+.5|0,O=Ra+.5|0,(q==r-2||A!==y||O!==z)&&(b.lineTo(D,Ra),y=A,z=O);++p;break;case 9:a.U=D[2],Ja&&(nj(a,b,e),Ja=0),b.fillStyle=D[1],++p;break;case 10:y=void 0!==D[7]?D[7]:!0;var yo=D[8];z=D[2],ca&&(b.stroke(),ca=0),b.strokeStyle=D[1],b.lineWidth=y?z*c:z,b.lineCap=D[3],b.lineJoin=D[4],b.miterLimit=D[5],nf&&(z=D[6],y&&c!==yo&&(z=z.map(function(a){return a*c/yo}),D[6]=z,D[8]=c),b.setLineDash(z)),z=y=0/0,++p;break;case 11:b.font=D[1],b.textAlign=D[2],b.textBaseline=D[3],++p;break;case 12:Ma?ca++:b.stroke(),++p;break;default:++p}}Ja&&nj(a,b,e),ca&&b.stroke()}function pj(a){var b=a.b;b.reverse();var c,e,f,d=b.length,g=-1;for(c=0;d>c;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){for(e[2]=c,e=a.b,f=c;f>g;){var h=e[g];e[g]=e[f],e[f]=h,++g,--f}g=-1}}function qj(a,b){a.ra[2]=a.a.length,a.ra=null,a.va[2]=a.b.length,a.va=null;var c=[6,b];a.a.push(c),a.b.push(c)}function rj(a,b,c,d){kj.call(this,a,b,c,d),this.l=this.P=null,this.L=this.D=this.C=this.A=this.u=this.H=this.v=this.o=this.j=this.i=this.g=void 0}function sj(a,b,c,d){kj.call(this,a,b,c,d),this.i=null,this.g={wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,Af:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function tj(a,b,c,d,e){var f=a.coordinates.length;return b=lj(a,b,c,d,e,!1,!1),f=[8,f,b],a.a.push(f),a.b.push(f),d}function uj(a){var b=a.g,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.wd==c&&b.rd==d&&db(b.sd,e)&&b.td==f&&b.ud==g&&b.vd==h||(b.Af!=a.coordinates.length&&(a.a.push([12]),b.Af=a.coordinates.length),a.a.push([10,c,g,d,f,h,e,!0,1],[1]),b.wd=c,b.rd=d,b.sd=e,b.td=f,b.ud=g,b.vd=h)}function vj(a,b,c,d){kj.call(this,a,b,c,d),this.i=null,this.g={Bg:void 0,wd:void 0,rd:void 0,sd:null,td:void 0,ud:void 0,vd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function wj(a,b,c,d,e){var f=a.g,g=void 0!==f.fillStyle,f=void 0!=f.strokeStyle,h=d.length,l=[1];for(a.a.push(l),a.b.push(l),l=0;h>l;++l){var m=d[l],p=a.coordinates.length;c=lj(a,b,c,m,e,!0,!f),c=[8,p,c],a.a.push(c),a.b.push(c),f&&(c=[3],a.a.push(c),a.b.push(c)),c=m}return b=[7],a.b.push(b),g&&a.a.push(b),f&&(g=[12],a.a.push(g),a.b.push(g)),c}function xj(a,b){var c=a.g,d=c.fillStyle,e=c.strokeStyle,f=c.lineCap,g=c.lineDash,h=c.lineJoin,l=c.lineWidth,m=c.miterLimit;if(void 0!==d&&("string"!=typeof d||c.Bg!=d)){var p=[9,d];"string"!=typeof d&&(d=b.G(),p.push([d[0],d[3]])),a.a.push(p),c.Bg=c.fillStyle}void 0===e||c.wd==e&&c.rd==f&&db(c.sd,g)&&c.td==h&&c.ud==l&&c.vd==m||(a.a.push([10,e,l,f,h,m,g,!0,1]),c.wd=e,c.rd=f,c.sd=g,c.td=h,c.ud=l,c.vd=m)}function yj(a,b,c,d){kj.call(this,a,b,c,d),this.L=this.D=this.C=null,this.l="",this.v=this.o=0,this.H=void 0,this.A=this.u=0,this.j=this.i=this.g=null}function zj(a,b,c,d,e){if(""!==a.l&&a.j&&(a.g||a.i)){if(a.g){var f=a.g,g=a.C;if(!g||g.fillStyle!=f.fillStyle){var h=[9,f.fillStyle];a.a.push(h),a.b.push(h),g?g.fillStyle=f.fillStyle:a.C={fillStyle:f.fillStyle}}}a.i&&(f=a.i,g=a.D,g&&g.lineCap==f.lineCap&&g.lineDash==f.lineDash&&g.lineJoin==f.lineJoin&&g.lineWidth==f.lineWidth&&g.miterLimit==f.miterLimit&&g.strokeStyle==f.strokeStyle||(h=[10,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,!1,1],a.a.push(h),a.b.push(h),g?(g.lineCap=f.lineCap,g.lineDash=f.lineDash,g.lineJoin=f.lineJoin,g.lineWidth=f.lineWidth,g.miterLimit=f.miterLimit,g.strokeStyle=f.strokeStyle):a.D={lineCap:f.lineCap,lineDash:f.lineDash,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle})),f=a.j,g=a.L,g&&g.font==f.font&&g.textAlign==f.textAlign&&g.textBaseline==f.textBaseline||(h=[11,f.font,f.textAlign,f.textBaseline],a.a.push(h),a.b.push(h),g?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline):a.L={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),mj(a,e),f=a.coordinates.length,b=lj(a,b,0,c,d,!1,!1),b=[5,f,b,a.l,a.o,a.v,a.u,a.A,!!a.g,!!a.i,a.H],a.a.push(b),a.b.push(b),qj(a,e)}}function Bj(a,b,c,d,e){this.H=a,this.c=b,this.o=d,this.v=c,this.i=e,this.a={},this.j=De(1,1),this.l=Ph()}function Dj(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;b>d;d++)a[d][c]=!0;else if(e>b)for(d=b+1;e>d;d++)a[d][c]=!0}function Ej(a){if(void 0!==Cj[a])return Cj[a];for(var b=2*a+1,c=Array(b),d=0;b>d;d++)c[d]=Array(b);for(var b=a,e=d=0;b>=d;)Dj(c,a+b,a+d),Dj(c,a+d,a+b),Dj(c,a-d,a+b),Dj(c,a-b,a+d),Dj(c,a-b,a-d),Dj(c,a-d,a-b),Dj(c,a+d,a-b),Dj(c,a+b,a-d),d++,e+=1+2*d,2*(e-b)+1>0&&(--b,e+=1-2*b);return Cj[a]=c}function Fj(a){for(var b in a.a){var d,c=a.a[b];for(d in c)c[d].se()}}function Hj(a,b){var c=a.c,d=c[0],e=c[1],f=c[2],c=c[3],d=[d,e,d,c,f,c,f,e];return Sc(d,0,8,2,b,d),d}function Gj(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m,p,n,q;for(l=0,m=h.length;m>l;++l)for(n=a.a[h[l].toString()],p=Aj.length-1;p>=0;--p)if(q=n[Aj[p]],void 0!==q&&(q=oj(q,b,1,c,d,e,q.b,f,g)))return q}function Jj(a,b){return x(a)-x(b)}function Kj(a,b){var c=.5*a/b;return c*c}function Lj(a,b,c,d,e,f){var h,l,g=!1;return(h=c.a)&&(l=h.xe(),l==li||l==ki?h.Ii(e,f):(l==ji&&h.load(),h.eh(e,f),g=!0)),(e=c.c(b))&&(d=e.Bd(d),Mj[d.Y()](a,d,c,b)),g}function Nj(a){cj.call(this,a),this.f=!1,this.u=-1,this.H=0/0,this.j=Hb(),this.c=this.l=null,this.i=De()}function Oj(a){ij.call(this,a),this.Z=!1,this.sa=Ph(),this.na=a.u==Fi?1:0}function Rj(a,b,c){function d(a){var b,c=a.Gc();if(c?b=c.call(a,r):(c=e.j)&&(b=c(a,r)),b){Array.isArray(b)||(b=[b]);var c=A,d=z;if(b){var f=!1;if(Array.isArray(b))for(var g=0,h=b.length;h>g;++g)f=Lj(d,a,b[g],c,this.fa,this)||f;else f=Lj(d,a,b,c,this.fa,this)||f;a=f}else a=!1;this.Z=this.Z||a,l.xd=l.xd||a}}var e=a.a,f=c.pixelRatio;c=c.viewState.projection;var g=e.g,h=e.get("renderOrder")||null,l=b.g;if(l.xd||l.li!=g||l.bg!=h){l.jd=null,l.xd=!1;var u,w,y,m=e.la(),p=m.tileGrid,n=b.Ca,q=b.j,r=p.Ha(n[0]);"tile-pixels"==q.Eb()?(u=y=m.jb(),p=Zd(p.Za(n[0])),u=[0,0,p[0]*u,p[1]*u]):(y=r,u=p.Na(n),Mc(c,q)||(w=!0,b.Ff(c))),l.xd=!1;var z=new Bj(0,u,y,m.i,e.i),A=Kj(y,f);for(b=b.i,h&&h!==l.bg&&b.sort(h),m=0,y=b.length;y>m;++m)f=b[m],w&&f.V().ob(q,c),d.call(a,f);Fj(z),l.li=g,l.bg=h,l.jd=z,l.resolution=0/0}}function Sj(a,b){$h.call(this,0,b),this.g=De(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.a=!0,this.c=Ph()}function Tj(a,b,c){var d=a.l,e=a.g;if(Oa(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=Yh(a.c,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]),d.b(new Jh(b,new Ji(e,g,f,a,h),c,e,null))}}function Xj(a,b,c,d,e,f){return a=(c-a)*(f-b)-(e-a)*(d-b),Yj>=a&&a>=-Yj?void 0:a>0}function Zj(a){this.b=a}function ak(a){this.b=a}function bk(a){this.b=a}function ck(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function ek(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function gk(a,b){this.D=a.getUniformLocation(b,"n"),this.L=a.getUniformLocation(b,"k"),this.f=a.getUniformLocation(b,"j"),this.c=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"m"),this.ra=a.getUniformLocation(b,"l"),this.g=a.getUniformLocation(b,"h"),this.va=a.getUniformLocation(b,"p"),this.P=a.getUniformLocation(b,"o"),this.j=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"e"),this.u=a.getAttribLocation(b,"g")}function hk(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ik(a,b){return a[0]=b[0],a[1]=b[1],a[4]=b[2],a[5]=b[3],a[12]=b[4],a[13]=b[5],a}function jk(a,b){this.origin=gc(b),this.Ua=Ph(),this.xa=Ph(),this.Ja=Ph(),this.na=hk(),this.b=[],this.o=null,this.g=[],this.i=[],this.a=[],this.v=null,this.j=void 0}function lk(a,b,c,d){a.drawElements(4,d-c,b.i?5125:5123,c*(b.i?4:2))}function mk(a){this.b=void 0!==a?a:[],this.a=nk}function ok(a,b){jk.call(this,0,b),this.H=null,this.l=[],this.u=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineWidth:void 0,s:!1}}function rk(a,b,c,d){b.uniform4fv(a.H.P,c),b.uniform1f(a.H.L,d)}function sk(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function uk(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function wk(a,b){this.f=a.getUniformLocation(b,"j"),this.c=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"k"),this.g=a.getUniformLocation(b,"h"),this.v=a.getAttribLocation(b,"e"),this.H=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"c"),this.A=a.getAttribLocation(b,"g"),this.C=a.getAttribLocation(b,"d")}function xk(a,b){this.j=a,this.b=b,this.a={},this.f={},this.g={},this.o=this.v=this.c=this.l=null,(this.i=Za(da,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint"),B(this.j,"webglcontextlost",this.co,this),B(this.j,"webglcontextrestored",this.eo,this)}function kk(a,b,c){var d=a.b,e=c.b,f=String(x(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.i?new Uint32Array(e):new Uint16Array(e)),d.bufferData(b,h,c.a),a.a[f]={gc:c,buffer:g}}}function pk(a,b){var c=a.b,d=String(x(b)),e=a.a[d];c.isContextLost()||c.deleteBuffer(e.buffer),delete a.a[d]}function yk(a){if(!a.c){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=zk(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e),b.bindTexture(b.TEXTURE_2D,null),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),a.c=c,a.v=d,a.o=e}return a.c}function Ak(a,b){var c=String(x(b));if(c in a.f)return a.f[c];var d=a.b,e=d.createShader(b.Y());return d.shaderSource(e,b.b),d.compileShader(e),a.f[c]=e}function qk(a,b,c){var d=x(b)+"/"+x(c);if(d in a.g)return a.g[d];var e=a.b,f=e.createProgram();return e.attachShader(f,Ak(a,b)),e.attachShader(f,Ak(a,c)),e.linkProgram(f),a.g[d]=f}function Bk(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(3553,10242,b),void 0!==c&&a.texParameteri(3553,10243,c),d}function zk(a,b,c){var d=Bk(a,void 0,void 0);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),d}function Ck(a,b){var c=Bk(a,33071,33071);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),c}function Dk(a,b){jk.call(this,0,b),this.D=this.C=void 0,this.A=[],this.H=[],this.ra=void 0,this.l=[],this.c=[],this.P=this.va=void 0,this.L=null,this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0,this.Fa=[],this.u=[],this.zb=void 0}function Ek(a,b,c,d){var O,Ja,ca,Ma,D,La,e=a.C,f=a.D,g=a.ra,h=a.va,l=a.P,m=a.U,p=a.Qa,n=a.Z,q=a.eb?1:0,r=-a.fa,u=a.sa,w=a.zb,y=Math.cos(r),r=Math.sin(r),z=a.b.length,A=a.a.length;for(O=0;c>O;O+=d)D=b[O]-a.origin[0],La=b[O+1]-a.origin[1],Ja=A/8,ca=-u*e,Ma=-u*(g-f),a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=p/l,a.a[A++]=(n+g)/h,a.a[A++]=m,a.a[A++]=q,ca=u*(w-e),Ma=-u*(g-f),a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=(p+w)/l,a.a[A++]=(n+g)/h,a.a[A++]=m,a.a[A++]=q,ca=u*(w-e),Ma=u*f,a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=(p+w)/l,a.a[A++]=n/h,a.a[A++]=m,a.a[A++]=q,ca=-u*e,Ma=u*f,a.a[A++]=D,a.a[A++]=La,a.a[A++]=ca*y-Ma*r,a.a[A++]=ca*r+Ma*y,a.a[A++]=p/l,a.a[A++]=n/h,a.a[A++]=m,a.a[A++]=q,a.b[z++]=Ja,a.b[z++]=Ja+1,a.b[z++]=Ja+2,a.b[z++]=Ja,a.b[z++]=Ja+2,a.b[z++]=Ja+3}function Fk(a,b,c,d){var e,f,g,h=b.length;for(g=0;h>g;++g)e=b[g],f=x(e).toString(),f in c?e=c[f]:(e=Ck(d,e),c[f]=e),a[g]=e}function Gk(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&(b-0)/c>3?!!Zc(a,0,b,c):!1}function Hk(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Jk(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function Lk(a,b){this.D=a.getUniformLocation(b,"n"),this.L=a.getUniformLocation(b,"k"),this.P=a.getUniformLocation(b,"l"),this.f=a.getUniformLocation(b,"j"),this.c=a.getUniformLocation(b,"i"),this.a=a.getUniformLocation(b,"m"),this.ra=a.getUniformLocation(b,"p"),this.g=a.getUniformLocation(b,"h"),this.va=a.getUniformLocation(b,"o"),this.i=a.getAttribLocation(b,"g"),this.l=a.getAttribLocation(b,"d"),this.o=a.getAttribLocation(b,"f"),this.b=a.getAttribLocation(b,"e")}function Mk(a,b){jk.call(this,0,b),this.H=null,this.u=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function Nk(a,b,c,d){var e,p,n,q,w,y,z,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=Gk(b,c,d),r=g,u=1;for(e=0;c>e;e+=d){if(q=f/7,w=y,y=z||[b[e],b[e+1]],0===e){if(z=[b[e+d],b[e+d+1]],c-0===2*d&&db(y,z))break;if(!m){l&&(f=Ok(a,[0,0],y,z,7*u*l,f),f=Ok(a,[0,0],y,z,7*-u*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2),f=Ok(a,[0,0],y,z,3*u*(l||1),f),f=Ok(a,[0,0],y,z,3*-u*(l||1),f),r=f/7-1;continue}w=[b[c-2*d],b[c-2*d+1]],p=z}else{if(e===c-d){m?z=p:(w=w||[0,0],f=Ok(a,w,y,[0,0],5*u*(l||1),f),f=Ok(a,w,y,[0,0],5*-u*(l||1),f),a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=r,a.b[g++]=q+1,a.b[g++]=q,l&&(f=Ok(a,w,y,[0,0],11*u*l,f),f=Ok(a,w,y,[0,0],11*-u*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2));break}z=[b[e+d],b[e+d+1]]}n=Xj(w[0],w[1],y[0],y[1],z[0],z[1])?-1:1,f=Ok(a,w,y,z,13*n*(h||1),f),f=Ok(a,w,y,z,17*n*(h||1),f),f=Ok(a,w,y,z,19*-n*(h||1),f),e>0&&(a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=u*n>0?r:r-1),a.b[g++]=q,a.b[g++]=q+2,a.b[g++]=q+1,r=q+2,u=n,h&&(f=Ok(a,w,y,z,23*n*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,n=wd([w[0],w[1],y[0],y[1],z[0],z[1]],0,6,2)?1:-1,f=Ok(a,w,y,z,13*n*(h||1),f),Ok(a,w,y,z,19*-n*(h||1),f),a.b[g++]=q,a.b[g++]=r-1,a.b[g++]=r,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=u*n>0?r:r-1)}function Ok(a,b,c,d,e,f){return a.a[f++]=b[0],a.a[f++]=b[1],a.a[f++]=c[0],a.a[f++]=c[1],a.a[f++]=d[0],a.a[f++]=d[1],a.a[f++]=e,f}function Pk(a,b,c){return b-=0,2*c>b?!1:b===2*c?!db([a[0],a[1]],[a[0+c],a[c+1]]):!0}function Qk(a,b,c,d){if(Gk(b,b.length,d)||(b.push(b[0]),b.push(b[1])),Nk(a,b,b.length,d),c.length){var e;for(b=0,e=c.length;e>b;++b)Gk(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),Nk(a,c[b],c[b].length,d)}}function Rk(a,b,c){c=void 0===c?a.b.length:c,a.g.push(c),a.i.push(b),a.c.s&&(a.l.push(c),a.c.s=!1)}function Sk(a,b,c,d,e){b.uniform4fv(a.H.D,c),b.uniform1f(a.H.L,d),b.uniform1f(a.H.P,e)}function Tk(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Vk(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Xk(a,b){this.D=a.getUniformLocation(b,"e"),this.f=a.getUniformLocation(b,"d"),this.c=a.getUniformLocation(b,"c"),this.a=a.getUniformLocation(b,"f"),this.g=a.getUniformLocation(b,"b"),this.b=a.getAttribLocation(b,"a")}function Yk(a){this.b=this.a=this.g=void 0,this.c=void 0===a?!0:a,this.f=0}function Zk(a){var b=a.b;if(b){var c=b.next,d=b.pb;c&&(c.pb=d),d&&(d.next=c),a.b=c||d,a.g===a.a?(a.b=void 0,a.g=void 0,a.a=void 0):a.g===b?a.g=a.b:a.a===b&&(a.a=d?a.b.pb:a.b),a.f--}}function $k(a){return a.b=a.g,a.b?a.b.data:void 0}function al(a){return a.b&&a.b.next?(a.b=a.b.next,a.b.data):void 0}function bl(a){return a.b&&a.b.next?a.b.next.data:void 0}function cl(a){return a.b&&a.b.pb?(a.b=a.b.pb,a.b.data):void 0}function dl(a){return a.b&&a.b.pb?a.b.pb.data:void 0}function el(a){return a.b?a.b.data:void 0}function jl(a){this.b=fl(a),this.a={}}function kl(a,b,c){var d=a.a[x(c)];Vb([d.ea,d.ga,d.ca,d.ja],b)||(a.remove(c),a.Da(b,c))}function ll(a){return a.b.all().map(function(a){return a.value})}function ml(a,b){return a.b.search({ea:b[0],ga:b[1],ca:b[2],ja:b[3]}).map(function(a){return a.value})}function pl(a,b,c,d){return nl(ml(a,b),c,d)}function nl(a,b,c){for(var d,e=0,f=a.length;f>e&&!(d=b.call(c,a[e]));e++);return d}function ql(a,b){jk.call(this,0,b),this.j=new Mk(0,b),this.H=null,this.u=[],this.c=[],this.l={fillColor:null,s:!1}}function rl(a,b,c,d){var e=new Yk,f=new jl;if(b=sl(a,b,d,e,f,!0),c.length){var g,h,l=[];for(g=0,h=c.length;h>g;++g){var m={list:new Yk,ca:void 0};l.push(m),m.ca=sl(a,c[g],d,m.list,f,!1)}for(l.sort(function(a,b){return b.ca-a.ca}),g=0;g<l.length;++g)tl(l[g].list,l[g].ca,e,b,f)}ul(e,f,!1),vl(a,e,f)}function sl(a,b,c,d,e,f){var g,h,m,p,n,l=a.a.length/2,q=[],r=[];if(f===wd(b,0,b.length,c))for(p=m=wl(a,b[0],b[1],l++),f=b[0],g=c,h=b.length;h>g;g+=c)n=wl(a,b[g],b[g+1],l++),r.push(xl(p,n,d)),q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]),f=b[g]>f?b[g]:f,p=n;else for(g=b.length-c,p=m=wl(a,b[g],b[g+1],l++),f=b[g],g-=c,h=0;g>=h;g-=c)n=wl(a,b[g],b[g+1],l++),r.push(xl(p,n,d)),q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]),f=b[g]>f?b[g]:f,p=n;return r.push(xl(n,m,d)),q.push([Math.min(p.x,n.x),Math.min(p.y,n.y),Math.max(p.x,n.x),Math.max(p.y,n.y)]),e.load(q,r),f}function ul(a,b,c){var d=$k(a),e=d,f=al(a),g=!1;do{var h=c?Xj(f.X.x,f.X.y,e.X.x,e.X.y,e.ba.x,e.ba.y):Xj(e.ba.x,e.ba.y,e.X.x,e.X.y,f.X.x,f.X.y);void 0===h?(yl(e,f,a,b),g=!0,f===d&&(d=bl(a)),f=e,cl(a)):e.X.qb!==h&&(e.X.qb=h,g=!0),e=f,f=al(a)}while(e!==d);return g}function tl(a,b,c,d,e){ul(a,e,!0);for(var f=$k(a);f.X.x!==b;)f=al(a);b=f.X,d={x:d,y:b.y,$a:-1};var h,l,m,p,g=1/0;for(m=zl({ba:b,X:d},e,!0),h=0,l=m.length;l>h;++h){var n=m[h];if(void 0===n.ba.qb){var q=Al(b,d,n.ba,n.X,!0),r=Math.abs(b.x-q[0]);g>r&&(g=r,p={x:q[0],y:q[1],$a:-1},f=n)}}if(1/0!==g){if(m=f.X,g>0&&(f=Bl(b,p,f.X,e),f.length))for(p=1/0,h=0,l=f.length;l>h;++h)g=f[h],n=Math.atan2(b.y-g.y,d.x-g.x),(p>n||n===p&&g.x<m.x)&&(p=n,m=g);for(f=$k(c);f.X!==m;)f=al(c);d={x:b.x,y:b.y,$a:b.$a,qb:void 0},h={x:f.X.x,y:f.X.y,$a:f.X.$a,qb:void 0},bl(a).ba=d,xl(b,f.X,a,e),xl(h,d,a,e),f.X=h,a.c&&a.b&&(a.g=a.b,a.a=a.b.pb),c.concat(a)}}function vl(a,b,c){for(var d=!1,e=Cl(b,c);3<b.f;)if(e){if(!Dl(a,b,c,e,d)&&!ul(b,c,d)&&!El(a,b,c,!0))break}else if(!Dl(a,b,c,e,d)&&!ul(b,c,d)&&!El(a,b,c)){if(!(e=Cl(b,c))){e=a,d=b,f=g=$k(d);do{if(h=zl(f,c),h.length){for(g=h[0],h=Al(f.ba,f.X,g.ba,g.X),h=wl(e,h[0],h[1],e.a.length/2),l=new Yk,m=new jl,xl(h,f.X,l,m),f.X=h,kl(c,[Math.min(f.ba.x,h.x),Math.min(f.ba.y,h.y),Math.max(f.ba.x,h.x),Math.max(f.ba.y,h.y)],f),f=al(d);f!==g;)xl(f.ba,f.X,l,m),c.remove(f),Zk(d),f=el(d);xl(g.ba,h,l,m),g.ba=h,kl(c,[Math.min(g.X.x,h.x),Math.min(g.X.y,h.y),Math.max(g.X.x,h.x),Math.max(g.X.y,h.y)],g),ul(d,c,!1),vl(e,d,c),ul(l,m,!1),vl(e,l,m);break}f=al(d)}while(f!==g);break}var d=b,f=2*d.f,g=Array(f),h=$k(d),l=h,m=0;do g[m++]=l.ba.x,g[m++]=l.ba.y,l=al(d);while(l!==h);d=!wd(g,0,f,2),ul(b,c,d)}3===b.f&&(e=a.b.length,a.b[e++]=dl(b).ba.$a,a.b[e++]=el(b).ba.$a,a.b[e++]=bl(b).ba.$a)}function Dl(a,b,c,d,e){var n,q,r,f=a.b.length,g=$k(b),h=dl(b),l=g,m=al(b),p=bl(b),u=!1;do{if(n=l.ba,q=l.X,r=m.X,!1===q.qb){var w=e?Fl(p.X,r,q,n,h.ba):Fl(h.ba,n,q,r,p.X);!d&&0!==zl({ba:n,X:r},c).length||!w||0!==Bl(n,q,r,c,!0).length||!d&&!1!==n.qb&&!1!==r.qb&&wd([h.ba.x,h.ba.y,n.x,n.y,q.x,q.y,r.x,r.y,p.X.x,p.X.y],0,10,2)!==!e||(a.b[f++]=n.$a,a.b[f++]=q.$a,a.b[f++]=r.$a,yl(l,m,b,c),m===g&&(g=p),u=!0)}h=dl(b),l=el(b),m=al(b),p=bl(b)}while(l!==g&&3<b.f);return u}function El(a,b,c,d){var e=$k(b);al(b);var f=e,g=al(b),h=!1;do{var l=Al(f.ba,f.X,g.ba,g.X,d);if(l){var m,h=a.b.length,p=a.a.length/2,n=cl(b);if(Zk(b),c.remove(n),m=n===e,d?(l[0]===f.ba.x&&l[1]===f.ba.y?(cl(b),l=f.ba,g.ba=l,c.remove(f),m=m||f===e):(l=g.X,f.X=l,c.remove(g),m=m||g===e),Zk(b)):(l=wl(a,l[0],l[1],p),f.X=l,g.ba=l,kl(c,[Math.min(f.ba.x,f.X.x),Math.min(f.ba.y,f.X.y),Math.max(f.ba.x,f.X.x),Math.max(f.ba.y,f.X.y)],f),kl(c,[Math.min(g.ba.x,g.X.x),Math.min(g.ba.y,g.X.y),Math.max(g.ba.x,g.X.x),Math.max(g.ba.y,g.X.y)],g)),a.b[h++]=n.ba.$a,a.b[h++]=n.X.$a,a.b[h++]=l.$a,h=!0,m)break}f=dl(b),g=al(b)}while(f!==e);return h}function Cl(a,b){var c=$k(a),d=c;do{if(zl(d,b).length)return!1;d=al(a)}while(d!==c);return!0}function wl(a,b,c,d){var e=a.a.length;return a.a[e++]=b,a.a[e++]=c,{x:b,y:c,$a:d,qb:void 0}}function xl(a,b,c,d){var e={ba:a,X:b},f={pb:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.pb=g,f.next=h,g.next=f,h&&(h.pb=f),g===c.a&&(c.a=f)}else c.g=f,c.a=f,c.c&&(f.next=f,f.pb=f);return c.b=f,c.f++,d&&d.Da([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e),e}function yl(a,b,c,d){el(c)===b&&(Zk(c),a.X=b.X,d.remove(b),kl(d,[Math.min(a.ba.x,a.X.x),Math.min(a.ba.y,a.X.y),Math.max(a.ba.x,a.X.x),Math.max(a.ba.y,a.X.y)],a))}function Bl(a,b,c,d,e){var f,g,h,l=[],m=ml(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);for(d=0,f=m.length;f>d;++d)for(g in m[d])h=m[d][g],"object"!=typeof h||e&&!h.qb||h.x===a.x&&h.y===a.y||h.x===b.x&&h.y===b.y||h.x===c.x&&h.y===c.y||-1!==l.indexOf(h)||!qd([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,h.x,h.y)||l.push(h);return l}function zl(a,b,c){var d=a.ba,e=a.X;b=ml(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var g,h,f=[];for(g=0,h=b.length;h>g;++g){var l=b[g];a!==l&&(c||l.ba!==e||l.X!==d)&&Al(d,e,l.ba,l.X,c)&&f.push(l)}return f}function Al(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);return 0!==f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>Yj&&1-Yj>d&&c>Yj&&1-Yj>c||e&&d>=0&&1>=d&&c>=0&&1>=c)?[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]:void 0}function Fl(a,b,c,d,e){if(void 0===b.qb||void 0===d.qb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);return e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x),a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x),c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x),b=b.qb?c||a:c&&a,(d.qb?e||f:e&&f)&&b}function Gl(){}function Hl(a,b,c){this.i=b,this.j=a,this.c=c,this.a={}}function Il(a,b){var d,c=[];for(d in a.a){var f,e=a.a[d];for(f in e)c.push(e[f].wb(b))}return function(){for(var b,a=c.length,d=0;a>d;d++)b=c[d].apply(this,arguments);return b}}function Jl(a,b){for(var c in a.a){var e,d=a.a[c];for(e in d)d[e].vb(b)}}function Ll(a,b,c,d,e,f,g,h,l,m,p){var n=Ml,q=Object.keys(a.a).map(Number);q.sort(function(a,b){return b-a});var r,u,w,y,z;for(r=0,u=q.length;u>r;++r)for(y=a.a[q[r].toString()],w=Aj.length-1;w>=0;--w)if(z=y[Aj[w]],void 0!==z&&(z=z.f(b,c,d,e,n,f,g,h,l,m,p)))return z}function Nl(a,b,c,d,e,f,g,h){var l=c.b;return l.bindFramebuffer(l.FRAMEBUFFER,yk(c)),void 0!==Ll(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a),0<a[3]},!1)}function Ol(a,b,c,d,e,f,g){this.b=a,this.g=b,this.a=f,this.f=g,this.j=e,this.i=d,this.c=c,this.l=this.o=this.v=null}function Pl(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Rl(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Tl(a,b){this.g=a.getUniformLocation(b,"f"),this.f=a.getUniformLocation(b,"e"),this.i=a.getUniformLocation(b,"d"),this.c=a.getUniformLocation(b,"g"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function Ul(a,b){Ui.call(this,b),this.f=a,this.U=new mk([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.yb=null,this.j=void 0,this.v=Ph(),this.u=Ph(),this.C=hk(),this.H=null}function Vl(a,b,c){var d=a.f.g;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.i,a.yb)),b=zk(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e),d.framebufferTexture2D(36160,36064,3553,b,0),a.yb=b,a.i=e,a.j=c}else d.bindFramebuffer(36160,a.i)}function Wl(a,b,c,d){if(a=a.a,Oa(a,b)){var e=d.viewState;a.b(new Jh(b,new Ol(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}function Xl(a,b,c,d,e,f){this.c=void 0!==f?f:null,hi.call(this,a,b,c,void 0!==f?ji:li,d),this.g=e}function am(a,b,c,d){var e=Pc(c,b,a);return c=xc(b,d,c),b=b.ic(),void 0!==b&&(c*=b),b=a.ic(),void 0!==b&&(c/=b),a=xc(a,c,e)/c,isFinite(a)&&a>0&&(c/=a),c}function bm(a,b,c,d){a=c-a,b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}function cm(a,b,c,d,e,f,g,h,l,m,p){var n=De(Math.round(c*a),Math.round(c*b));if(0===l.length)return n.canvas;n.scale(c,c);var q=Hb();l.forEach(function(a){Wb(q,a.extent)});var r=De(Math.round(c*dc(q)/d),Math.round(c*ec(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,dc(a.extent)*u,ec(a.extent)*u)});var w=ac(g);return h.f.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-w[0])/f;var p=-(e[0][1]-w[1])/f,u=(e[1][0]-w[0])/f,kb=-(e[1][1]-w[1])/f,W=(e[2][0]-w[0])/f,Ra=-(e[2][1]-w[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{for(g=[[g,h,0,0,u-a],[l,m,0,0,W-a],[0,0,g,h,kb-p],[0,0,l,m,Ra-p]],h=g.length,l=0;h>l;l++){for(var m=l,Pb=Math.abs(g[l][l]),fc=l+1;h>fc;fc++){var Wc=Math.abs(g[fc][l]);Wc>Pb&&(Pb=Wc,m=fc)}if(0===Pb){g=null;break a}for(Pb=g[m],g[m]=g[l],g[l]=Pb,m=l+1;h>m;m++)for(Pb=-g[m][l]/g[l][l],fc=l;h+1>fc;fc++)g[m][fc]=l==fc?0:g[m][fc]+Pb*g[l][fc]}for(l=Array(h),m=h-1;m>=0;m--)for(l[m]=g[m][h]/g[m][m],Pb=m-1;Pb>=0;Pb--)g[Pb][h]-=g[Pb][m]*l[m];g=l}g&&(n.save(),n.beginPath(),Yl?(l=(a+u+W)/3,m=(p+kb+Ra)/3,h=bm(l,m,a,p),u=bm(l,m,u,kb),W=bm(l,m,W,Ra),n.moveTo(u[0],u[1]),n.lineTo(h[0],h[1]),n.lineTo(W[0],W[1])):(n.moveTo(u,kb),
n.lineTo(a,p),n.lineTo(W,Ra)),n.clip(),n.transform(g[0],g[2],g[1],g[3],a,p),n.translate(q[0]-e,q[3]-b),n.scale(d/c,-d/c),n.drawImage(r.canvas,0,0),n.restore())}),p&&(n.save(),n.strokeStyle="black",n.lineWidth=1,h.f.forEach(function(a){var b=a.target;a=(b[0][0]-w[0])/f;var c=-(b[0][1]-w[1])/f,d=(b[1][0]-w[0])/f,e=-(b[1][1]-w[1])/f,g=(b[2][0]-w[0])/f,b=-(b[2][1]-w[1])/f;n.beginPath(),n.moveTo(d,e),n.lineTo(a,c),n.lineTo(g,b),n.closePath(),n.stroke()}),n.restore()),n.canvas}function dm(a,b,c,d,e){this.g=a,this.c=b;var f={},g=Nc(this.c,this.g);this.a=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.i=d,this.v=e*e,this.f=[],this.l=!1,this.o=this.g.a&&!!d&&!!this.g.G()&&dc(d)==dc(this.g.G()),this.b=this.g.G()?dc(this.g.G()):null,this.j=this.c.G()?dc(this.c.G()):null,a=ac(c),b=$b(c),d=Zb(c),c=Yb(c),e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);if(em(this,a,b,d,c,e,h,l,m,10),this.l){var p=1/0;this.f.forEach(function(a){p=Math.min(p,a.source[0][0],a.source[1][0],a.source[2][0])}),this.f.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-p>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-p>this.b/2&&(b[0][0]-=this.b),b[1][0]-p>this.b/2&&(b[1][0]-=this.b),b[2][0]-p>this.b/2&&(b[2][0]-=this.b),Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}function em(a,b,c,d,e,f,g,h,l,m){var p=Gb([f,g,h,l]),n=a.b?dc(p)/a.b:null,q=a.b,r=a.g.a&&n>.5&&1>n,u=!1;if(m>0){if(a.c.g&&a.j)var w=Gb([b,c,d,e]),u=u|.25<dc(w)/a.j;!r&&a.g.g&&n&&(u|=n>.25)}if(u||!a.i||jc(p,a.i)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(m>0))return;u=!0}if(m>0&&(u||(p=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=r?(oa(f[0],q)+oa(h[0],q))/2-oa(p[0],q):(f[0]+h[0])/2-p[0],p=(f[1]+h[1])/2-p[1],u=q*q+p*p>a.v),u))return void(Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(r),p=[(e[0]+b[0])/2,(e[1]+b[1])/2],n=a.a(p),em(a,b,c,r,p,f,g,q,n,m-1),em(a,p,r,d,e,n,q,h,l,m-1)):(r=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(r),p=[(d[0]+e[0])/2,(d[1]+e[1])/2],n=a.a(p),em(a,b,r,p,e,f,q,n,l,m-1),em(a,r,c,d,p,q,g,h,n,m-1)));if(r){if(!a.o)return;a.l=!0}a.f.push({source:[f,h,l],target:[b,d,e]}),a.f.push({source:[f,g,h],target:[b,c,d]})}}function fm(a){var b=Hb();return a.f.forEach(function(a){a=a.source,Ib(b,a[0]),Ib(b,a[1]),Ib(b,a[2])}),b}function gm(a,b,c,d,e,f){this.H=b,this.v=a.G();var g=b.G(),h=g?ic(c,g):c,g=am(a,b,gc(h),d);this.l=new dm(a,b,h,this.v,.5*g),this.c=d,this.g=c,a=fm(this.l),this.o=(this.xb=f(a,g,e))?this.xb.f:1,this.Md=this.i=null,e=li,f=[],this.xb&&(e=ji,f=this.xb.j),hi.call(this,c,d,this.o,e,f)}function hm(a){Sa.call(this),this.f=zc(a.projection),this.j=im(a.attributions),this.L=a.logo,this.Fa=void 0!==a.state?a.state:"ready",this.D=void 0!==a.wrapX?a.wrapX:!1}function im(a){if("string"==typeof a)return[new pe({html:a})];if(a instanceof pe)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;b>d;d++){var e=a[d];c[d]="string"==typeof e?new pe({html:e}):e}return c}return null}function jm(a,b){a.Fa=b,a.s()}function km(a){hm.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.A=void 0!==a.resolutions?a.resolutions:null,this.a=null,this.sa=0}function lm(a,b){return a.A&&(b=a.A[$a(a.A,b,0)]),b}function qm(a,b){a.a().src=b}function mm(a,b){Ia.call(this,a),this.image=b}function rm(a){km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.fa=a.canvasFunction,this.P=null,this.Z=0,this.na=void 0!==a.ratio?a.ratio:1.5}function sm(a){this.c=a.source,this.Ja=Ph(),this.i=De(),this.l=[0,0],this.xa=void 0==a.renderBuffer?100:a.renderBuffer,this.u=null,rm.call(this,{attributions:a.attributions,canvasFunction:this.Jj.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.c.W()}),this.C=null,this.v=void 0,this.Fh(a.style),B(this.c,"change",this.kn,this)}function tm(a,b,c,d,e){return c=d/c,Yh(a.Ja,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}function um(a,b){Ul.call(this,a,b),this.o=this.l=this.c=null}function vm(a,b){var c=b.a();return Ck(a.f.g,c)}function wm(a,b,c,d,e,f,g,h){b*=f,c*=f,a=a.u,Qh(a),Wh(a,2*d/b,2*d/c),Vh(a,-g),Xh(a,h[0]-e[0],h[1]-e[1]),Wh(a,(h[2]-h[0])/2,(h[3]-h[1])/2),Xh(a,1,1)}function xm(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function zm(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function Bm(a,b){this.g=a.getUniformLocation(b,"e"),this.f=a.getUniformLocation(b,"d"),this.b=a.getAttribLocation(b,"b"),this.a=a.getAttribLocation(b,"c")}function Cm(a,b){Ul.call(this,a,b),this.L=ym,this.Z=Am,this.c=null,this.D=new mk([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.l=null,this.o=-1,this.P=[0,0]}function Em(a,b){Ul.call(this,a,b),this.o=!1,this.P=-1,this.L=0/0,this.A=Hb(),this.l=this.c=this.D=null}function Fm(){this.f=0,this.b={},this.g=this.a=null}function Gm(a,b){$h.call(this,0,b),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.u=this.A=0,this.C=De(),this.o=!0,this.g=ef(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.c=new xk(this.b,this.g),B(this.b,"webglcontextlost",this.Um,this),B(this.b,"webglcontextrestored",this.Vm,this),this.a=new Fm,this.H=null,this.j=new dg(function(a){var b=a[1];a=a[2];var e=b[0]-this.H[0],b=b[1]-this.H[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a}.bind(this),function(a){return a[0].bb()}),this.D=function(){if(0!==this.j.b.length){hg(this.j);var a=eg(this.j);Dm(this,a[0],a[3],a[4])}return!1}.bind(this),this.i=0,Hm(this)}function Dm(a,b,c,d){var e=a.g,f=b.bb();if(a.a.b.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.yb),9729!=a.gh&&(e.texParameteri(3553,10240,9729),a.gh=9729),9729!=a.ih&&(e.texParameteri(3553,10241,9729),a.ih=9729);else{var g=e.createTexture();if(e.bindTexture(3553,g),d>0){var h=a.C.canvas,l=a.C;a.A!==c[0]||a.u!==c[1]?(h.width=c[0],h.height=c[1],a.A=c[0],a.u=c[1]):l.clearRect(0,0,c[0],c[1]),l.drawImage(b.ub(),d,d,c[0],c[1],0,0,c[0],c[1]),e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.ub());e.texParameteri(3553,10240,9729),e.texParameteri(3553,10241,9729),e.texParameteri(3553,10242,33071),e.texParameteri(3553,10243,33071),a.a.set(f,{yb:g,gh:9729,ih:9729})}}function Im(a,b,c){var d=a.l;if(Oa(d,b)){a=a.c;var e=c.viewState;d.b(new Jh(b,new Ol(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}function Hm(a){a=a.g,a.activeTexture(33984),a.blendFuncSeparate(770,771,1,771),a.disable(2884),a.disable(2929),a.disable(3089),a.disable(2960)}function I(a){Sa.call(this);var b=Km(a);this.Xe=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1,this.Ve=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1,this.cf=void 0!==a.pixelRatio?a.pixelRatio:mf,this.bf=b.logos,this.sa=function(){this.i=void 0,this.Zo.call(this,Date.now())}.bind(this),this.Ob=Ph(),this.df=Ph(),this.fc=0,this.a=null,this.Ua=Hb(),this.D=this.L=this.P=null,this.f=document.createElement("DIV"),this.f.className="ol-viewport"+(rf?" ol-touch":""),this.f.style.position="relative",this.f.style.overflow="hidden",this.f.style.width="100%",this.f.style.height="100%",this.f.style.msTouchAction="none",this.f.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.f.appendChild(this.A),this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer-stopevent",a="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var c=0,d=a.length;d>c;++c)B(this.u,a[c],Ka);this.f.appendChild(this.u),this.Fa=new Yf(this);for(var e in af)B(this.Fa,af[e],this.Zg,this);this.na=b.keyboardEventTarget,this.v=null,B(this.f,"wheel",this.ad,this),B(this.f,"mousewheel",this.ad,this),this.l=b.controls,this.j=b.interactions,this.o=b.overlays,this.Mf={},this.C=new b.ap(this.f,this),this.U=null,this.Z=[],this.Ja=[],this.xa=new ig(this.Gk.bind(this),this.kl.bind(this)),this.fa={},B(this,Ua(Lm),this.Tk,this),B(this,Ua(Mm),this.ll,this),B(this,Ua(Nm),this.hl,this),B(this,Ua(Om),this.jl,this),this.I(b.values),this.l.forEach(function(a){a.setMap(this)},this),B(this.l,ue,function(a){a.element.setMap(this)},this),B(this.l,ve,function(a){a.element.setMap(null)},this),this.j.forEach(function(a){a.setMap(this)},this),B(this.j,ue,function(a){a.element.setMap(this)},this),B(this.j,ve,function(a){a.element.setMap(null)},this),this.o.forEach(this.wg,this),B(this.o,ue,function(a){this.wg(a.element)},this),B(this.o,ve,function(a){var b=a.element.i;void 0!==b&&delete this.Mf[b.toString()],a.element.setMap(null)},this)}function Km(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[x(e).toString()]=e:e&&(ha("string"==typeof e.href,44),ha("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof yh?a.layers:new yh({layers:a.layers}),c[Lm]=e,c[Om]=a.target,c[Mm]=void 0!==a.view?a.view:new Fd;var f,e=$h;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"==typeof a.renderer?f=[a.renderer]:ha(!1,46),0<=f.indexOf("dom")&&(f=f.concat(Jm))):f=Jm;var g,h;for(g=0,h=f.length;h>g;++g){var l=f[g];if("canvas"==l){if(of){e=Sj;break}}else if("webgl"==l&&ff){e=Gm;break}}return void 0!==a.controls?Array.isArray(a.controls)?f=new qe(a.controls.slice()):(ha(a.controls instanceof qe,47),f=a.controls):f=Ue(),void 0!==a.interactions?Array.isArray(a.interactions)?g=new qe(a.interactions.slice()):(ha(a.interactions instanceof qe,48),g=a.interactions):g=ph(),void 0!==a.overlays?Array.isArray(a.overlays)?a=new qe(a.overlays.slice()):(ha(a.overlays instanceof qe,49),a=a.overlays):a=new qe,{controls:f,interactions:g,keyboardEventTarget:b,logos:d,overlays:a,ap:e,values:c}}function Pm(a){Sa.call(this),this.i=a.id,this.o=void 0!==a.insertFirst?a.insertFirst:!0,this.v=void 0!==a.stopEvent?a.stopEvent:!0,this.f=document.createElement("DIV"),this.f.className="ol-overlay-container",this.f.style.position="absolute",this.autoPan=void 0!==a.autoPan?a.autoPan:!1,this.j=a.autoPanAnimation||{},this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.a={Xd:"",le:"",Je:"",Oe:"",visible:!0},this.c=null,B(this,Ua(Qm),this.Ok,this),B(this,Ua(Rm),this.Yk,this),B(this,Ua(Sm),this.bl,this),B(this,Ua(Tm),this.dl,this),B(this,Ua(Um),this.el,this),void 0!==a.element&&this.pi(a.element),this.xi(void 0!==a.offset?a.offset:[0,0]),this.Ai(void 0!==a.positioning?a.positioning:Vm),void 0!==a.position&&this.Ef(a.position)}function Xm(a,b){var c=a.getBoundingClientRect(),d=c.left+window.pageXOffset,c=c.top+window.pageYOffset;return[d,c,d+b[0],c+b[1]]}function Ym(a,b){a.a.visible!==b&&(a.f.style.display=b?"":"none",a.a.visible=b)}function Wm(a){var b=a.oe(),c=a.qh();if(void 0!==b&&b.a&&void 0!==c){var c=b.Ga(c),d=b.nb(),b=a.f.style,e=a.Tg(),f=a.Ug(),g=e[0],e=e[1];f==Zm||f==$m||f==an?(""!==a.a.le&&(a.a.le=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.Je!=g&&(a.a.Je=b.right=g)):(""!==a.a.Je&&(a.a.Je=b.right=""),(f==bn||f==cn||f==dn)&&(g-=a.f.offsetWidth/2),g=Math.round(c[0]+g)+"px",a.a.le!=g&&(a.a.le=b.left=g)),f==en||f==bn||f==Zm?(""!==a.a.Oe&&(a.a.Oe=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.Xd!=c&&(a.a.Xd=b.bottom=c)):(""!==a.a.Xd&&(a.a.Xd=b.bottom=""),(f==fn||f==cn||f==$m)&&(e-=a.f.offsetHeight/2),c=Math.round(c[1]+e)+"px",a.a.Oe!=c&&(a.a.Oe=b.top=c)),Ym(a,!0)}else Ym(a,!1)}function gn(a){a=a?a:{},this.j=void 0!==a.collapsed?a.collapsed:!0,this.l=void 0!==a.collapsible?a.collapsible:!0,this.l||(this.j=!1);var b=void 0!==a.className?a.className:"ol-overviewmap",c=void 0!==a.tipLabel?a.tipLabel:"Overview map",d=void 0!==a.collapseLabel?a.collapseLabel:"«";"string"==typeof d?(this.o=document.createElement("span"),this.o.textContent=d):this.o=d,d=void 0!==a.label?a.label:"»","string"==typeof d?(this.u=document.createElement("span"),this.u.textContent=d):this.u=d;var e=this.l&&!this.j?this.o:this.u,d=document.createElement("button");d.setAttribute("type","button"),d.title=c,d.appendChild(e),B(d,"click",this.km,this),c=document.createElement("DIV"),c.className="ol-overviewmap-map";var f=this.f=new I({controls:new qe,interactions:new qe,target:c,view:a.view});a.layers&&a.layers.forEach(function(a){f.ug(a)},this),e=document.createElement("DIV"),e.className="ol-overviewmap-box",e.style.boxSizing="border-box",this.A=new Pm({position:[0,0],positioning:en,element:e}),this.f.vg(this.A),e=document.createElement("div"),e.className=b+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),e.appendChild(c),e.appendChild(d),Ie.call(this,{element:e,render:a.render?a.render:hn,target:a.target})}function hn(){var a=this.a,b=this.f;if(a.a&&b.a){var c=a.nb(),a=a.aa().Uc(c),d=b.nb(),c=b.aa().Uc(d),e=b.Ga(ac(a)),f=b.Ga(Zb(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];.1*f>b||.1*d>e||b>.75*f||e>.75*d?jn(this):Ob(c,a)||(a=this.f,c=this.a.aa(),a.aa().Mb(c.fb()))}kn(this)}function jn(a){var b=a.a;a=a.f;var c=b.nb(),b=b.aa().Uc(c),c=a.nb();a=a.aa(),kc(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),a.lf(b,c)}function kn(a){var b=a.a,c=a.f;if(b.a&&c.a){var l,d=b.nb(),e=b.aa(),f=c.aa(),c=e.Ra(),b=a.A,g=a.A.be(),h=e.Uc(d),d=f.Oa(),e=Yb(h),f=$b(h);(a=a.a.aa().fb())&&(l=[e[0]-a[0],e[1]-a[1]],wb(l,c),rb(l,a)),b.Ef(l),g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}function ln(a){a.element.classList.toggle("ol-collapsed"),a.j?Ee(a.o,a.u):Ee(a.u,a.o),a.j=!a.j;var b=a.f;a.j||b.a||(b.ld(),jn(a),Da(b,"postrender",function(){kn(this)},a))}function mn(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=b+"-inner",this.f=document.createElement("DIV"),this.f.className=b+" ol-unselectable",this.f.appendChild(this.l),this.u=null,this.o=void 0!==a.minWidth?a.minWidth:64,this.j=!1,this.C=void 0,this.A="",Ie.call(this,{element:this.f,render:a.render?a.render:nn,target:a.target}),B(this,Ua(on),this.L,this),this.D(a.units||pn)}function nn(a){this.u=(a=a.frameState)?a.viewState:null,rn(this)}function rn(a){var b=a.u;if(b){var c=b.projection,d=c.ic(),b=xc(c,b.resolution,b.center)*d,d=a.o*b,c="",e=a.Eb();e==sn?(c=qc.degrees,b/=c,c/60>d?(c="″",b*=3600):c>d?(c="′",b*=60):c="°"):e==tn?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):e==un?(b/=1852,c="nm"):e==pn?1>d?(c="mm",b*=1e3):1e3>d?c="m":(c="km",b/=1e3):e==vn?.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):ha(!1,33);for(var f,e=3*Math.floor(Math.log(a.o*b)/Math.log(10));;){if(f=qn[(e%3+3)%3]*Math.pow(10,Math.floor(e/3)),d=Math.round(f/b),isNaN(d))return a.f.style.display="none",void(a.j=!1);if(d>=a.o)break;++e}b=f+" "+c,a.A!=b&&(a.l.innerHTML=b,a.A=b),a.C!=d&&(a.l.style.width=d+"px",a.C=d),a.j||(a.f.style.display="",a.j=!0)}else a.j&&(a.f.style.display="none",a.j=!1)}function wn(a){a=a?a:{},this.f=void 0,this.j=xn,this.u=[],this.C=this.o=0,this.U=null,this.fa=!1,this.Z=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button"),c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control",d.appendChild(c),this.l=new Tf(d),B(this.l,"pointerdown",this.Nk,this),B(this.l,"pointermove",this.Xg,this),B(this.l,"pointerup",this.Yg,this),B(d,"click",this.Mk,this),B(c,"click",Ka),Ie.call(this,{element:d,render:a.render?a.render:yn})}function yn(a){if(a.frameState){if(!this.fa){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e),b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.U=[b,e],c>d?(this.j=1,this.C=c-b):(this.j=xn,this.o=d-e),this.fa=!0}a=a.frameState.viewState.resolution,a!==this.f&&(this.f=a,zn(this,a))}}function zn(a,b){var c;c=1-Rd(a.a.aa())(b);var d=a.element.firstElementChild;1==a.j?d.style.left=a.C*c+"px":d.style.top=a.o*c+"px"}function An(a,b){return Qd(a.a.aa())(1-b)}function Bn(a){a=a?a:{},this.f=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button"),e.title=d,e.appendChild("string"==typeof c?document.createTextNode(c):c),B(e,"click",this.j,this),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control",c.appendChild(e),Ie.call(this,{element:c,target:a.target})}function Cn(a){Sa.call(this),a=a?a:{},this.a=null,B(this,Ua(Dn),this.Kl,this),this.Cf(void 0!==a.tracking?a.tracking:!1)}function J(a){Sa.call(this),this.f=void 0,this.a="geometry",this.i=null,this.j=void 0,this.c=null,B(this,Ua(this.a),this.he,this),void 0!==a&&(a instanceof Rc||!a?this.Pa(a):this.I(a))}function In(a){if("function"!=typeof a){var b;Array.isArray(a)?b=a:(ha(a instanceof xi,41),b=[a]),a=function(){return b}}return a}function Kn(a,b){return Jn.createElementNS(a,b)}function Ln(a,b){return Mn(a,b,[]).join("")}function Mn(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)c.push(b?String(a.nodeValue).replace(/(\r\n|\r|\n)/g,""):a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)Mn(a,b,c);return c}function Nn(a){return a instanceof Document}function On(a){return a instanceof Node}function Pn(a){return(new DOMParser).parseFromString(a,"application/xml")}function Qn(a,b){return function(c,d){var e=a.call(b,c,d);void 0!==e&&bb(d[d.length-1],e)}}function Rn(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&d[d.length-1].push(e)}}function Sn(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}}function Tn(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){var g,e=c[c.length-1],f=b.localName;g=f in e?e[f]:e[f]=[],g.push(d)}}}function K(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function L(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}}function Un(a){var b,c;return function(d,e,f){if(!b){b={};var g={};g[d.localName]=a,b[d.namespaceURI]=g,c=Vn(d.localName)}Wn(b,c,e,f)}}function Vn(a,b){return function(c,d,e){return c=d[d.length-1].node,d=a,void 0===d&&(d=e),e=b,void 0===b&&(e=c.namespaceURI),Kn(e,d)}}function Yn(a,b){for(var c=b.length,d=Array(c),e=0;c>e;++e)d[e]=a[b[e]];return d}function M(a,b,c){c=void 0!==c?c:{};var d,e;for(d=0,e=a.length;e>d;++d)c[a[d]]=b;return c}function Zn(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function N(a,b,c,d,e){return d.push(a),Zn(b,c,d,e),d.pop()}function Wn(a,b,c,d,e,f){for(var h,l,g=(void 0!==e?e:c).length,m=0;g>m;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function $n(a,b,c,d,e,f,g){e.push(a),Wn(b,c,d,e,f,g),e.pop()}function ao(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"==typeof a?a(e,f,g):a,!0),"arraybuffer"==b.Y()&&(h.responseType="arraybuffer"),h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var e,a=b.Y();"json"==a||"text"==a?e=h.responseText:"xml"==a?(e=h.responseXML)||(e=Pn(h.responseText)):"arraybuffer"==a&&(e=h.response),e?c.call(this,b.La(e,{featureProjection:g}),b.Wa(e)):d.call(this)}else d.call(this)}.bind(this),h.send()}}function bo(a,b){return ao(a,b,function(a){this.Tc(a)},ea)}function co(){this.j=this.defaultDataProjection=null}function eo(a,b,c){var d;return c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.Wa(b),featureProjection:c.featureProjection}),fo(a,d)}function fo(a,b){return ta({dataProjection:a.defaultDataProjection,featureProjection:a.j},b)}function go(a,b,c){var f,d=c?zc(c.featureProjection):null,e=c?zc(c.dataProjection):null;if(f=d&&e&&!Mc(d,e)?a instanceof Rc?(b?a.clone():a).ob(b?d:e,b?e:d):Qc(b?a.slice():a,b?d:e,b?e:d):a,b&&c&&c.decimals){var g=Math.pow(10,c.decimals);a=function(a){for(var b=0,c=a.length;c>b;++b)a[b]=Math.round(a[b]*g)/g;return a},Array.isArray(f)?a(f):f.sc(a)}return f}function ho(){co.call(this)}function io(a){return"string"==typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}function jo(a,b,c,d,e,f){var g=0/0,h=0/0,l=(c-b)/d;if(0!==l)if(1==l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else{var p,h=a[b],l=a[b+1],m=0,g=[0];for(p=b+d;c>p;p+=d){var n=a[p],q=a[p+1],m=m+Math.sqrt((n-h)*(n-h)+(q-l)*(q-l));g.push(m),h=n,l=q}for(c=e*m,l=0,m=g.length,p=!1;m>l;)e=l+(m-l>>1),h=+Ya(g[e],c),0>h?l=e+1:(m=e,p=!h);e=p?l:~l,0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=pa(a[b],a[b+d],c),h=pa(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=g,f[1]=h,f):[g,h]}function ko(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);for(b/=d,c/=d;c>b;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;if(c=a[b*d-1],e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c),c=[];var g;for(g=0;d-1>g;++g)c.push(pa(a[(b-1)*d+g],a[b*d+g],f));return c.push(e),c}function lo(a,b,c,d,e,f){var g=0;if(f)return ko(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;for(e=0,f=b.length;f>e;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;if(d<=a[h-1])return ko(a,g,h,c,d,!1);g=h}}return null}function P(a,b){Uc.call(this),this.c=null,this.A=this.C=this.l=-1,this.qa(a,b)}function Qi(a){return a.l!=a.g&&(a.c=a.Kg(.5,a.c),a.l=a.g),a.c}function Q(a,b){Uc.call(this),this.c=[],this.l=this.A=-1,this.qa(a,b)}function Ri(a){var b=[],c=a.B,d=0,e=a.c;a=a.a;var f,g;for(f=0,g=e.length;g>f;++f){var h=e[f],d=jo(c,d,h,a,.5);bb(b,d),d=h}return b}function mo(a,b){var f,g,c=a.ka,d=[],e=[];for(f=0,g=b.length;g>f;++f){var h=b[f];0===f&&(c=h.ka),bb(d,h.ia()),e.push(d.length)}a.da(c,d,e)}function R(a,b){Uc.call(this),this.qa(a,b)}function S(a,b){Uc.call(this),this.c=[],this.A=-1,this.C=null,this.P=this.D=this.L=-1,this.l=null,this.qa(a,b)}function Ti(a){if(a.A!=a.g){var g,h,b=a.B,c=a.c,d=a.a,e=0,f=[];for(g=0,h=c.length;h>g;++g){var l=c[g],e=Tb(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2),e=l[l.length-1]}for(b=Si(a),c=a.c,d=a.a,g=0,h=[],l=0,e=c.length;e>l;++l){var m=c[l];h=sd(b,g,m,d,f,2*l,h),g=m[m.length-1]}a.C=h,a.A=a.g}return a.C}function Si(a){if(a.P!=a.g){var c,b=a.B;a:{c=a.c;var d,e;for(d=0,e=c.length;e>d;++d)if(!xd(b,c[d],a.a,void 0)){c=!1;break a}c=!0}c?a.l=b:(a.l=b.slice(),a.l.length=zd(a.l,a.c,a.a)),a.P=a.g}return a.l}function no(a,b,c,d){Xc(a,b,c),a.c=d,a.s()}function oo(a,b){var f,g,h,c=a.ka,d=[],e=[];for(f=0,g=b.length;g>f;++f){var l=b[f];0===f&&(c=l.ka);var m=d.length;h=l.Kb();var p,n;for(p=0,n=h.length;n>p;++p)h[p]+=m;bb(d,l.ia()),e.push(h)}no(a,c,d,e)}function po(a){a=a?a:{},co.call(this),this.b=a.geometryName}function qo(a,b){if(!a)return null;var c;if("number"==typeof a.x&&"number"==typeof a.y)c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=ro(a),f=[];c=[];var g,h;for(g=0,h=d.length;h>g;++g){var l=ab(d[g]);wd(l,0,l.length,e.length)?f.push([d[g]]):c.push(d[g])}for(;c.length;){for(d=c.shift(),e=!1,g=f.length-1;g>=0;g--)if(Ob(new md(f[g][0]).G(),new md(d).G())){f[g].push(d),e=!0;break}e||f.push([d.reverse()])}a=ta({},a),1===f.length?(c="Polygon",a.rings=f[0]):(c="MultiPolygon",a.rings=f)}return go(so[c](a),!1,b)}function ro(a){var b="XY";return!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM"),b}function to(a){return a=a.ka,{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}function vo(a,b){return uo[a.Y()](go(a,!0,b),b)}function wo(a){this.Nb=a}function zo(a){this.Nb=a}function Ao(a,b,c){this.Nb=a,this.b=b,this.a=c}function Bo(a,b){Ao.call(this,"And",a,b)}function Co(a,b,c){this.Nb="BBOX",this.geometryName=a,this.extent=b,this.srsName=c}function Do(a,b){this.Nb=a,this.b=b}function Eo(a,b,c,d){Do.call(this,a,b),this.g=c,this.a=d}function Fo(a,b,c){Eo.call(this,"PropertyIsEqualTo",a,b,c)}function Go(a,b){Eo.call(this,"PropertyIsGreaterThan",a,b)}function Ho(a,b){Eo.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}function Io(a,b,c,d){this.Nb=a,this.geometryName=b||"the_geom",this.geometry=c,this.srsName=d}function Jo(a,b,c){Io.call(this,"Intersects",a,b,c)}function Ko(a,b,c){Do.call(this,"PropertyIsBetween",a),this.a=b,this.g=c}function Lo(a,b,c,d,e,f){Do.call(this,"PropertyIsLike",a),this.f=b,this.i=void 0!==c?c:"*",this.c=void 0!==d?d:".",this.g=void 0!==e?e:"!",this.a=f}function Mo(a){Do.call(this,"PropertyIsNull",a)}function No(a,b){Eo.call(this,"PropertyIsLessThan",a,b)}function Oo(a,b){Eo.call(this,"PropertyIsLessThanOrEqualTo",a,b)}function Po(a){this.Nb="Not",this.condition=a}function Qo(a,b,c){Eo.call(this,"PropertyIsNotEqualTo",a,b,c)}function Ro(a,b){Ao.call(this,"Or",a,b)}function So(a,b,c){Io.call(this,"Within",a,b,c)}function To(a,b){return new Bo(a,b)}function Uo(a,b,c){return new Co(a,b,c)}function Vo(a){Rc.call(this),this.f=a?a:null,Wo(this)}function Xo(a){var c,d,b=[];for(c=0,d=a.length;d>c;++c)b.push(a[c].clone());return b}function Yo(a){var b,c;if(a.f)for(b=0,c=a.f.length;c>b;++b)Ea(a.f[b],"change",a.s,a)}function Wo(a){var b,c;if(a.f)for(b=0,c=a.f.length;c>b;++b)B(a.f[b],"change",a.s,a)}function Zo(a){a=a?a:{},co.call(this),this.defaultDataProjection=zc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326"),a.featureProjection&&(this.j=zc(a.featureProjection)),this.b=a.geometryName}function $o(a,b){return a?go(ap[a.type](a),!1,b):null}function bp(a,b){return cp[a.Y()](go(a,!0,b),b)}function dp(){this.f=new XMLSerializer,co.call(this)}function ep(a,b,c){return a=fp(a,b,c),0<a.length?a[0]:null}function fp(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&bb(d,a.oc(b,c));return d}function gp(a){a=a?a:{},this.featureType=a.featureType,this.featureNS=a.featureNS,this.srsName=a.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Sn(gp.prototype.Id),featureMembers:Sn(gp.prototype.Id)},dp.call(this)}function ip(a){return a=Ln(a,!1),jp(a)}function jp(a){return(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))?void 0!==a[1]||!1:void 0}function kp(a){return a=Ln(a,!1),a=Date.parse(a),isNaN(a)?void 0:a/1e3}function lp(a){return a=Ln(a,!1),mp(a)}function mp(a){return(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))?parseFloat(a[1]):void 0}function np(a){return a=Ln(a,!1),op(a)}function op(a){return(a=/^\s*(\d+)\s*$/.exec(a))?parseInt(a[1],10):void 0}function T(a){return Ln(a,!1).trim()}function pp(a,b){qp(a,b?"1":"0")}function rp(a,b){a.appendChild(Jn.createTextNode(b.toPrecision()))}function sp(a,b){a.appendChild(Jn.createTextNode(b.toString()))}function qp(a,b){a.appendChild(Jn.createTextNode(b))}function tp(a){a=a?a:{},gp.call(this,a),this.v=void 0!==a.surface?a.surface:!1,this.i=void 0!==a.curve?a.curve:!1,this.l=void 0!==a.multiCurve?a.multiCurve:!0,this.o=void 0!==a.multiSurface?a.multiSurface:!0,this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function up(a,b,c){c=c[c.length-1].srsName,b=b.$();for(var f,d=b.length,e=Array(d),g=0;d>g;++g){f=b[g];var h=g,l="enu";c&&(l=zc(c).b),e[h]="en"===l.substr(0,2)?f[0]+" "+f[1]:f[1]+" "+f[0]}qp(a,e.join(" "))}function Cp(a){a=a?a:{},gp.call(this,a),this.b["http://www.opengis.net/gml"].featureMember=Rn(gp.prototype.Id),this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Dp(a){a=a?a:{},dp.call(this),this.defaultDataProjection=zc("EPSG:4326"),this.b=a.readExtensions}function Fp(a,b,c,d){return a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat"))),"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0),"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0),a}function Gp(a,b,c){var d="XY",e=2;if(a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3),4!==e){var f,g;for(f=0,g=b.length/4;g>f;f++)b[f*e]=b[4*f],b[f*e+1]=b[4*f+1],a.hasZ&&(b[f*e+2]=b[4*f+2]),a.hasM&&(b[f*e+2]=b[4*f+3]);if(b.length=b.length/4*e,c)for(f=0,g=c.length;g>f;f++)c[f]=c[f]/4*e}return d}function Hp(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),Zn(Ip,a,b)}function Jp(a,b){b[b.length-1].extensionsNode_=a}function Kp(a,b){var c=b[0],d=N({flatCoordinates:[],layoutOptions:{}},Lp,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.layoutOptions;delete d.layoutOptions;var f=Gp(f,e),g=new P(null);return g.da(f,e),go(g,!1,c),c=new J(g),c.I(d),c}}function Mp(a,b){var c=b[0],d=N({flatCoordinates:[],ends:[],layoutOptions:{}},Np,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.ends;delete d.ends;var g=d.layoutOptions;delete d.layoutOptions;var g=Gp(g,e,f),h=new Q(null);return h.da(g,e,f),go(h,!1,c),c=new J(h),c.I(d),c}}function Op(a,b){var c=b[0],d=N({},Pp,a,b);if(d){var e={},f=Fp([],e,a,d),e=Gp(e,f),f=new C(f,e);return go(f,!1,c),c=new J(f),c.I(d),c}}function Vp(a,b){b||(b=[]);for(var c=0,d=b.length;d>c;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}function Wp(a,b,c){a.setAttribute("href",b),b=c[c.length-1].properties,$n({node:a},Xp,Xn,[b.linkText,b.linkType],c,Yp)}function Zp(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;switch(a.setAttributeNS(null,"lat",b[1]),a.setAttributeNS(null,"lon",b[0]),d.geometryLayout){case"XYZM":0!==b[3]&&(f.time=b[3]);case"XYZ":0!==b[2]&&(f.ele=b[2]);break;case"XYM":0!==b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?$p[e]:aq[e],
d=Yn(f,b),$n({node:a,properties:f},bq,Xn,d,c,b)}function jq(a,b){var c=a.V();return c&&(c=iq[c.Y()])?Kn(b[b.length-1].node.namespaceURI,c):void 0}function lq(){co.call(this)}function mq(a){return"string"==typeof a?a:""}function nq(a){a=a?a:{},co.call(this),this.defaultDataProjection=zc("EPSG:4326"),this.b=a.altitudeMode?a.altitudeMode:oq}function vq(a,b,c,d,e,f){Na.call(this),this.l=null,this.a=a?a:new Image,null!==d&&(this.a.crossOrigin=d),this.c=f?document.createElement("CANVAS"):null,this.j=f,this.i=null,this.f=e,this.g=c,this.o=b,this.v=!1,this.f==li&&wq(this)}function wq(a){var b=De(1,1);try{b.drawImage(a.a,0,0),b.getImageData(0,0,1,1)}catch(c){a.v=!0}}function xq(a){a=a||{},this.c=void 0!==a.anchor?a.anchor:[.5,.5],this.j=null,this.a=void 0!==a.anchorOrigin?a.anchorOrigin:yq,this.C=void 0!==a.anchorXUnits?a.anchorXUnits:zq,this.D=void 0!==a.anchorYUnits?a.anchorYUnits:zq,this.ra=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;ha(!(void 0!==d&&b),4),ha(!b||b&&c,5),void 0!==d&&0!==d.length||!b||(d=b.src||x(b).toString()),ha(void 0!==d&&0<d.length,6);var e=void 0!==a.src?ji:li;this.f=void 0!==a.color?ye(a.color):null;var f=this.ra,g=this.f,h=Nh.get(d,f,g);h||(h=new vq(b,d,c,f,e,g),Nh.set(d,f,g,h)),this.b=h,this.L=void 0!==a.offset?a.offset:[0,0],this.g=void 0!==a.offsetOrigin?a.offsetOrigin:yq,this.v=null,this.A=void 0!==a.size?a.size:null,ri.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1})}function Dq(a){a=a||{},this.g=a.font,this.j=a.rotation,this.v=a.rotateWithView,this.a=a.scale,this.H=a.text,this.l=a.textAlign,this.o=a.textBaseline,this.b=void 0!==a.fill?a.fill:new vi({color:"#333"}),this.f=void 0!==a.stroke?a.stroke:null,this.c=void 0!==a.offsetX?a.offsetX:0,this.i=void 0!==a.offsetY?a.offsetY:0}function Eq(a){a=a?a:{},dp.call(this),Fq||(Gq=[255,255,255,1],Hq=new vi({color:Gq}),Iq=[20,2],Jq=Kq="pixels",Lq=[64,64],Mq="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Nq=.5,Oq=new xq({anchor:Iq,anchorOrigin:Cq,anchorXUnits:Kq,anchorYUnits:Jq,crossOrigin:"anonymous",rotation:0,scale:Nq,size:Lq,src:Mq}),Pq="NO_IMAGE",Qq=new wi({color:Gq,width:1}),Rq=new wi({color:[51,51,51,1],width:2}),Sq=new Dq({font:"bold 16px Helvetica",fill:Hq,stroke:Rq,scale:.8}),Tq=new xi({fill:Hq,image:Oq,text:Sq,stroke:Qq,zIndex:0}),Fq=[Tq]),this.defaultDataProjection=zc("EPSG:4326"),this.g=a.defaultStyle?a.defaultStyle:Fq,this.c=void 0!==a.extractStyles?a.extractStyles:!0,this.l=void 0!==a.writeStyles?a.writeStyles:!0,this.b={},this.i=void 0!==a.showPointNames?a.showPointNames:!0}function Xq(a,b){var c,d=[0,0],e="start";if(a.a&&(c=a.a.de(),null===c&&(c=Lq),2==c.length&&(e=a.a.i,d[0]=e*c[0]/2,d[1]=-e*c[1]/2,e="left")),null!==a.Ka()){var f=a.Ka();c=f.clone(),c.si(f.g||Sq.g),c.Th(f.a||Sq.a),c.Sh(f.b||Sq.b),c.Uh(f.f||Rq)}else c=Sq.clone();return c.Vh(b),c.yi(d[0]),c.zi(d[1]),c.Bi(e),new xi({text:c})}function Yq(a,b,c,d,e){return function(){var f=e,g="";if(f&&this.V()&&(f="Point"===this.V().Y()),f&&(g=this.get("name"),f=f&&g),a)return f?(f=Xq(a[0],g),a.concat(f)):a;if(b){var h=Zq(b,c,d);return f?(f=Xq(h[0],g),h.concat(f)):h}return f?(f=Xq(c[0],g),c.concat(f)):c}}function Zq(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),Zq(c[a],b,c)):b}function $q(a){return a=Ln(a,!1),(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))?(a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]):void 0}function ar(a){a=Ln(a,!1);for(var d,b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);return""!==a?void 0:b}function br(a){var b=Ln(a,!1).trim();return a.baseURI?new URL(b,a.baseURI).href:b}function cr(a){return lp(a)}function dr(a,b){return N(null,er,a,b)}function fr(a,b){var c=N({B:[],Mi:[]},gr,a,b);if(c){var e,f,d=c.B,c=c.Mi;for(e=0,f=Math.min(d.length,c.length);f>e;++e)d[4*e+3]=c[e];return c=new P(null),c.da("XYZM",d),c}}function hr(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new P(null);return e.da("XYZ",d),e.I(c),e}}function kr(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new E(null);return e.da("XYZ",d,[d.length]),e.I(c),e}}function lr(a,b){var c=N([],mr,a,b);if(!c)return null;if(0===c.length)return new Vo(c);var d,g,h,l,e=!0,f=c[0].Y();for(h=1,l=c.length;l>h;++h)if(g=c[h],g.Y()!=f){e=!1;break}if(e)if("Point"==f){for(d=c[0],e=d.ka,f=d.ia(),h=1,l=c.length;l>h;++h)g=c[h],bb(f,g.ia());d=new R(null),d.da(e,f),nr(d,c)}else"LineString"==f?(d=new Q(null),mo(d,c),nr(d,c)):"Polygon"==f?(d=new S(null),oo(d,c),nr(d,c)):"GeometryCollection"==f?d=new Vo(c):ha(!1,37);else d=new Vo(c);return d}function or(a,b){var c=N({},ir,a,b),d=N(null,jr,a,b);if(d){var e=new C(null);return e.da("XYZ",d),e.I(c),e}}function pr(a,b){var c=N({},ir,a,b),d=N([null],qr,a,b);if(d&&d[0]){var h,l,e=new E(null),f=d[0],g=[f.length];for(h=1,l=d.length;l>h;++h)bb(f,d[h]),g.push(f.length);return e.da("XYZ",f,g),e.I(c),e}}function rr(a,b){var c=N({},sr,a,b);if(!c)return null;var d="fillStyle"in c?c.fillStyle:Hq,e=c.fill;void 0===e||e||(d=null),e="imageStyle"in c?c.imageStyle:Oq,e==Pq&&(e=void 0);var f="textStyle"in c?c.textStyle:Sq,g="strokeStyle"in c?c.strokeStyle:Qq,c=c.outline;return void 0===c||c||(g=null),[new xi({fill:d,image:e,stroke:g,text:f,zIndex:void 0})]}function nr(a,b){var f,g,h,l,c=b.length,d=Array(b.length),e=Array(b.length);for(h=l=!1,g=0;c>g;++g)f=b[g],d[g]=f.get("extrude"),e[g]=f.get("altitudeMode"),h=h||void 0!==d[g],l=l||e[g];h&&a.set("extrude",d),l&&a.set("altitudeMode",e)}function tr(a,b){Zn(ur,a,b)}function vr(a,b){Zn(wr,a,b)}function Or(a,b){var c;for(c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE){var d=Pr(a,c);if(d)return d}}function Pr(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(Za(Vq,c.namespaceURI)&&"name"==c.localName)return T(c);for(c=b.firstElementChild;c;c=c.nextElementSibling){var d=c.localName;if(Za(Vq,c.namespaceURI)&&("Document"==d||"Folder"==d||"Placemark"==d||"kml"==d)&&(d=Pr(a,c)))return d}}function Qr(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&bb(d,Rr(a,c));return d}function Rr(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(Za(Vq,c.namespaceURI)&&"NetworkLink"==c.localName){var e=N({},Jr,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)e=c.localName,!Za(Vq,c.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||bb(d,Rr(a,c));return d}function Sr(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&bb(d,a.Ie(c));return d}function Tr(a,b){var d,c=ye(b),c=[255*(4==c.length?c[3]:1),c[2],c[1],c[0]];for(d=0;4>d;++d){var e=parseInt(c[d],10).toString(16);c[d]=1==e.length?"0"+e:e}qp(a,c.join(""))}function Ur(a,b,c){a={node:a};var e,f,d=b.Y();"GeometryCollection"==d?(e=b.pf(),f=Vr):"MultiPoint"==d?(e=b.re(),f=Wr):"MultiLineString"==d?(e=b.Yc(),f=Xr):"MultiPolygon"==d?(e=b.Ad(),f=Yr):ha(!1,39),$n(a,Zr,f,e,c)}function $r(a,b,c){$n({node:a},as,bs,[b],c)}function cs(a,b,c){var d={node:a};b.f&&a.setAttribute("id",b.f),a=b.R();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.a]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=Yn(a,f);$n(d,ds,es,[{names:f,values:g}],c)}(f=b.Gc())&&(f=f.call(b,0))&&(f=Array.isArray(f)?f[0]:f,this.l&&(a.Style=f),(f=f.Ka())&&(a.name=f.Ka())),f=fs[c[c.length-1].node.namespaceURI],a=Yn(a,f),$n(d,ds,Xn,a,c,f),a=c[0],(b=b.V())&&(b=go(b,!0,a)),$n(d,ds,Vr,[b],c)}function gs(a,b,c){var d=b.ia();a={node:a},a.layout=b.ka,a.stride=b.pa(),$n(a,hs,is,[d],c)}function js(a,b,c){b=b.Zc();var d=b.shift();a={node:a},$n(a,ks,ls,b,c),$n(a,ks,ms,[d],c)}function ns(a,b){rp(a,Math.round(1e6*b)/1e6)}function xs(a,b,c){return Kn(Uq[0],"gx:"+c)}function qs(a,b){return Kn(b[b.length-1].node.namespaceURI,"Placemark")}function Vr(a,b){return a?Kn(b[b.length-1].node.namespaceURI,ts[a.Y()]):void 0}function Is(a,b,c,d){this.g=a,this.b=b,this.c=c,this.f=d}function Js(a){co.call(this),a=a?a:{},this.defaultDataProjection=new sc({code:"",units:"tile-pixels"}),this.b=a.featureClass?a.featureClass:Is,this.g=a.geometryName?a.geometryName:"geometry",this.a=a.layerName?a.layerName:"layer",this.f=a.layers?a.layers:null}function Ks(a,b,c){for(var d=0,e=0,f=a.length;f>e;++e){var h,l,g=a[e];for(h=0,l=g.length;l>h;++h){var m=g[h];b.push(m.x,m.y)}d+=2*h,c.push(d)}}function Ls(){dp.call(this),this.defaultDataProjection=zc("EPSG:4326")}function Ms(a,b){b[b.length-1].Nd[a.getAttribute("k")]=a.getAttribute("v")}function Rs(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Ss(){}function Ts(){}function it(a,b,c,d){var e;e=void 0!==d?d:[];for(var f=d=0;b>f;){var g=a[f++];for(e[d++]=a[f++],e[d++]=g,g=2;c>g;++g)e[d++]=a[f++]}e.length=d}function jt(a){a=a?a:{},co.call(this),this.defaultDataProjection=zc("EPSG:4326"),this.b=a.factor?a.factor:1e5,this.a=a.geometryLayout?a.geometryLayout:"XY"}function kt(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;var f,g;for(f=0,g=a.length;g>f;)for(d=0;b>d;++d,++f){var h=a[f],l=h-e[d];e[d]=h,a[f]=l}return lt(a,c?c:1e5)}function mt(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;a=nt(a,c?c:1e5);var f;for(c=0,f=a.length;f>c;)for(d=0;b>d;++d,++c)e[d]+=a[c],a[c]=e[d];return a}function lt(a,b){var d,e,c=b?b:1e5;for(d=0,e=a.length;e>d;++d)a[d]=Math.round(a[d]*c);for(c=0,d=a.length;d>c;++c)e=a[c],a[c]=0>e?~(e<<1):e<<1;for(c="",d=0,e=a.length;e>d;++d){for(var g,f=a[d],h="";f>=32;)g=(32|31&f)+63,h+=String.fromCharCode(g),f>>=5;h+=String.fromCharCode(f+63),c+=h}return c}function nt(a,b){var g,h,c=b?b:1e5,d=[],e=0,f=0;for(g=0,h=a.length;h>g;++g){var l=a.charCodeAt(g)-63,e=e|(31&l)<<f;32>l?(d.push(e),f=e=0):f+=5}for(e=0,f=d.length;f>e;++e)g=d[e],d[e]=1&g?~(g>>1):g>>1;for(e=0,f=d.length;f>e;++e)d[e]/=c;return d}function ot(a){a=a?a:{},co.call(this),this.defaultDataProjection=zc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}function pt(a,b){var d,e,f,g,c=[];for(f=0,g=a.length;g>f;++f)d=a[f],f>0&&c.pop(),e=d>=0?b[d]:b[~d].slice().reverse(),c.push.apply(c,e);for(d=0,e=c.length;e>d;++d)c[d]=c[d].slice();return c}function qt(a,b,c,d,e){a=a.geometries;var g,h,f=[];for(g=0,h=a.length;h>g;++g)f[g]=rt(a[g],b,c,d,e);return f}function rt(a,b,c,d,e){var f=a.type,g=st[f];return b="Point"===f||"MultiPoint"===f?g(a,c,d):g(a,b),c=new J,c.Pa(go(b,!1,e)),void 0!==a.id&&c.cc(a.id),a.properties&&c.I(a.properties),c}function tt(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]}function ut(a){a=a?a:{},this.i=a.featureType,this.g=a.featureNS,this.b=a.gmlFormat?a.gmlFormat:new tp,this.c=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",dp.call(this)}function xt(a,b){for(var c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE)return yt(a,c)}function yt(a,b){var c={},d=op(b.getAttribute("numberOfFeatures"));return c.numberOfFeatures=d,N(c,zt,b,[],a.b)}function vt(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return N({},wt,a,[])}function Et(a,b){var c=Kn("http://www.opengis.net/ogc","Filter"),d=Kn("http://www.opengis.net/ogc","FeatureId");c.appendChild(d),d.setAttribute("fid",b),a.appendChild(c)}function Gt(a,b,c){a={node:a};var d=b.b;$n(a,Ht,Vn(d.Nb),[d],c),b=b.a,$n(a,Ht,Vn(b.Nb),[b],c)}function It(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Jt(a,b.b),Kt(a,""+b.g)}function Lt(a,b,c){a=Kn("http://www.opengis.net/ogc",a),qp(a,c),b.appendChild(a)}function Jt(a,b){Lt("PropertyName",a,b)}function Kt(a,b){Lt("Literal",a,b)}function Mt(a){a=a?a:{},co.call(this),this.b=void 0!==a.splitCollection?a.splitCollection:!1}function Nt(a){return a=a.$(),0===a.length?"":a.join(" ")}function Ot(a){a=a.$();for(var b=[],c=0,d=a.length;d>c;++c)b.push(a[c].join(" "));return b.join(",")}function Pt(a){var b=[];a=a.Zc();for(var c=0,d=a.length;d>c;++c)b.push("("+Ot(a[c])+")");return b.join(",")}function Qt(a){var b=a.Y(),c=Rt[b](a),b=b.toUpperCase();if(a instanceof Uc){a=a.ka;var d="";("XYZ"===a||"XYZM"===a)&&(d+="Z"),("XYM"===a||"XYZM"===a)&&(d+="M"),a=d,0<a.length&&(b+=" "+a)}return 0===c.length?b+" EMPTY":b+"("+c+")"}function Tt(a){this.a=a,this.b=-1}function Wt(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if(b>="0"&&"9">=b||"."==b||"-"==b){c.type=4;var d,b=a.b,e=!1,f=!1;do"."==d?e=!0:("e"==d||"E"==d)&&(f=!0),d=a.a.charAt(++a.b);while(d>="0"&&"9">=d||"."==d&&(void 0===e||!e)||!f&&("e"==d||"E"==d)||f&&("-"==d||"+"==d));a=parseFloat(a.a.substring(b,a.b--)),c.value=a}else if(b>="a"&&"z">=b||b>="A"&&"Z">=b){c.type=1,b=a.b;do d=a.a.charAt(++a.b);while(d>="a"&&"z">=d||d>="A"&&"Z">=d);a=a.a.substring(b,a.b--).toUpperCase(),c.value=a}else{if(" "==b||"	"==b||"\r"==b||"\n"==b)return Wt(a);if(""!==b)throw Error("Unexpected character: "+b);c.type=6}return c}function St(a){this.g=a,this.a="XY"}function Ut(a){a.b=Wt(a.g)}function Xt(a,b){var c=a.b.type==b;return c&&Ut(a),c}function Vt(a){var b=a.b;if(Xt(a,1)){var b=b.value,c="XY",d=a.b;if(1==a.b.type&&(d=d.value,"Z"===d?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Ut(a)),a.a=c,"GEOMETRYCOLLECTION"==b){a:{if(Xt(a,2)){b=[];do b.push(Vt(a));while(Xt(a,5));if(Xt(a,3)){a=b;break a}}else if(Yt(a)){a=[];break a}throw Error(Zt(a))}return new Vo(a)}if(d=$t[b],c=au[b],!d||!c)throw Error("Invalid geometry type: "+b);return b=d.call(a),new c(b,a.a)}throw Error(Zt(a))}function bu(a){for(var b=[],c=a.a.length,d=0;c>d;++d){var e=a.b;if(!Xt(a,4))break;b.push(e.value)}if(b.length==c)return b;throw Error(Zt(a))}function cu(a){for(var b=[bu(a)];Xt(a,5);)b.push(bu(a));return b}function du(a){for(var b=[a.Nf()];Xt(a,5);)b.push(a.Nf());return b}function Yt(a){var b=1==a.b.type&&"EMPTY"==a.b.value;return b&&Ut(a),b}function Zt(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.g.a+"`"}function eu(){this.version=void 0}function gu(a,b){return N({},hu,a,b)}function iu(a,b){return N({},ju,a,b)}function ku(a,b){var c=gu(a,b);if(c){var d=[op(a.getAttribute("width")),op(a.getAttribute("height"))];return c.size=d,c}}function lu(a,b){return N([],mu,a,b)}function Bu(a){a=a?a:{},this.g="http://mapserver.gis.umn.edu/mapserver",this.b=new Cp,this.c=a.layers?a.layers:null,dp.call(this)}function Cu(){this.g=new Ts}function Eu(a){var b=T(a).split(" ");return b&&2==b.length?(a=+b[0],b=+b[1],isNaN(a)||isNaN(b)?void 0:[a,b]):void 0}function Ru(a){Sa.call(this),a=a||{},this.a=null,this.c=Oc,this.f=void 0,B(this,Ua(Su),this.Ql,this),B(this,Ua(Tu),this.Rl,this),void 0!==a.projection&&this.nh(zc(a.projection)),void 0!==a.trackingOptions&&this.Ci(a.trackingOptions),this.ne(void 0!==a.tracking?a.tracking:!1)}function bv(a,b,c){Uc.call(this),this.dg(a,b?b:0,c)}function cv(a){var b=a.B[a.a]-a.B[0];return a=a.B[a.a+1]-a.B[1],b*b+a*a}function dv(a,b,c){for(var r,u,w,y,z,d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],p=[1,0],n={},q=1e5;0<--q&&0<p.length;)w=p.pop(),e=l.pop(),g=m.pop(),f=w.toString(),f in n||(d.push(g[0],g[1]),n[f]=!0),y=p.pop(),f=l.pop(),h=m.pop(),z=(w+y)/2,r=a(z),u=b(r),la(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=y.toString(),n[f]=!0):(p.push(y,z,z,w),m.push(h,u,u,g),l.push(f,r,r,e));return d}function ev(a,b,c,d,e){var f=zc("EPSG:4326");return dv(function(d){return[a,b+(c-b)*d]},Nc(f,d),e)}function fv(a,b,c,d,e){var f=zc("EPSG:4326");return dv(function(d){return[b+(c-b)*d,a]},Nc(f,d),e)}function gv(a){a=a||{},this.c=this.l=null,this.g=this.i=1/0,this.f=this.j=-(1/0),this.A=this.u=1/0,this.D=this.C=-(1/0),this.va=void 0!==a.targetSize?a.targetSize:100,this.L=void 0!==a.maxLines?a.maxLines:100,this.b=[],this.a=[],this.ra=void 0!==a.strokeStyle?a.strokeStyle:hv,this.H=this.o=void 0,this.v=null,this.setMap(void 0!==a.map?a.map:null)}function jv(a,b,c,d,e,f,g){var h=g;return b=ev(b,c,d,a.c,e),h=void 0!==a.b[h]?a.b[h]:new P(null),h.da("XY",b),jc(h.G(),f)&&(a.b[g++]=h),g}function kv(a,b,c,d,e){var f=e;return b=fv(b,a.f,a.g,a.c,c),f=void 0!==a.a[f]?a.a[f]:new P(null),f.da("XY",b),jc(f.G(),d)&&(a.a[e++]=f),e}function lv(a,b,c,d,e){ag.call(this,a,b),this.l=c,this.g=new Image,null!==d&&(this.g.crossOrigin=d),this.i=null,this.o=e}function mv(a){a.i.forEach(ya),a.i=null}function nv(a){a=a?a:{},lg.call(this,{handleEvent:mc}),this.i=a.formatConstructors?a.formatConstructors:[],this.l=a.projection?zc(a.projection):null,this.a=null,this.target=a.target?a.target:null}function ov(a){a=a.dataTransfer.files;var b,c,d;for(b=0,c=a.length;c>b;++b){d=a.item(b);var e=new FileReader;e.addEventListener("load",this.j.bind(this,d)),e.readAsText(d)}}function pv(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function qv(a,b,c,d){Ia.call(this,a),this.features=c,this.file=b,this.projection=d}function sv(a){a=a?a:{},Bg.call(this,{handleDownEvent:tv,handleDragEvent:uv,handleUpEvent:vv}),this.o=a.condition?a.condition:xg,this.a=this.i=void 0,this.j=0,this.u=void 0!==a.duration?a.duration:400}function uv(a){if(zg(a)){var b=a.map,c=b.nb(),d=a.pixel;a=d[0]-c[0]/2,d=c[1]/2-d[1],c=Math.atan2(d,a),a=Math.sqrt(a*a+d*d),b=b.aa(),void 0!==this.i&&(d=c-this.i,ng(b,b.Ra()-d)),this.i=c,void 0!==this.a&&(c=this.a*(b.Oa()/a),pg(b,c)),void 0!==this.a&&(this.j=this.a/a),this.a=a}}function vv(a){if(!zg(a))return!0;a=a.map.aa(),Jd(a,1,-1);var b=this.j-1,c=a.Ra(),c=a.constrainRotation(c,0);ng(a,c,void 0,void 0);var c=a.Oa(),d=this.u,c=a.constrainResolution(c,0,b);return pg(a,c,void 0,d),this.j=0,!1}function tv(a){return zg(a)&&this.o(a)?(Jd(a.map.aa(),1,1),this.a=this.i=void 0,!0):!1}function wv(){return[[-(1/0),-(1/0),1/0,1/0]]}function U(a){a=a||{},hm.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.U=ea,this.P=a.format,this.xa=void 0==a.overlaps?!0:a.overlaps,this.Z=a.url,void 0!==a.loader?this.U=a.loader:void 0!==this.Z&&(ha(this.P,7),this.U=bo(this.Z,this.P)),this.fc=void 0!==a.strategy?a.strategy:wv;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new jl:null,this.sa=new jl,this.i={},this.l={},this.o={},this.v={},this.c=null;var c,d;a.features instanceof qe?(c=a.features,d=c.a):Array.isArray(a.features)&&(d=a.features),b||void 0!==c||(c=new qe(d)),void 0!==d&&xv(this,d),void 0!==c&&yv(this,c)}function Av(a,b,c){a.v[b]=[B(c,"change",a.Mh,a),B(c,Xa,a.Mh,a)]}function zv(a,b,c){var d=!0,e=c.f;return void 0!==e?e.toString()in a.l?d=!1:a.l[e.toString()]=c:(ha(!(b in a.o),30),a.o[b]=c),d}function xv(a,b){var c,d,e,f,g=[],h=[],l=[];for(d=0,e=b.length;e>d;d++)f=b[d],c=x(f).toString(),zv(a,c,f)&&h.push(f);for(d=0,e=h.length;e>d;d++){f=h[d],c=x(f).toString(),Av(a,c,f);var m=f.V();m?(c=m.G(),g.push(c),l.push(f)):a.i[c]=f}for(a.a&&a.a.load(g,l),d=0,e=h.length;e>d;d++)a.b(new Bv(Cv,h[d]))}function yv(a,b){var c=!1;B(a,Cv,function(a){c||(c=!0,b.push(a.feature),c=!1)}),B(a,Dv,function(a){c||(c=!0,b.remove(a.feature),c=!1)}),B(b,ue,function(a){c||(c=!0,this.gb(a.element),c=!1)},a),B(b,ve,function(a){c||(c=!0,this.rb(a.element),c=!1)},a),a.c=b}function Fv(a,b,c){a.Qb([b[0],b[1],b[0],b[1]],function(a){return a.V().mb(b)?c.call(void 0,a):void 0})}function Gv(a,b){for(var c in a.l)if(a.l[c]===b){delete a.l[c];break}}function Bv(a,b){Ia.call(this,a),this.feature=b}function Iv(a){Bg.call(this,{handleDownEvent:Jv,handleEvent:Kv,handleUpEvent:Lv}),this.fa=null,this.u=!1,this.Ua=a.source?a.source:null,this.xa=a.features?a.features:null,this.Mj=a.snapTolerance?a.snapTolerance:12,this.U=a.type,this.i=Mv(this.U),this.Fa=a.minPoints?a.minPoints:this.i===Nv?3:2,this.na=a.maxPoints?a.maxPoints:1/0,this.fc=a.finishCondition?a.finishCondition:mc;var b=a.geometryFunction;if(!b)if("Circle"===this.U)b=function(a,b){var c=b?b:new bv([0/0,0/0]);return c.dg(a[0],Math.sqrt(yb(a[0],a[1]))),c};else{var c,d=this.i;d===Ov?c=C:d===Pv?c=P:d===Nv&&(c=E),b=function(a,b){var g=b;return g?g.qa(d===Nv?[a[0].concat([a[0][0]])]:a):g=new c(a),g}}this.D=b,this.P=this.C=this.a=this.L=this.j=this.o=null,this.Ob=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.sa=new G({source:new U({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:Qv()}),this.Ja=a.geometryName,this.Lj=a.condition?a.condition:wg,this.Xe=a.freehand?mc:a.freehandCondition?a.freehandCondition:xg,B(this,Ua(mg),this.Li,this)}function Qv(){var a=Ci();return function(b){return a[b.V().Y()]}}function Kv(a){this.u=this.i!==Ov&&this.Xe(a);var b=!this.u;return this.u&&"pointerdrag"===a.type&&null!==this.j?(Rv(this,a),b=!1):"pointermove"===a.type?b=Sv(this,a):"dblclick"===a.type&&(b=!1),Cg.call(this,a)&&b}function Jv(a){return this.u?(this.fa=a.pixel,this.o||Tv(this,a),!0):this.Lj(a)?(this.fa=a.pixel,!0):!1}function Lv(a){var b=this.fa,c=a.pixel,d=b[0]-c[0],b=b[1]-c[1],d=d*d+b*b,b=!0,c=this.i===Uv;return(this.u?d>this.Ob:d<=this.Ob)?(Sv(this,a),this.o?this.u||c?this.zd():Vv(this,a)?this.fc(a)&&this.zd():Rv(this,a):(Tv(this,a),this.i===Ov&&this.zd()),b=!1):c&&(this.o=null),b}function Sv(a,b){if(a.o){var e,c=b.coordinate,d=a.j.V();a.i===Ov?e=a.a:a.i===Nv?(e=a.a[0],e=e[e.length-1],Vv(a,b)&&(c=a.o.slice())):(e=a.a,e=e[e.length-1]),e[0]=c[0],e[1]=c[1],a.D(a.a,d),a.L&&a.L.V().qa(c),d instanceof E&&a.i!==Nv?(a.C||(a.C=new J(new P(null))),d=d.Qg(0),c=a.C.V(),c.da(d.ka,d.ia())):a.P&&(c=a.C.V(),c.qa(a.P)),Wv(a)}else c=b.coordinate.slice(),a.L?a.L.V().qa(c):(a.L=new J(new C(c)),Wv(a));return!0}function Vv(a,b){var c=!1;if(a.j){var d=!1,e=[a.o];if(a.i===Pv?d=a.a.length>a.Fa:a.i===Nv&&(d=a.a[0].length>a.Fa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]),d)for(var d=b.map,f=0,g=e.length;g>f;f++){var h=e[f],l=d.Ga(h),m=b.pixel,c=m[0]-l[0],l=m[1]-l[1];if(c=Math.sqrt(c*c+l*l)<=(a.u?1:a.Mj)){a.o=h;break}}}return c}function Tv(a,b){var c=b.coordinate;a.o=c,a.i===Ov?a.a=c.slice():a.i===Nv?(a.a=[[c.slice(),c.slice()]],a.P=a.a[0]):(a.a=[c.slice(),c.slice()],a.i===Uv&&(a.P=a.a)),a.P&&(a.C=new J(new P(a.P))),c=a.D(a.a),a.j=new J,a.Ja&&a.j.Nc(a.Ja),a.j.Pa(c),Wv(a),a.b(new Xv(Yv,a.j))}function Rv(a,b){var e,f,c=b.coordinate,d=a.j.V();a.i===Pv?(a.o=c.slice(),f=a.a,f.length>=a.na&&(a.u?f.pop():e=!0),f.push(c.slice()),a.D(f,d)):a.i===Nv&&(f=a.a[0],f.length>=a.na&&(a.u?f.pop():e=!0),f.push(c.slice()),e&&(a.o=f[0]),a.D(a.a,d)),Wv(a),e&&a.zd()}function Zv(a){a.o=null;var b=a.j;return b&&(a.j=null,a.L=null,a.C=null,a.sa.la().clear(!0)),b}function Wv(a){var b=[];a.j&&b.push(a.j),a.C&&b.push(a.C),a.L&&b.push(a.L),a=a.sa.la(),a.clear(!0),a.Tc(b)}function Mv(a){var b;return"Point"===a||"MultiPoint"===a?b=Ov:"LineString"===a||"MultiLineString"===a?b=Pv:"Polygon"===a||"MultiPolygon"===a?b=Nv:"Circle"===a&&(b=Uv),b}function Xv(a,b){Ia.call(this,a),this.feature=b}function aw(a){this.a=this.j=null,this.C=!1,this.D=this.o=null,a||(a={}),a.extent&&this.i(a.extent),Bg.call(this,{handleDownEvent:bw,handleDragEvent:cw,handleEvent:dw,handleUpEvent:ew}),this.u=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:fw(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.L=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:gw(),updateWhileAnimating:!0,updateWhileInteracting:!0})}function dw(a){if(!(a instanceof cf))return!0;if("pointermove"==a.type&&!this.A){var b=a.pixel,c=a.map,d=hw(this,b,c);d||(d=c.Sa(b)),iw(this,d)}return Cg.call(this,a),!1}function bw(a){function b(a){var b=null,c=null;return a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]),a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]),null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();return(a=hw(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=jw(b(a)):null!==c?this.a=kw(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=kw(b([e[0],d]),b([e[2],d])))):(a=d.Sa(c),this.i([a[0],a[1],a[0],a[1]]),this.a=jw(a)),!0}function cw(a){return this.a&&(a=a.coordinate,this.i(this.a(a)),iw(this,a)),!0}function ew(){this.a=null;var a=this.G();return a&&0!==bc(a)||this.i(null),!1}function fw(){var a=Ci();return function(){return a.Polygon}}function gw(){var a=Ci();return function(){return a.Point}}function jw(a){return function(b){return Gb([a,b])}}function kw(a,b){return a[0]==b[0]?function(c){return Gb([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return Gb([a,[b[0],c[1]]])}:null}function hw(a,b,c){function d(a,b){return zb(e,a)-zb(e,b)}var e=c.Sa(b),f=a.G();if(f){f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]],f.sort(d);var f=f[0],g=sb(e,f),h=c.Ga(g);if(10>=Math.sqrt(yb(b,h)))return b=c.Ga(f[0]),c=c.Ga(f[1]),b=yb(h,b),c=yb(h,c),a.C=10>=Math.sqrt(Math.min(b,c)),a.C&&(g=b>c?f[1]:f[0]),g}return null}function iw(a,b){var c=a.D;c?c.V().qa(b):(c=new J(new C(b)),a.D=c,a.L.la().gb(c))}function lw(a){Ia.call(this,mw),this.b=a}function nw(a){Bg.call(this,{handleDownEvent:ow,handleDragEvent:pw,handleEvent:qw,handleUpEvent:rw}),this.Ua=a.condition?a.condition:Ag,this.xa=function(a){return wg(a)&&vg(a)},this.Ja=a.deleteCondition?a.deleteCondition:this.xa,this.Fa=this.a=null,this.sa=[0,0],this.C=this.L=!1,this.i=new jl,this.fa=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.o=this.na=!1,this.j=[],this.D=new G({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:sw(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.U={Point:this.Cm,LineString:this.uh,LinearRing:this.uh,Polygon:this.Dm,MultiPoint:this.Am,MultiLineString:this.zm,MultiPolygon:this.Bm,GeometryCollection:this.ym},this.u=a.features,this.u.forEach(this.Gf,this),B(this.u,ue,this.wm,this),B(this.u,ve,this.xm,this),this.P=null}function uw(a,b){a.C||(a.C=!0,a.b(new vw(ww,a.u,b)))}function xw(a,b){yw(a,b),a.a&&0===a.u.Ub()&&(a.D.la().rb(a.a),a.a=null),Ea(b,"change",a.th,a)}function yw(a,b){var c=a.i,d=[];c.forEach(function(a){b===a.feature&&d.push(a)});for(var e=d.length-1;e>=0;--e)c.remove(d[e])}function zw(a,b){var c=a.a;c?c.V().qa(b):(c=new J(new C(b)),a.a=c,a.D.la().gb(c))}function Aw(a,b){return a.index-b.index}function ow(a){if(!this.Ua(a))return!1;tw(this,a.pixel,a.map),this.j.length=0,this.C=!1;var b=this.a;if(b){var c=[],b=b.V().$(),d=Gb([b]),d=ml(this.i,d),e={};d.sort(Aw);for(var f=0,g=d.length;g>f;++f){var h=d[f],l=h.ta,m=x(h.feature),p=h.depth;p&&(m+="-"+p.join("-")),e[m]||(e[m]=Array(2)),vb(l[0],b)&&!e[m][0]?(this.j.push([h,0]),e[m][0]=h):vb(l[1],b)&&!e[m][1]?("LineString"!==h.geometry.Y()&&"MultiLineString"!==h.geometry.Y()||!e[m][0]||0!==e[m][0].index)&&(this.j.push([h,1]),e[m][1]=h):x(l)in this.Fa&&!e[m][0]&&!e[m][1]&&c.push([h,b])}for(c.length&&uw(this,a),a=c.length-1;a>=0;--a)this.pl.apply(this,c[a])}return!!this.a}function pw(a){this.L=!1,uw(this,a),a=a.coordinate;for(var b=0,c=this.j.length;c>b;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=g.$(),l=e.ta,d=d[1];a.length<g.pa();)a.push(l[d][a.length]);switch(g.Y()){case"Point":h=a,l[0]=l[1]=a;break;case"MultiPoint":h[e.index]=a,l[0]=l[1]=a;break;case"LineString":h[e.index+d]=a,l[d]=a;break;case"MultiLineString":h[f[0]][e.index+d]=a,l[d]=a;break;case"Polygon":h[f[0]][e.index+d]=a,l[d]=a;break;case"MultiPolygon":h[f[1]][f[0]][e.index+d]=a,l[d]=a}e=g,this.o=!0,e.qa(h),this.o=!1}zw(this,a)}function rw(a){for(var b,c=this.j.length-1;c>=0;--c)b=this.j[c][0],kl(this.i,Gb(b.ta),b);return this.C&&(this.b(new vw(Bw,this.u,a)),this.C=!1),!1}function qw(a){if(!(a instanceof cf))return!0;this.P=a;var b;return Md(a.map.aa())[1]||"pointermove"!=a.type||this.A||(this.sa=a.pixel,tw(this,a.pixel,a.map)),this.a&&this.Ja(a)&&(b="singleclick"==a.type&&this.L?!0:this.ki()),"singleclick"==a.type&&(this.L=!1),Cg.call(this,a)&&!b}function tw(a,b,c){function d(a,b){return zb(e,a.ta)-zb(e,b.ta)}var e=c.Sa(b),f=Jb(Sb(e),c.aa().Oa()*a.fa),f=ml(a.i,f);if(0<f.length){f.sort(d);var g=f[0].ta,h=sb(e,g),l=c.Ga(h);if(Math.sqrt(yb(b,l))<=a.fa){for(b=c.Ga(g[0]),c=c.Ga(g[1]),b=yb(l,b),l=yb(l,c),a.na=Math.sqrt(Math.min(b,l))<=a.fa,a.na&&(h=b>l?g[1]:g[0]),zw(a,h),h={},h[x(g)]=!0,c=1,b=f.length;b>c&&(l=f[c].ta,vb(g[0],l[0])&&vb(g[1],l[1])||vb(g[0],l[1])&&vb(g[1],l[0]));++c)h[x(l)]=!0;return void(a.Fa=h)}}a.a&&(a.D.la().rb(a.a),a.a=null)}function Cw(a,b,c,d,e){pl(a.i,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||db(a.depth,d))&&a.index>c&&(a.index+=e)})}function sw(){var a=Ci();return function(){return a.Point}}function vw(a,b,c){Ia.call(this,a),this.features=b,this.mapBrowserEvent=c}function Dw(a){if(lg.call(this,{handleEvent:Ew}),a=a?a:{},this.C=a.condition?a.condition:vg,this.A=a.addCondition?a.addCondition:nc,this.D=a.removeCondition?a.removeCondition:nc,this.L=a.toggleCondition?a.toggleCondition:xg,this.o=a.multi?a.multi:!1,this.l=a.filter?a.filter:mc,this.j=a.hitTolerance?a.hitTolerance:0,this.i=new G({source:new U({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:Fw(),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.layers)if("function"==typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return Za(b,a)}}else a=mc;this.u=a,this.a={},a=this.i.la().c,B(a,ue,this.Em,this),B(a,ve,this.Im,this)}function Ew(a){if(!this.C(a))return!0;var b=this.A(a),c=this.D(a),d=this.L(a),e=!b&&!c&&!d,f=a.map,g=this.i.la().c,h=[],l=[];if(e){for(ua(this.a),f.ae(a.pixel,function(a,b){if(this.l(a,b)){l.push(a);var c=x(a);return this.a[c]=b,!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),e=g.Ub()-1;e>=0;--e){var f=g.item(e),m=l.indexOf(f);m>-1?l.splice(m,1):(g.remove(f),h.push(f))}0!==l.length&&g.Bf(l)}else{for(f.ae(a.pixel,function(a,e){if(this.l(a,e)){if(!b&&!d||Za(g.a,a))(c||d)&&Za(g.a,a)&&(h.push(a),f=x(a),delete this.a[f]);else{l.push(a);var f=x(a);this.a[f]=e}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),e=h.length-1;e>=0;--e)g.remove(h[e]);g.Bf(l)}return(0<l.length||0<h.length)&&this.b(new Gw(Hw,l,h,a)),ug(a)}function Fw(){var a=Ci();return bb(a.Polygon,a.LineString),bb(a.GeometryCollection,a.LineString),function(b){return b.V()?a[b.V().Y()]:null}}function Gw(a,b,c,d){Ia.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d}function Iw(a){Bg.call(this,{handleEvent:Jw,handleDownEvent:mc,handleUpEvent:Kw}),a=a?a:{},this.o=a.source?a.source:null,this.sa=void 0!==a.vertex?a.vertex:!0,this.P=void 0!==a.edge?a.edge:!0,this.j=a.features?a.features:null,this.na=[],this.C={},this.D={},this.U={},this.u={},this.L=null,this.i=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.Fa=Lw.bind(this),this.a=new jl,this.fa={Point:this.Pm,LineString:this.xh,LinearRing:this.xh,Polygon:this.Qm,MultiPoint:this.Nm,MultiLineString:this.Mm,MultiPolygon:this.Om,GeometryCollection:this.Lm}}function Jw(a){var b,c,d=a.pixel,e=a.coordinate;b=a.map;var f=b.Sa([d[0]-this.i,d[1]+this.i]);c=b.Sa([d[0]+this.i,d[1]-this.i]);var h,f=Gb([f,c]),g=ml(this.a,f),f=!1,l=null;return c=null,0<g.length&&(this.L=e,g.sort(this.Fa),g=g[0].ta,this.sa&&!this.P?(e=b.Ga(g[0]),h=b.Ga(g[1]),e=yb(d,e),d=yb(d,h),h=Math.sqrt(Math.min(e,d)),(h=h<=this.i)&&(f=!0,l=e>d?g[1]:g[0],c=b.Ga(l))):this.P&&(l=sb(e,g),c=b.Ga(l),Math.sqrt(yb(d,c))<=this.i&&(f=!0,this.sa&&(e=b.Ga(g[0]),h=b.Ga(g[1]),e=yb(c,e),d=yb(c,h),h=Math.sqrt(Math.min(e,d)),h=h<=this.i)))&&(l=e>d?g[1]:g[0],c=b.Ga(l)),f&&(c=[Math.round(c[0]),Math.round(c[1])])),b=l,f&&(a.coordinate=b.slice(0,2),a.pixel=c),Cg.call(this,a)}function Kw(){var a=va(this.u);return a.length&&(a.forEach(this.Ki,this),this.u={}),!1}function Lw(a,b){return zb(this.L,a.ta)-zb(this.L,b.ta)}function Mw(a){Bg.call(this,{handleDownEvent:Nw,handleDragEvent:Ow,handleMoveEvent:Pw,handleUpEvent:Qw}),a=a?a:{},this.o=void 0,this.a=null,this.j=void 0!==a.features?a.features:null;var b;if(a.layers)if("function"==typeof a.layers)b=a.layers;else{var c=a.layers;b=function(a){return Za(c,a)}}else b=mc;this.C=b,this.u=a.hitTolerance?a.hitTolerance:0,this.i=null}function Nw(a){if(this.i=Rw(this,a.pixel,a.map),
!this.a&&this.i){this.a=a.coordinate,Pw.call(this,a);var b=this.j||new qe([this.i]);return this.b(new Sw(Tw,b,a.coordinate)),!0}return!1}function Qw(a){if(this.a){this.a=null,Pw.call(this,a);var b=this.j||new qe([this.i]);return this.b(new Sw(Uw,b,a.coordinate)),!0}return!1}function Ow(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new qe([this.i]);d.forEach(function(a){var d=a.V();d.translate(b,c),a.Pa(d)}),this.a=a,this.b(new Sw(Vw,d,a))}}function Pw(a){var b=a.map.Cc();Rw(this,a.pixel,a.map)?(this.o=b.style.cursor,b.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",b.style.cursor=this.a?"grabbing":"grab"):(b.style.cursor=void 0!==this.o?this.o:"",this.o=void 0)}function Rw(a,b,c){return c.ae(b,function(a){return!this.j||Za(this.j.a,a)?a:void 0}.bind(a),{layerFilter:a.C,hitTolerance:a.u})}function Sw(a,b,c){Ia.call(this,a),this.features=b,this.coordinate=c}function V(a){a=a?a:{};var b=ta({},a);delete b.gradient,delete b.radius,delete b.blur,delete b.shadow,delete b.weight,G.call(this,b),this.f=null,this.U=void 0!==a.shadow?a.shadow:250,this.P=void 0,this.c=null,B(this,Ua(Ww),this.Qk,this),this.ui(a.gradient?a.gradient:Xw),this.ni(void 0!==a.blur?a.blur:15),this.Ah(void 0!==a.radius?a.radius:8),B(this,Ua(Yw),this.xf,this),B(this,Ua(Zw),this.xf,this),this.xf();var d,c=a.weight?a.weight:"weight";d="string"==typeof c?function(a){return a.get(c)}:c,this.l(function(a){a=d(a),a=void 0!==a?ia(a,0,1):1;var b=255*a|0,c=this.c[b];return c||(c=[new xi({image:new xq({opacity:a,src:this.P})})],this.c[b]=c),c}.bind(this)),this.set("renderOrder",null),B(this,"render",this.gl,this)}function $w(a,b,c,d){function e(){delete window[g],f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+x(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e(),c&&c()},1e4);window[g]=function(a){clearTimeout(h),e(),b(a)},document.getElementsByTagName("head")[0].appendChild(f)}function ax(a,b,c,d,e,f,g,h,l,m,p){if(ag.call(this,e,0),this.C=void 0!==p?p:!1,this.A=g,this.u=h,this.H=null,this.f=b,this.l=d,this.o=f?f:e,this.g=[],this.kd=null,this.i=0,f=d.Na(this.o),h=this.l.G(),e=this.f.G(),f=h?ic(f,h):f,0===bc(f))this.state=4;else if((h=a.G())&&(e=e?ic(e,h):h),d=d.Ha(this.o[0]),d=am(a,c,gc(f),d),!isFinite(d)||0>=d)this.state=4;else if(this.v=new dm(a,c,f,e,d*(void 0!==m?m:.5)),0===this.v.f.length)this.state=4;else if(this.i=b.Ec(d),c=fm(this.v),e&&(a.a?(c[1]=ia(c[1],e[1],e[3]),c[3]=ia(c[3],e[1],e[3])):c=ic(c,e)),bc(c)){for(a=fe(b,c,this.i),b=a.ea;b<=a.ca;b++)for(c=a.ga;c<=a.ja;c++)(m=l(this.i,b,c,g))&&this.g.push(m);0===this.g.length&&(this.state=4)}else this.state=4}function bx(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){return g?a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;return ha(a,55),(a.ja-a.ga+1+g[2]).toString()}):void 0}}function cx(a,b){for(var c=a.length,d=Array(c),e=0;c>e;++e)d[e]=bx(a[e],b);return dx(d)}function dx(a){return 1===a.length?a[0]:function(b,c,d){return b?a[oa((b[1]<<b[0])+b[2],a.length)](b,c,d):void 0}}function ex(){}function fx(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var e,d=c[2].charCodeAt(0);for(e=c[1].charCodeAt(0);d>=e;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){for(d=parseInt(c[2],10),e=parseInt(c[1],10);d>=e;e++)b.push(a.replace(c[0],e.toString()));return b}return b.push(a),b}function gx(a){Fm.call(this),this.c=void 0!==a?a:2048}function hx(a){return a.f>a.c}function ix(a){hm.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.sa=void 0!==a.opaque?a.opaque:!1,this.xa=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.a=new gx(a.cacheSize),this.l=[0,0],this.jc=""}function Vi(a,b,c,d,e){if(b=a.Cd(b),!b)return!1;for(var g,h,f=!0,l=d.ea;l<=d.ca;++l)for(var m=d.ga;m<=d.ja;++m)g=a.Lb(c,l,m),h=!1,b.b.hasOwnProperty(g)&&(g=b.get(g),(h=g.W()===cg)&&(h=!1!==e(g))),h||(f=!1);return f}function jx(a,b){a.jc!==b&&(a.jc=b,a.s())}function kx(a,b,c){var d=void 0!==c?c:a.f;if(c=a.Db(d),a.D&&d.g){var e=b;b=e[0],a=ke(c,e),d=me(d),Mb(d,a)?b=e:(e=dc(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.wf(a,b))}if(e=b[0],d=b[1],a=b[2],c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=(c=f?fe(c,f,e):c.a?c.a[e]:null)?Ud(c,d,a):!0}return c?b:null}function lx(a,b){Ia.call(this,a),this.tile=b}function mx(a){ix.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.zc?this.zc.bind(this):ex,this.urls=null,a.urls?this.Ya(a.urls):a.url&&this.cb(a.url),a.tileUrlFunction&&this.Xa(a.tileUrlFunction)}function X(a){mx.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:nx,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=void 0!==a.tileClass?a.tileClass:lv,this.i={},this.v={},this.na=a.reprojectionErrorThreshold,this.C=!1}function ox(a,b,c,d,e,f,g){return b=[b,c,d],e=(c=kx(a,b,f))?a.tileUrlFunction(c,e,f):void 0,e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction),e.key=g,B(e,"change",a.Jh,a),e}function px(a,b,c,d,e,f){var g,h=a.Lb(b,c,d),l=a.jc;if(a.a.b.hasOwnProperty(h)){if(g=a.a.get(h),g.key!=l){var m=g;if(g=ox(a,b,c,d,e,f,l),g.a=0==m.W()?m.a:m,g.a){b=g.a,c=g;do{if(b.W()==cg){b.a=null;break}1==b.W()?c=b:0==b.W()?c.a=b.a:c=b,b=c.a}while(b)}a.a.replace(h,g)}}else g=ox(a,b,c,d,e,f,l),a.a.set(h,g);return g}function nx(a,b){a.ub().src=b}function qx(a){this.A=void 0!==a.hidpi?a.hidpi:!1,X.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:zc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.P=void 0!==a.culture?a.culture:"en-us",this.u=void 0!==a.maxZoom?a.maxZoom:-1,this.c=a.key,this.o=a.imagerySet,$w("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+this.c,this.fa.bind(this),void 0,"jsonp")}function sx(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:oe({extent:me(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0})}function tx(a){this.u=a.account,this.A=a.map||"",this.c=a.config||{},this.o={},sx.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX}),ux(this)}function ux(a){var b=JSON.stringify(a.c);if(a.o[b])vx(a,a.o[b]);else{var c="https://"+a.u+".cartodb.com/api/v1/map";a.A&&(c+="/named/"+a.A);var d=new XMLHttpRequest;d.addEventListener("load",a.Sk.bind(a,b)),d.addEventListener("error",a.Rk.bind(a)),d.open("POST",c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(a.c))}}function vx(a,b){a.cb("https://"+b.cdn_url.https+"/"+a.u+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")}function Y(a){U.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.C=void 0,this.fa=void 0!==a.distance?a.distance:20,this.A=[],this.na=a.geometryFunction||function(a){return a=a.V(),ha(a instanceof C,10),a},this.u=a.source,this.u.J("change",Y.prototype.Ja,this)}function wx(a){if(void 0!==a.C){a.A.length=0;for(var b=Hb(),c=a.fa*a.C,d=a.u.we(),e={},f=0,g=d.length;g>f;f++){var h=d[f];x(h).toString()in e||!(h=a.na(h))||(h=h.$(),Sb(h,b),Jb(b,c,b),h=a.u.nf(b),h=h.filter(function(a){return a=x(a).toString(),a in e?!1:e[a]=!0}),a.A.push(xx(a,h)))}}}function xx(a,b){for(var c=[0,0],d=b.length-1;d>=0;--d){var e=a.na(b[d]);e?rb(c,e.$()):b.splice(d,1)}return xb(c,1/b.length),c=new J(new C(c)),c.set("features",b),c}function yx(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");return a=a.replace(/[?&]$/,""),a=-1===a.indexOf("?")?a+"?":a+"&",a+d}function zx(a){a=a||{},km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.Z=void 0!==a.crossOrigin?a.crossOrigin:null,this.i=a.url,this.l=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm,this.u=a.params||{},this.c=null,this.v=[0,0],this.P=0,this.C=void 0!==a.ratio?a.ratio:1.5}function Ax(a){km.call(this,{projection:a.projection,resolutions:a.resolutions}),this.Z=void 0!==a.crossOrigin?a.crossOrigin:null,this.v=void 0!==a.displayDpi?a.displayDpi:96,this.l=a.params||{},this.P=a.url,this.c=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm,this.fa=void 0!==a.hidpi?a.hidpi:!0,this.na=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.u=void 0!==a.ratio?a.ratio:1,this.xa=void 0!==a.useOverlay?a.useOverlay:!1,this.i=null,this.C=0}function Bx(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm;km.call(this,{attributions:a.attributions,logo:a.logo,projection:zc(a.projection)}),this.c=new ii(b,void 0,1,this.j,a.url,c,d),this.i=a.imageSize?a.imageSize:null,B(this.c,"change",this.o,this)}function Cx(a){a=a||{},km.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.na=void 0!==a.crossOrigin?a.crossOrigin:null,this.l=a.url,this.C=void 0!==a.imageLoadFunction?a.imageLoadFunction:qm,this.i=a.params||{},this.u=!0,Dx(this),this.fa=a.serverType,this.xa=void 0!==a.hidpi?a.hidpi:!0,this.c=null,this.P=[0,0],this.Z=0,this.v=void 0!==a.ratio?a.ratio:1.5}function Fx(a,b,c,d,e,f){if(ha(void 0!==a.l,9),f[a.u?"CRS":"SRS"]=e.hb,"STYLES"in a.i||(f.STYLES=""),1!=d)switch(a.fa){case"geoserver":d=90*d+.5|0,f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case"mapserver":f.MAP_RESOLUTION=90*d;break;case"carmentaserver":case"qgis":f.DPI=90*d;break;default:ha(!1,8)}f.WIDTH=c[0],f.HEIGHT=c[1],c=e.b;var g;return g=a.u&&"ne"==c.substr(0,2)?[b[1],b[0],b[3],b[2]]:b,f.BBOX=g.join(","),yx(a.l,f)}function Dx(a){a.u=0<=qb(a.i.VERSION||"1.3.0")}function Gx(a){a=a||{};var b;b=void 0!==a.attributions?a.attributions:[Hx],sx.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}function Ix(a){this.C=null,this.xa=void 0!==a.operationType?a.operationType:Jx,this.Ja=void 0!==a.threads?a.threads:1,this.c=Kx(a.sources);for(var b=0,c=this.c.length;c>b;++b)B(this.c[b],"change",this.s,this);this.i=De(),this.fa=new ig(function(){return 1},this.s.bind(this));for(var b=Lx(this.c),c={},d=0,e=b.length;e>d;++d)c[x(b[d].layer)]=b[d];this.l=this.v=null,this.Z={animate:!1,attributions:{},coordinateToPixelTransform:Ph(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateTransform:Ph(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.fa,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},km.call(this,{}),void 0!==a.operation&&this.u(a.operation,a.lib)}function Nx(a,b,c){var d=a.v;return!d||a.g!==d.bp||c!==d.resolution||!Vb(b,d.extent)}function Lx(a){return a.map(function(a){return wh(a.a)})}function Kx(a){for(var b=a.length,c=Array(b),d=0;b>d;++d){var e=d,f=a[d],g=null;f instanceof ix?(f=new F({source:f}),g=new ij(f)):f instanceof km&&(f=new ei({source:f}),g=new hj(f)),c[e]=g}return c}function Px(a,b,c){Ia.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c}function Sx(a){var b=a.layer.indexOf("-"),b=Tx[-1==b?a.layer:a.layer.slice(0,b)],c=Ux[a.layer];sx.call(this,{attributions:Vx,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Bb})}function Wx(a){a=a||{},X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.c=a.params||{},this.o=Hb(),jx(this,Xx(this))}function Xx(a){var d,b=0,c=[];for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}function Yx(a){ix.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}function Zx(a,b,c){ag.call(this,a,cg),this.i=b,this.f=c,this.g=null}function $x(a){if(this.c=null,X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:zc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0}),a.jsonp)$w(a.url,this.Gh.bind(this),this.ue.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.vn.bind(this)),b.addEventListener("error",this.tn.bind(this)),b.open("GET",a.url),b.send()}}function ay(a){if(ix.call(this,{projection:zc("EPSG:3857"),state:"loading"}),this.v=void 0!==a.preemptive?a.preemptive:!0,this.o=ex,this.i=void 0,this.c=a.jsonp||!1,a.url)if(this.c)$w(a.url,this.Kf.bind(this),this.ve.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.zn.bind(this)),b.addEventListener("error",this.yn.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.Kf(a.tileJSON):ha(!1,51)}function cy(a,b,c,d,e,f){ag.call(this,a,b),this.o=c,this.g=d,this.H=e,this.f=this.l=this.i=null,this.v=f}function by(a,b,c,d,e){0==a.state&&!0===e?(Da(a,"change",function(){c.call(d,this.getData(b))},a),dy(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}function dy(a){if(0==a.state)if(a.state=1,a.v)$w(a.o,a.Hh.bind(a),a.ge.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.xn.bind(a)),b.addEventListener("error",a.wn.bind(a)),b.open("GET",a.o),b.send()}}function ey(a){a=a||{};var b=a.params||{};X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.u=void 0!==a.gutter?a.gutter:0,this.c=b,this.o=!0,this.A=a.serverType,this.U=void 0!==a.hidpi?a.hidpi:!0,this.P="",fy(this),this.Z=Hb(),gy(this),jx(this,hy(this))}function iy(a,b,c,d,e,f,g){var h=a.urls;if(h){if(g.WIDTH=c[0],g.HEIGHT=c[1],g[a.o?"CRS":"SRS"]=f.hb,"STYLES"in a.c||(g.STYLES=""),1!=e)switch(a.A){case"geoserver":c=90*e+.5|0,g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case"mapserver":g.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":g.DPI=90*e;break;default:ha(!1,52)}return f=f.b,a.o&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a),g.BBOX=d.join(","),yx(1==h.length?h[0]:h[oa((b[1]<<b[0])+b[2],h.length)],g)}}function fy(a){var b=0,c=[];if(a.urls){var d,e;for(d=0,e=a.urls.length;e>d;++d)c[b++]=a.urls[d]}a.P=c.join("#")}function hy(a){var d,b=0,c=[];for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}function gy(a){a.o=0<=qb(a.c.VERSION||"1.3.0")}function jy(a,b,c,d,e){ag.call(this,a,b),this.f=De(),this.l=d,this.i=null,this.g={xd:!1,bg:null,li:-1,cg:-1,jd:null},this.H=e,this.o=c}function ky(a,b){a.wi(ao(b,a.l,a.ho.bind(a),a.fo.bind(a)))}function ly(a){mx.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ky,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX}),this.c=a.format?a.format:null,this.i=void 0==a.overlaps?!0:a.overlaps,this.tileClass=a.tileClass?a.tileClass:jy}function my(a){this.l=a.matrixIds,be.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}function ny(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[];c=zc(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=c.ic(),p="ne"==c.b.substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a){var b;if(b=0<l.length?cb(l,function(b){return a.Identifier==b.TileMatrix}):!0){e.push(a.Identifier),b=28e-5*a.ScaleDenominator/m;var c=a.TileWidth,u=a.TileHeight;f.push(p?[a.TopLeftCorner[1],a.TopLeftCorner[0]]:a.TopLeftCorner),d.push(b),g.push(c==u?c:[c,u]),h.push([a.MatrixWidth,-a.MatrixHeight])}}),new my({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})}function Z(a){function b(a){return a=d==oy?yx(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};return ta(c,g),b=a,b=d==oy?yx(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.Z=void 0!==a.version?a.version:"1.0.0",this.u=void 0!==a.format?a.format:"image/jpeg",this.c=void 0!==a.dimensions?a.dimensions:{},this.A=a.layer,this.o=a.matrixSet,this.P=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=fx(a.url));var d=this.U=void 0!==a.requestEncoding?a.requestEncoding:oy,e=a.tileGrid,f={layer:this.A,style:this.P,tilematrixset:this.o};d==oy&&ta(f,{Service:"WMTS",Request:"GetTile",Version:this.Z,Format:this.u});var g=this.c,h=c&&0<c.length?dx(c.map(b)):ex;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1}),jx(this,py(this))}function py(a){var d,b=0,c=[];for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}function qy(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:ry){case ry:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case sy:for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:ha(!1,53)}e.push([1,1]),e.reverse();for(var f=[1],g=[0],d=1,c=e.length;c>d;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();var b=[0,-b[1],b[0],0],b=new be({extent:b,origin:ac(b),resolutions:f}),h=a.url;X.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:ty,tileGrid:b,tileUrlFunction:function(a){if(a){var b=a[0],c=a[1];return a=-a[2]-1,h+"TileGroup"+((c+a*e[b][0]+g[b])/256|0)+"/"+b+"-"+c+"-"+a+".jpg"}}})}function ty(a,b,c,d,e){lv.call(this,a,b,c,d,e),this.f=null}function uy(a,b){this.b=b,this.a=[{x:0,y:0,width:a,height:a}],this.f={},this.g=De(a,a),this.c=this.g.canvas}function vy(a,b,c,d){b=[b,1],0<c.width&&0<c.height&&b.push(c),0<d.width&&0<d.height&&b.push(d),a.a.splice.apply(a.a,b)}function wy(a){a=a||{},this.a=void 0!==a.initialSize?a.initialSize:256,this.g=void 0!==a.maxSize?a.maxSize:void 0!==ba?ba:2048,this.b=void 0!==a.space?a.space:1,this.c=[new uy(this.a,this.b)],this.f=this.a,this.i=[new uy(this.f,this.b)]}function xy(a,b,c,d,e,f,g){var l,m,p,h=b?a.i:a.c;for(m=0,p=h.length;p>m;++m){if(l=h[m],l=l.add(c,d,e,f,g))return l;l||m!==p-1||(b?(l=Math.min(2*a.f,a.g),a.f=l):(l=Math.min(2*a.a,a.g),a.a=l),l=new uy(l,a.b),h.push(l),++p)}return null}var k,ba,da,OPENLAYERS={},aa=this,fa=0;v(ga,Error);var ja=function(){var a;return a="cosh"in Math?Math.cosh:function(a){return a=Math.exp(a),(a+1/a)/2}}(),ta="function"==typeof Object.assign?Object.assign:function(a){if(!a||!a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;e>d;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};Ga.prototype.zb=!1,Ga.prototype.oa=ea,Ia.prototype.preventDefault=Ia.prototype.stopPropagation=function(){this.xo=!0},v(Na,Ga),Na.prototype.addEventListener=function(a,b){var c=this.ra[a];c||(c=this.ra[a]=[]),-1===c.indexOf(b)&&c.push(b)},Na.prototype.b=function(a){var b="string"==typeof a?new Ia(a):a;a=b.type,b.target=this;var d,c=this.ra[a];if(c){a in this.va||(this.va[a]=0,this.Qa[a]=0),++this.va[a];for(var e=0,f=c.length;f>e;++e)if(!1===c[e].call(this,b)||b.xo){d=!1;break}if(--this.va[a],0===this.va[a]){for(b=this.Qa[a],delete this.Qa[a];b--;)this.removeEventListener(a,ea);delete this.va[a]}return d}},Na.prototype.oa=function(){Fa(this)},Na.prototype.removeEventListener=function(a,b){var c=this.ra[a];if(c){var d=c.indexOf(b);a in this.Qa?(c[d]=ea,++this.Qa[a]):(c.splice(d,1),0===c.length&&delete this.ra[a])}},v(Pa,Na),k=Pa.prototype,k.s=function(){++this.g,this.b("change")},k.M=function(){return this.g},k.J=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;d>f;++f)e[f]=B(this,a[f],b,c);return e}return B(this,a,b,c)},k.N=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;d>f;++f)e[f]=Da(this,a[f],b,c);return e}return Da(this,a,b,c)},k.K=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;e>d;++d)Ea(this,a[d],b,c);else Ea(this,a,b,c)},k.O=Qa,v(Sa,Pa);var Ta={};k=Sa.prototype,k.get=function(a){var b;return this.H.hasOwnProperty(a)&&(b=this.H[a]),b},k.S=function(){return Object.keys(this.H)},k.R=function(){return ta({},this.H)},k.set=function(a,b,c){c?this.H[a]=b:(c=this.H[a],this.H[a]=b,c!==b&&Va(this,a,c))},k.I=function(a,b){for(var c in a)this.set(c,a[c],b)},k.T=function(a,b){if(a in this.H){var c=this.H[a];delete this.H[a],b||Va(this,a,c)}};var Xa="propertychange";v(Wa,Ia),oc.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;c>f;f++)var g=a[f][0],h=a[f][1],b=b+na(g-d)*(2+Math.sin(na(e))+Math.sin(na(h))),d=g,e=h;return b*this.radius*this.radius/2},oc.prototype.b=function(a,b){var c=na(a[1]),d=na(b[1]),e=(d-c)/2,f=na(b[0]-a[0])/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},oc.prototype.offset=function(a,b,c){var d=na(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(na(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var pc=new oc(6370997),qc={};qc.degrees=2*Math.PI*pc.radius/360,qc.ft=.3048,qc.m=1,qc["us-ft"]=1200/3937;var rc=null;k=sc.prototype,k.Zj=function(){return this.hb},k.G=function(){return this.f},k.Eb=function(){return this.c},k.ic=function(){return this.o||qc[this.c]},k.Jk=function(){return this.i},k.rl=function(){return this.g},k.hp=function(a){this.g=a,this.a=!(!a||!this.f)},k.Sm=function(a){this.f=a,this.a=!(!this.g||!a)},k.op=function(a){this.i=a},k.gp=function(a){this.l=a};var tc={},uc={};v(Rc,Sa),k=Rc.prototype,k.Cb=function(a,b){var c=b?b:[0/0,0/0];return this.Ab(a[0],a[1],c,1/0),c},k.mb=function(a){return this.Hc(a[0],a[1])},k.Hc=nc,k.G=function(a){this.u!=this.g&&(this.v=this.Yd(this.v),this.u=this.g);var b=this.v;return a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b,a},k.Jb=function(a){return this.Bd(a*a)},k.ob=function(a,b){return this.sc(Nc(a,b)),this},v(Uc,Rc),k=Uc.prototype,k.Hc=nc,k.Yd=function(a){return Tb(this.B,0,this.B.length,this.a,a)},k.Rb=function(){return this.B.slice(0,this.a)},k.ia=function(){return this.B},k.Sb=function(){return this.B.slice(this.B.length-this.a)},k.Tb=function(){return this.ka},k.Bd=function(a){if(this.o!=this.g&&(ua(this.i),this.j=0,this.o=this.g),0>a||0!==this.j&&a<=this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=this.$c(a);return c.ia().length<this.B.length?this.i[b]=c:(this.j=a,this)},k.$c=function(){return this},k.pa=function(){return this.a},k.sc=function(a){this.B&&(a(this.B,this.B,this.a),this.s())},k.rotate=function(a,b){var c=this.ia();if(c){for(var d=c.length,e=this.pa(),f=c?c:[],g=Math.cos(a),h=Math.sin(a),l=b[0],m=b[1],p=0,n=0;d>n;n+=e){var q=c[n]-l,r=c[n+1]-m;for(f[p++]=l+q*g-r*h,f[p++]=m+q*h+r*g,q=n+2;n+e>q;++q)f[p++]=c[q]}c&&f.length!=p&&(f.length=p),this.s()}},k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;if(e||(e=gc(this.G())),c=this.ia()){b=c.length;for(var f=this.pa(),g=c?c:[],h=e[0],e=e[1],l=0,m=0;b>m;m+=f){var p=c[m]-h,n=c[m+1]-e;for(g[l++]=h+a*p,g[l++]=e+d*n,p=m+2;m+f>p;++p)g[l++]=c[p]}c&&g.length!=l&&(g.length=l),this.s()}},k.translate=function(a,b){var c=this.ia();c&&(Tc(c,c.length,this.pa(),a,b,c),this.s())},v(md,Uc),k=md.prototype,k.clone=function(){var a=new md(null);return nd(a,this.ka,this.B.slice()),a},k.Ab=function(a,b,c,d){return d<Lb(this.G(),a,b)?d:(this.c!=this.g&&(this.l=Math.sqrt(bd(this.B,0,this.B.length,this.a,0)),this.c=this.g),dd(this.B,0,this.B.length,this.a,this.l,!0,a,b,c,d))},k.rm=function(){return Zc(this.B,0,this.B.length,this.a)},k.$=function(){return id(this.B,0,this.B.length,this.a)},k.$c=function(a){var b=[];return b.length=kd(this.B,0,this.B.length,this.a,a,b,0),a=new md(null),nd(a,"XY",b),a},k.Y=function(){return"LinearRing"},k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):nd(this,"XY",null)},v(C,Uc),k=C.prototype,k.clone=function(){var a=new C(null);return a.da(this.ka,this.B.slice()),a},k.Ab=function(a,b,c,d){var e=this.B;if(a=ma(a,b,e[0],e[1]),d>a){for(d=this.a,b=0;d>b;++b)c[b]=e[b];return c.length=d,a}return d},k.$=function(){return this.B?this.B.slice():[]},k.Yd=function(a){return Sb(this.B,a)},k.Y=function(){return"Point"},k.Ta=function(a){return Nb(a,this.B[0],this.B[1])},k.qa=function(a,b){a?(Yc(this,b,a,0),this.B||(this.B=[]),this.B.length=fd(this.B,a),this.s()):this.da("XY",null)},k.da=function(a,b){Xc(this,a,b),this.s()},v(E,Uc),k=E.prototype,k.Fj=function(a){this.B?bb(this.B,a.ia()):this.B=a.ia().slice(),this.c.push(this.B.length),this.s()},k.clone=function(){var a=new E(null);return a.da(this.ka,this.B.slice(),this.c.slice()),a},k.Ab=function(a,b,c,d){return d<Lb(this.G(),a,b)?d:(this.D!=this.g&&(this.L=Math.sqrt(cd(this.B,0,this.c,this.a,0)),this.D=this.g),ed(this.B,0,this.c,this.a,this.L,!0,a,b,c,d))},k.Hc=function(a,b){return rd(this.Vb(),0,this.c,this.a,a,b)},k.um=function(){return $c(this.Vb(),0,this.c,this.a)},k.$=function(a){var b;return void 0!==a?(b=this.Vb().slice(),yd(b,0,this.c,this.a,a)):b=this.B,jd(b,0,this.c,this.a)},k.Kb=function(){return this.c},k.ik=function(){return new C(Ad(this))},k.nk=function(){return this.c.length},k.Qg=function(a){if(0>a||this.c.length<=a)return null;var b=new md(null);return nd(b,this.ka,this.B.slice(0===a?0:this.c[a-1],this.c[a])),b},k.Zc=function(){var f,g,a=this.ka,b=this.B,c=this.c,d=[],e=0;for(f=0,g=c.length;g>f;++f){var h=c[f],l=new md(null);nd(l,a,b.slice(e,h)),d.push(l),e=h}return d},k.Vb=function(){if(this.P!=this.g){var a=this.B;xd(a,this.c,this.a)?this.l=a:(this.l=a.slice(),this.l.length=yd(this.l,0,this.c,this.a)),this.P=this.g}return this.l},k.$c=function(a){var b=[],c=[];return b.length=ld(this.B,0,this.c,this.a,Math.sqrt(a),b,0,c),a=new E(null),a.da("XY",b,c),a},k.Y=function(){return"Polygon"},k.Ta=function(a){return vd(this.Vb(),0,this.c,this.a,a)},k.qa=function(a,b){if(a){Yc(this,b,a,2),this.B||(this.B=[]);var c=hd(this.B,0,a,this.a,this.c);this.B.length=0===c.length?0:c[c.length-1],this.s()}else this.da("XY",null,this.c)},k.da=function(a,b,c){Xc(this,a,b),this.c=c,this.s()},v(Fd,Sa),k=Fd.prototype,k.animate=function(){var g,b=Date.now(),c=this.fb().slice(),d=this.Oa(),e=this.Ra(),f=arguments.length;f>1&&"function"==typeof arguments[f-1]&&(g=arguments[f-1],--f);for(var h=[],l=0;f>l;++l){var m=arguments[l],p={start:b,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||Db};m.center&&(p.fg=c,p.hg=m.center,c=p.hg),void 0!==m.zoom?(p.Me=d,p.Ne=this.constrainResolution(this.a,m.zoom-this.l,0),d=p.Ne):m.resolution&&(p.Me=d,p.Ne=m.resolution,d=p.Ne),void 0!==m.rotation&&(p.gg=e,p.Hi=m.rotation,e=p.Hi),p.Vc=g,b+=p.duration,h.push(p)}this.f.push(h),Jd(this,Kd,1),this.Pe()},k.Pe=function(){if(void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0),0<Md(this)[Kd]){for(var a=Date.now(),b=!1,c=this.f.length-1;c>=0;--c){for(var d=this.f[c],e=!0,f=0,g=d.length;g>f;++f){var h=d[f];if(!h.complete){if(b=a-h.start,b=0<h.duration?b/h.duration:1,b>=1?(h.complete=!0,b=1):e=!1,b=h.easing(b),h.fg){var l=h.fg[0],m=h.fg[1];this.set(Gd,[l+b*(h.hg[0]-l),m+b*(h.hg[1]-m)])}if(h.Me&&(l=h.Me+b*(h.Ne-h.Me),h.anchor&&this.set(Gd,Nd(this,l,h.anchor)),this.set(Hd,l)),void 0!==h.gg&&(b=h.gg+b*(h.Hi-h.gg),h.anchor&&this.set(Gd,Od(this,b,h.anchor)),this.set(Id,b)),b=!0,!h.complete)break}}e&&(this.f[c]=null,Jd(this,Kd,-1),(d=d[0].Vc)&&d(!0))}this.f=this.f.filter(Boolean),b&&void 0===this.v&&(this.v=requestAnimationFrame(this.Pe))}},k.Zd=function(a){return this.u.center(a)},k.constrainResolution=function(a,b,c){return this.u.resolution(a,b||0,c||0)},k.constrainRotation=function(a,b){return this.u.rotation(a,b||0)},k.fb=function(){return this.get(Gd)},k.Uc=function(a){var b=this.fb();ha(b,1);var c=this.Oa();ha(void 0!==c,2);var d=this.Ra();return ha(void 0!==d,3),hc(b,c,d,a)},k.Zl=function(){return this.a},k.$l=function(){return this.j},k.am=function(){return this.o},k.Oa=function(){return this.get(Hd)},k.bm=function(){return this.c},k.Ra=function(){return this.get(Id)},k.W=function(){var a=this.fb(),b=this.o,c=this.Oa(),d=this.Ra();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d}},k.Kk=function(){var a,b=this.Oa();if(void 0!==b&&b>=this.j&&b<=this.a){a=this.l||0;var c,d;if(this.c){if(d=$a(this.c,b,1),a+=d,d==this.c.length-1)return a;c=this.c[d],d=c/this.c[d+1]}else c=this.a,d=this.A;a+=Math.log(c/b)/Math.log(d)}return a},k.lf=function(a,b,c){a instanceof Uc||(ha(Array.isArray(a),24),ha(!cc(a),25),a=Cd(a)),c=c||{};var g,d=void 0!==c.padding?c.padding:[0,0,0,0],e=void 0!==c.constrainResolution?c.constrainResolution:!0,f=void 0!==c.nearest?c.nearest:!1;g=void 0!==c.minResolution?c.minResolution:void 0!==c.maxZoom?this.constrainResolution(this.a,c.maxZoom-this.l,0):0;var h=a.ia(),l=this.Ra(),m=Math.cos(-l),l=Math.sin(-l),p=1/0,n=1/0,q=-(1/0),r=-(1/0);a=a.pa();for(var u=0,w=h.length;w>u;u+=a)var y=h[u]*m-h[u+1]*l,z=h[u]*l+h[u+1]*m,p=Math.min(p,y),n=Math.min(n,z),q=Math.max(q,y),r=Math.max(r,z);b=Pd([p,n,q,r],[b[0]-d[1]-d[3],b[1]-d[0]-d[2]]),b=isNaN(b)?g:Math.max(b,g),e&&(g=this.constrainResolution(b,0,0),!f&&b>g&&(g=this.constrainResolution(g,-1,0)),b=g),l=-l,f=(p+q)/2+(d[1]-d[3])/2*b,d=(n+r)/2+(d[0]-d[2])/2*b,m=[f*m-d*l,d*m+f*l],void 0!==c.duration?this.animate({
resolution:b,center:m,duration:c.duration,easing:c.easing}):(this.Oc(b),this.Mb(m))},k.Kj=function(a,b,c){var d=this.Ra(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Oa(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g,d=-d,this.Mb([f*e-a*d,a*e+f*d])},k.rotate=function(a,b){if(void 0!==b){var c=Od(this,a,b);this.Mb(c)}this.pe(a)},k.Mb=function(a){this.set(Gd,a),0<Md(this)[Kd]&&Ld(this)},k.Oc=function(a){this.set(Hd,a),0<Md(this)[Kd]&&Ld(this)},k.pe=function(a){this.set(Id,a),0<Md(this)[Kd]&&Ld(this)},k.pp=function(a){a=this.constrainResolution(this.a,a-this.l,0),this.Oc(a)};var Gd="center",Hd="resolution",Id="rotation",Kd=0,ee=[0,0,0];k=be.prototype,k.Hg=function(a,b,c){a=fe(this,a,b);for(var d=a.ea,e=a.ca;e>=d;++d)for(var f=a.ga,g=a.ja;g>=f;++f)c([b,d,f])},k.G=function(){return this.v},k.Rg=function(){return this.maxZoom},k.Sg=function(){return this.minZoom},k.Kc=function(a){return this.g?this.g:this.f[a]},k.Ha=function(a){return this.b[a]},k.Wh=function(){return this.b},k.Na=function(a,b){var c=this.Kc(a[0]),d=this.Ha(a[0]),e=Zd(this.Za(a[0]),this.j),f=c[0]+a[1]*e[0]*d,c=c[1]+a[2]*e[1]*d;return Rb(f,c,f+e[0]*d,c+e[1]*d,b)},k.fe=function(a,b,c){return je(this,a[0],a[1],b,!1,c)},k.wf=function(a,b,c){return b=this.Ha(b),je(this,a[0],a[1],b,!1,c)},k.Za=function(a){return this.i?this.i:this.c[a]},k.Ec=function(a,b){return ia($a(this.b,a,b||0),this.minZoom,this.maxZoom)},pe.prototype.g=function(){return this.b},v(qe,Sa),k=qe.prototype,k.clear=function(){for(;0<this.Ub();)this.pop()},k.Bf=function(a){var b,c;for(b=0,c=a.length;c>b;++b)this.push(a[b]);return this},k.forEach=function(a,b){this.a.forEach(a,b)},k.Il=function(){return this.a},k.item=function(a){return this.a[a]},k.Ub=function(){return this.get(se)},k.ke=function(a,b){this.a.splice(a,0,b),re(this),this.b(new te(ue,b))},k.pop=function(){return this.Zf(this.Ub()-1)},k.push=function(a){var b=this.Ub();return this.ke(b,a),this.Ub()},k.remove=function(a){var c,d,b=this.a;for(c=0,d=b.length;d>c;++c)if(b[c]===a)return this.Zf(c)},k.Zf=function(a){var b=this.a[a];return this.a.splice(a,1),re(this),this.b(new te(ve,b)),b},k.ep=function(a,b){var c=this.Ub();if(c>a)c=this.a[a],this.a[a]=b,this.b(new te(ve,c)),this.b(new te(ue,b));else{for(;a>c;++c)this.ke(c,void 0);this.ke(a,b)}};var se="length",ue="add",ve="remove";v(te,Ia);var we=/^#(?:[0-9a-f]{3}){1,2}$/i,xe=/^([a-z]*)$/i,ze=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(b>=1024){d=0;for(var e in a)0===(3&d++)&&(delete a[e],--b)}d=c;var f;if(xe.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e)),we.exec(d)){f=d.length-1,ha(3==f||6==f,54);var g=3==f?1:2;f=parseInt(d.substr(1+0*g,g),16),e=parseInt(d.substr(1+1*g,g),16),d=parseInt(d.substr(1+2*g,g),16),1==g&&(f=(f<<4)+f,e=(e<<4)+e,d=(d<<4)+d),f=[f,e,d,1]}else 0==d.indexOf("rgba(")?(d=d.slice(5,-1).split(",").map(Number),f=Be(d)):0==d.indexOf("rgb(")?(d=d.slice(4,-1).split(",").map(Number),d.push(1),f=Be(d)):ha(!1,14);d=f,a[c]=d,++b}return d}}();v(Ge,Ia),v(Ie,Sa),Ie.prototype.oa=function(){Fe(this.element),Sa.prototype.oa.call(this)},Ie.prototype.i=function(){return this.a},Ie.prototype.setMap=function(a){this.a&&Fe(this.element);for(var b=0,c=this.v.length;c>b;++b)ya(this.v[b]);this.v.length=0,(this.a=a)&&((this.P?this.P:a.u).appendChild(this.element),this.render!==ea&&this.v.push(B(a,"postrender",this.render,this)),a.render())},Ie.prototype.c=function(a){this.P="string"==typeof a?document.getElementById(a):a},v(Je,Ie),k=Je.prototype,k.em=function(a){a.preventDefault(),Le(this)},k.dm=function(){return this.l},k.gm=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.f&&Le(this))},k.fm=function(a){this.l&&this.f!==a&&Le(this)},k.cm=function(){return this.f},v(Me,Ie),Me.prototype.C=function(a){a.preventDefault(),Oe()&&(a=this.a)&&(Ne()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:a.Cc(),this.A?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Pe(a):Pe(a)))},Me.prototype.u=function(){var a=this.element.firstElementChild,b=this.a;Ne()?(a.className=this.f+"-true",Ee(this.o,this.l)):(a.className=this.f+"-false",Ee(this.l,this.o)),b&&b.ld()},Me.prototype.setMap=function(a){Ie.prototype.setMap.call(this,a),a&&this.v.push(B(document,Qe(),this.u,this))};var Qe=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();v(Re,Ie),Re.prototype.A=function(a){a.preventDefault(),void 0!==this.l?this.l():(a=this.a.aa())&&void 0!==a.Ra()&&(0<this.o?a.animate({rotation:0,duration:this.o,easing:Cb}):a.pe(0))},v(Te,Ie),Te.prototype.j=function(a,b){b.preventDefault();var c=this.a.aa();if(c){var d=c.Oa();d&&(d=c.constrainResolution(d,a),0<this.f?(0<Md(c)[Kd]&&Ld(c),c.animate({resolution:d,duration:this.f,easing:Cb})):c.Oc(d))}},v(Ve,Ie),k=Ve.prototype,k.hm=function(){this.j=null},k.Lg=function(){return this.get(Ze)},k.rh=function(){return this.get(Xe)},k.$k=function(a){this.l=this.a.ce(a),Ye(this,this.l)},k.al=function(){Ye(this,null),this.l=null},k.setMap=function(a){Ie.prototype.setMap.call(this,a),a&&(a=a.f,this.v.push(B(a,"mousemove",this.$k,this),B(a,"mouseout",this.al,this)))},k.oi=function(a){this.set(Ze,a)},k.sh=function(a){this.set(Xe,a)};var Xe="projection",Ze="coordinateFormat";v($e,Ge),$e.prototype.preventDefault=function(){Ge.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},$e.prototype.stopPropagation=function(){Ge.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var af={Np:"singleclick",Cp:"click",Dp:"dblclick",Gp:"pointerdrag",Jp:"pointermove",Fp:"pointerdown",Mp:"pointerup",Lp:"pointerover",Kp:"pointerout",Hp:"pointerenter",Ip:"pointerleave",Ep:"pointercancel"};v(cf,$e);var ff,vf,df=["experimental-webgl","webgl","webkit-3d","moz-webgl"],gf="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",hf=-1!==gf.indexOf("firefox"),jf=-1!==gf.indexOf("safari")&&-1==gf.indexOf("chrom"),kf=-1!==gf.indexOf("webkit")&&-1==gf.indexOf("edge"),lf=-1!==gf.indexOf("macintosh"),mf=window.devicePixelRatio||1,nf=!1,of=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(nf=!0),!0):!1}catch(b){return!1}}(),pf="DeviceOrientationEvent"in window,qf="geolocation"in navigator,rf="ontouchstart"in window,sf="PointerEvent"in window,tf=!!navigator.msPointerEnabled,uf=!1,wf=[];if("WebGLRenderingContext"in window)try{var xf=ef(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});xf&&(uf=!0,vf=xf.getParameter(xf.MAX_TEXTURE_SIZE),wf=xf.getSupportedExtensions())}catch(a){}ff=uf,da=wf,ba=vf,v(zf,yf),k=zf.prototype,k.tl=function(a){if(!Af(this,a)){if(1..toString()in this.a){var b=Bf(a);Df(this.b,"pointercancel",b,a),delete this.a[1..toString()]}b=Bf(a),this.a[1..toString()]=a,Df(this.b,"pointerdown",b,a)}},k.ul=function(a){if(!Af(this,a)){var b=Bf(a);Df(this.b,"pointermove",b,a)}},k.xl=function(a){if(!Af(this,a)){var b=this.a[1..toString()];b&&b.button===a.button&&(b=Bf(a),Df(this.b,"pointerup",b,a),delete this.a[1..toString()])}},k.wl=function(a){if(!Af(this,a)){var b=Bf(a);Ef(this.b,b,a)}},k.vl=function(a){if(!Af(this,a)){var b=Bf(a);Ff(this.b,b,a)}},v(Gf,yf),k=Gf.prototype,k.Cl=function(a){this.a[a.pointerId.toString()]=a;var b=Hf(this,a);Df(this.b,"pointerdown",b,a)},k.Dl=function(a){var b=Hf(this,a);Df(this.b,"pointermove",b,a)},k.Gl=function(a){var b=Hf(this,a);Df(this.b,"pointerup",b,a),delete this.a[a.pointerId.toString()]},k.El=function(a){var b=Hf(this,a);Ff(this.b,b,a)},k.Fl=function(a){var b=Hf(this,a);Ef(this.b,b,a)},k.Bl=function(a){var b=Hf(this,a);Df(this.b,"pointercancel",b,a),delete this.a[a.pointerId.toString()]},k.Al=function(a){this.b.b(new If("lostpointercapture",a,a))},k.zl=function(a){this.b.b(new If("gotpointercapture",a,a))},v(Jf,yf),k=Jf.prototype,k.po=function(a){Kf(this.b,a)},k.qo=function(a){Kf(this.b,a)},k.to=function(a){Kf(this.b,a)},k.ro=function(a){Kf(this.b,a)},k.so=function(a){Kf(this.b,a)},k.oo=function(a){Kf(this.b,a)},k.sl=function(a){Kf(this.b,a)},k.Lk=function(a){Kf(this.b,a)},v(If,Ia);var Nf=!1;try{Nf=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}v(Of,yf),k=Of.prototype,k.mi=function(){this.i=0,this.f=void 0},k.up=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var f,g,h,e=[];for(f=0;d>f;++f){g=c[f],h=this.a[g];var l;if(!(l=1==g))a:{l=b.length;for(var m,p=0;l>p;p++)if(m=b[p],m.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.ef(a,e[f])}b=a.changedTouches[0],c=Object.keys(this.a).length,(0===c||1===c&&1..toString()in this.a)&&(this.g=b.identifier,void 0!==this.f&&clearTimeout(this.f)),Rf(this,a),this.i++,Qf(this,a,this.ko)},k.ko=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Xh:b.target};var c=this.b;b.bubbles=!0,Df(c,"pointerover",b,a),c=this.b,b.bubbles=!1,Df(c,"pointerenter",b,a),Df(this.b,"pointerdown",b,a)},k.tp=function(a){a.preventDefault(),Qf(this,a,this.yl)},k.yl=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Xh;Df(this.b,"pointermove",b,a),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ff(this.b,d,a),Ef(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.ef(a,b))),c.out=b,c.Xh=b.target}},k.sp=function(a){Rf(this,a),Qf(this,a,this.vp)},k.vp=function(a,b){Df(this.b,"pointerup",b,a),this.b.out(b,a),Sf(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))},k.rp=function(a){Qf(this,a,this.ef)},k.ef=function(a,b){Df(this.b,"pointercancel",b,a),this.b.out(b,a),Sf(this.b,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=setTimeout(this.mi.bind(this),200))},v(Tf,Na),Tf.prototype.f=function(a){var b=this.c[a.type];b&&b(a)},Tf.prototype.out=function(a,b){a.bubbles=!0,Df(this,"pointerout",a,b)},Tf.prototype.oa=function(){for(var b,a=this.a.length,c=0;a>c;c++)b=this.a[c],Wf(this,Object.keys(b.c));Na.prototype.oa.call(this)};var Xf=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];v(Yf,Na),k=Yf.prototype,k.$g=function(a){$f(this,a);var b=new cf("pointerup",this.f,a);this.b(b),!this.l&&0===a.button&&Zf(this,this.g),0===this.u&&(this.c.forEach(ya),this.c.length=0,this.l=!1,this.g=null,Ha(this.a),this.a=null)},k.cl=function(a){$f(this,a);var b=new cf("pointerdown",this.f,a);this.b(b),this.g=a,0===this.c.length&&(this.a=new Tf(document),this.c.push(B(this.a,"pointermove",this.Vl,this),B(this.a,"pointerup",this.$g,this),B(this.i,"pointercancel",this.$g,this)))},k.Vl=function(a){if(a.clientX!=this.g.clientX||a.clientY!=this.g.clientY){this.l=!0;var b=new cf("pointerdrag",this.f,a,this.l);this.b(b)}a.preventDefault()},k.So=function(a){this.b(new cf(a.type,this.f,a,!(!this.g||a.clientX==this.g.clientX&&a.clientY==this.g.clientY)))},k.oa=function(){this.v&&(ya(this.v),this.v=null),this.o&&(ya(this.o),this.o=null),this.c.forEach(ya),this.c.length=0,this.a&&(Ha(this.a),this.a=null),this.i&&(Ha(this.i),this.i=null),Na.prototype.oa.call(this)},v(ag,Na),ag.prototype.s=function(){this.b("change")},ag.prototype.bb=function(){return this.key+"/"+this.Ca},ag.prototype.c=function(){return this.Ca},ag.prototype.W=function(){return this.state};var cg=2;dg.prototype.clear=function(){this.b.length=0,this.g.length=0,ua(this.a)},dg.prototype.c=function(a){ha(!(this.f(a)in this.a),31);var b=this.o(a);return 1/0!=b?(this.b.push(a),this.g.push(b),this.a[this.f(a)]=!0,gg(this,0,this.b.length-1),!0):!1},v(ig,dg),ig.prototype.c=function(a){var b=dg.prototype.c.call(this,a);return b&&B(a[0],"change",this.l,this),b},ig.prototype.l=function(a){a=a.target;var b=a.W();(b===cg||3===b||4===b||5===b)&&(Ea(a,"change",this.l,this),a=a.bb(),a in this.i&&(delete this.i[a],--this.j),this.v())},v(lg,Sa),lg.prototype.f=function(){return this.get(mg)},lg.prototype.c=function(){return this.v},lg.prototype.Ea=function(a){this.set(mg,a)},lg.prototype.setMap=function(a){this.v=a};var mg="active";v(qg,lg),v(Bg,lg),Bg.prototype.Qc=function(a){return a},v(Eg,Bg),Eg.prototype.Qc=nc,v(Ig,Bg),Ig.prototype.Qc=nc,v(Mg,Ga),Mg.prototype.oa=function(){this.setMap(null)},Mg.prototype.setMap=function(a){if(this.b){this.b.A.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.A.appendChild(this.a)},Mg.prototype.V=function(){return this.f},v(Pg,Bg),Pg.prototype.V=function(){return this.a.V()},Pg.prototype.j=ea;var Xg="boxstart",Vg="boxdrag",Wg="boxend";v(Ug,Ia),v(Yg,Pg),Yg.prototype.j=function(){var a=this.v,b=a.aa(),c=a.nb(),d=this.V().G();if(this.D){var f,g,e=b.Uc(c),d=[a.Ga(Yb(d)),a.Ga($b(d))],a=Rb(1/0,1/0,-(1/0),-(1/0),void 0);for(f=0,g=d.length;g>f;++f)Ib(a,d[f]);kc(e,1/Pd(a,c)),d=e}c=b.constrainResolution(Pd(d,c)),b.animate({resolution:c,center:gc(d),duration:this.C,easing:Cb})},v(Zg,lg),v(ah,lg),v(ch,lg),ch.prototype.C=function(){this.o=void 0,Jd(this.v.aa(),1,-1)},ch.prototype.D=function(a){a=a.aa(),0<Md(a)[Kd]&&Ld(a),og(a,-ia(this.j,-1,1),this.a,this.L),this.l=void 0,this.j=0,this.a=null,this.u=this.i=void 0},ch.prototype.P=function(a){this.A=a,a||(this.a=null)};var eh="trackpad",fh="wheel";v(gh,Bg),gh.prototype.Qc=nc,v(kh,Bg),kh.prototype.Qc=nc,v(qh,Sa),k=qh.prototype,k.G=function(){return this.get(xh)},k.Wb=function(){return this.get(uh)},k.Xb=function(){return this.get(vh)},k.Yb=function(){return this.get(rh)},k.Fb=function(){return this.get(sh)},k.Zb=function(){return this.get(th)},k.kc=function(a){this.set(xh,a)},k.pc=function(a){this.set(uh,a)},k.qc=function(a){this.set(vh,a)},k.lc=function(a){this.set(rh,a)},k.mc=function(a){this.set(sh,a)},k.nc=function(a){this.set(th,a)};var rh="opacity",sh="visible",xh="extent",th="zIndex",uh="maxResolution",vh="minResolution";v(yh,qh),k=yh.prototype,k.ie=function(){this.Fb()&&this.s()},k.Wk=function(){this.c.forEach(ya),this.c.length=0;var a=this.cd();this.c.push(B(a,ue,this.Vk,this),B(a,ve,this.Xk,this));for(var b in this.f)this.f[b].forEach(ya);ua(this.f);var c,d,a=a.a;for(b=0,c=a.length;c>b;b++)d=a[b],this.f[x(d).toString()]=[B(d,Xa,this.ie,this),B(d,"change",this.ie,this)];this.s()},k.Vk=function(a){a=a.element;var b=x(a).toString();this.f[b]=[B(a,Xa,this.ie,this),B(a,"change",this.ie,this)],this.s()},k.Xk=function(a){a=x(a.element).toString(),this.f[a].forEach(ya),delete this.f[a],this.s()},k.cd=function(){return this.get(zh)},k.yh=function(a){this.set(zh,a)},k.sf=function(a){var b=void 0!==a?a:[],c=b.length;this.cd().forEach(function(a){a.sf(b)}),a=wh(this);var d,e;for(d=b.length;d>c;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?ic(e.extent,a.extent):a.extent);return b},k.uf=function(){return"ready"};var zh="layers";v(Ah,sc);var Dh=6378137*Math.PI,Bh=[-Dh,-Dh,Dh,Dh],Ch=[-180,-85,180,85],Ec="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Ah(a)}),Eh=new oc(6378137);v(Fh,sc);var Gh=[-180,-90,180,90],Hh=Math.PI*Eh.radius/180,Hc=[new Fh("CRS:84"),new Fh("EPSG:4326","neu"),new Fh("urn:ogc:def:crs:EPSG::4326","neu"),new Fh("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Fh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Fh("urn:ogc:def:crs:OGC:2:84"),new Fh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Fh("urn:x-ogc:def:crs:EPSG:4326","neu")];v(Jh,Ia),v(Kh,qh),k=Kh.prototype,k.sf=function(a){return a=a?a:[],a.push(wh(this)),a},k.la=function(){return this.get("source")||null},k.uf=function(){var a=this.la();return a?a.W():"undefined"},k.Rm=function(){this.s()},k.il=function(){this.A&&(ya(this.A),this.A=null);var a=this.la();a&&(this.A=B(a,"change",this.Rm,this)),this.s()},k.setMap=function(a){this.o&&(ya(this.o),this.o=null),a||this.s(),this.v&&(ya(this.v),this.v=null),a&&(this.o=B(a,"precompose",function(a){var c=wh(this);c.me=!1,c.zIndex=1/0,a.frameState.layerStatesArray.push(c),a.frameState.layerStates[x(this)]=c},this),this.v=B(this,"change",a.render,a),this.s())},k.Pc=function(a){this.set("source",a)},Mh.prototype.clear=function(){this.b={},this.a=0},Mh.prototype.get=function(a,b,c){return a=b+":"+a+":"+(c?Ae(c):"null"),a in this.b?this.b[a]:null},Mh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?Ae(c):"null")]=d,++this.a};var Nh=new Mh,Oh=Array(6);v($h,Ga),k=$h.prototype,k.oa=function(){for(var a in this.f)Ha(this.f[a])},k.Ba=function(a,b,c,d,e,f,g){function h(a,c){var f=x(a).toString(),g=b.layerStates[x(c)].me;return f in b.skippedFeatureUids&&!g?void 0:d.call(e,a,g?c:null)}var l,m=b.viewState,p=m.resolution,n=m.projection,m=a;if(n.a){var n=n.G(),q=dc(n),r=a[0];(r<n[0]||r>n[2])&&(m=[r+q*Math.ceil((n[0]-r)/q),a[1]])}for(n=b.layerStatesArray,q=n.length-1;q>=0;--q){var u=n[q],r=u.layer;if(Lh(u,p)&&f.call(g,r)&&(u=ci(this,r),r.la()&&(l=u.Ba(r.la().D?m:a,b,c,h,e)),l))return l}},k.Ch=function(a,b,c,d,e){return void 0!==this.Ba(a,b,c,mc,this,d,e)},k.Uk=function(){this.l.render()},k.ag=ea,k.Yo=function(a,b){for(var c in this.f)if(!(b&&c in b.layerStates)){var d=c,e=this.f[d];delete this.f[d],ya(this.v[d]),delete this.v[d],Ha(e)}},v(ei,Kh),v(F,Kh),F.prototype.f=function(){return this.get(fi)},F.prototype.l=function(a){this.set(fi,a)},F.prototype.c=function(){return this.get(gi)},F.prototype.C=function(a){this.set(gi,a)};var fi="preload",gi="useInterimTilesOnError";v(hi,Na),hi.prototype.s=function(){this.b("change")},hi.prototype.G=function(){return this.extent},hi.prototype.W=function(){return this.state},v(ii,hi),ii.prototype.a=function(a){if(void 0!==a){var b;return a=x(a),a in this.i?this.i[a]:(b=wa(this.i)?this.g:this.g.cloneNode(!1),this.i[a]=b)}return this.g},ii.prototype.v=function(){this.state=ki,this.c.forEach(ya),this.c=null,this.s()},ii.prototype.H=function(){void 0===this.resolution&&(this.resolution=ec(this.extent)/this.g.height),this.state=li,this.c.forEach(ya),this.c=null,this.s()},ii.prototype.load=function(){(this.state==ji||this.state==ki)&&(this.state=mi,this.s(),this.c=[Da(this.g,"error",this.v,this),Da(this.g,"load",this.H,this)],this.l(this,this.o))};var ji=0,mi=1,li=2,ki=3,ni=[0,0,0,1],oi=[],pi=[0,0,0,1];k=ri.prototype,k.ye=function(){return this.l},k.ze=function(){return this.H},k.Ae=function(){return this.o},k.Be=function(){return this.i},k.ee=function(){return this.u},k.dd=function(a){this.l=a},k.Ce=function(a){this.o=a},k.ed=function(a){this.i=a},v(si,ri),k=si.prototype,k.clone=function(){var a=new si({fill:this.f?this.f.clone():void 0,points:this.c!==this.a?this.b/2:this.b,radius:this.a,radius2:this.c,angle:this.v,snapToPixel:this.u,stroke:this.g?this.g.clone():void 0,rotation:this.o,rotateWithView:this.H,atlasManager:this.D});return a.dd(this.l),a.ed(this.i),a},k.Ac=function(){return this.ra},k.Nh=function(){return this.v},k.Oh=function(){return this.f},k.Lf=function(){return this.C},k.Ic=function(){return this.A},k.de=function(){return this.va},k.xe=function(){return li},k.Jc=function(){return this.P},k.Ph=function(){return this.b},k.Qh=function(){return this.a},k.Vg=function(){return this.c},k.ac=function(){return this.U},k.Rh=function(){return this.g},k.eh=ea,k.load=ea,k.Ii=ea,k.Eg=function(a,b,c,d){var e;if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),1/0===this.b)b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0);else for(this.c!==this.a&&(this.b*=2),c=0;c<=this.b;c++)d=2*c*Math.PI/this.b-Math.PI/2+this.v,e=0===c%2?this.a:this.c,b.lineTo(a.size/2+e*Math.cos(d),a.size/2+e*Math.sin(d));this.f&&(b.fillStyle=Ce(this.f.b),b.fill()),this.g&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Fi,a.lineDash&&b.setLineDash(a.lineDash),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},k.Dg=function(a,b,c,d){if(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),1/0===this.b)b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0);else{this.c!==this.a&&(this.b*=2);var e;for(c=0;c<=this.b;c++)e=2*c*Math.PI/this.b-Math.PI/2+this.v,d=0===c%2?this.a:this.c,b.lineTo(a.size/2+d*Math.cos(e),a.size/2+d*Math.sin(e))}b.fillStyle=ni,b.fill(),this.g&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Fi,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},v(ui,si),ui.prototype.clone=function(){var a=new ui({fill:this.f?this.f.clone():void 0,stroke:this.g?this.g.clone():void 0,radius:this.a,snapToPixel:this.u,atlasManager:this.D});return a.dd(this.l),a.ed(this.i),a},ui.prototype.Qa=function(a){this.a=a,ti(this,this.D)},vi.prototype.clone=function(){var a=this.b;return new vi({color:a&&a.slice?a.slice():a||void 0})},vi.prototype.g=function(){return this.b},vi.prototype.f=function(a){this.b=a,this.a=void 0},k=wi.prototype,k.clone=function(){var a=this.b;return new wi({color:a&&a.slice?a.slice():a||void 0,lineCap:this.c,lineDash:this.g?this.g.slice():void 0,lineJoin:this.i,miterLimit:this.j,width:this.f})},k.In=function(){return this.b},k.kk=function(){return this.c},k.Jn=function(){return this.g},k.lk=function(){return this.i},k.rk=function(){return this.j},k.Kn=function(){return this.f},k.Ln=function(a){this.b=a,this.a=void 0},k.ip=function(a){this.c=a,this.a=void 0},k.setLineDash=function(a){this.g=a,this.a=void 0},k.jp=function(a){this.i=a,this.a=void 0},k.kp=function(a){this.j=a,this.a=void 0},k.np=function(a){this.f=a,this.a=void 0},k=xi.prototype,k.clone=function(){var a=this.V();return a&&a.clone&&(a=a.clone()),new xi({geometry:a,fill:this.f?this.f.clone():void 0,image:this.a?this.a.clone():void 0,stroke:this.g?this.g.clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.b})},k.V=function(){return this.i},k.fk=function(){return this.c},k.Mn=function(){return this.f},k.Qn=function(a){this.f=a},k.Nn=function(){return this.a},k.Rn=function(a){this.a=a},k.On=function(){return this.g},k.Sn=function(a){this.g=a},k.Ka=function(){return this.j},k.Tn=function(a){this.j=a},k.Pn=function(){return this.b},k.Pa=function(a){"function"==typeof a?this.c=a:"string"==typeof a?this.c=function(b){return b.get(a)}:a?a&&(this.c=function(){return a}):this.c=yi,this.i=a},k.Un=function(a){this.b=a};var Ai=null;v(G,Kh),G.prototype.D=function(){return this.C},G.prototype.L=function(){return this.j},G.prototype.l=function(a){this.C=void 0!==a?a:Bi,this.j=null===a?void 0:zi(this.C),this.s()},v(H,G),H.prototype.f=function(){return this.get(Gi)},H.prototype.c=function(){return this.get(Hi)},H.prototype.P=function(a){this.set(fi,a)},H.prototype.U=function(a){this.set(gi,a)};var Gi="preload",Hi="useInterimTilesOnError",Di="image",Ei="hybrid",Fi="vector";v(Ji,Ii),k=Ji.prototype,k.hc=function(a){if(jc(this.c,a.G())){if(this.a||this.b){this.a&&Mi(this,this.a),this.b&&Ni(this,this.b);var b;b=this.C;var c=this.u,d=a.ia();b=d?Sc(d,0,d.length,a.pa(),b,c):null,c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.f,d.beginPath(),d.arc(b[0],b[1],c,0,2*Math.PI),this.a&&d.fill(),this.b&&d.stroke()}""!==this.g&&Li(this,a.Fd(),2,2)}},k.Gd=function(a){this.Ma(a.f,a.g),this.dc(a.a),this.$b(a.Ka())},k.tc=function(a){switch(a.Y()){case"Point":this.xc(a);break;case"LineString":this.Pb(a);break;case"Polygon":this.yc(a);break;case"MultiPoint":this.vc(a);break;case"MultiLineString":this.uc(a);break;case"MultiPolygon":this.wc(a);break;case"GeometryCollection":this.kf(a);break;case"Circle":this.hc(a)}},k.jf=function(a,b){var c=b.c(a);c&&jc(this.c,c.G())&&(this.Gd(b),this.tc(c))},k.kf=function(a){a=a.f;var b,c;for(b=0,c=a.length;c>b;++b)this.tc(a[b])},k.xc=function(a){var b=a.ia();a=a.pa(),this.i&&Ki(this,b,b.length),""!==this.g&&Li(this,b,b.length,a)},k.vc=function(a){var b=a.ia();a=a.pa(),this.i&&Ki(this,b,b.length),""!==this.g&&Li(this,b,b.length,a)},k.Pb=function(a){if(jc(this.c,a.G())){if(this.b){Ni(this,this.b);var b=this.f,c=a.ia();b.beginPath(),Oi(this,c,0,c.length,a.pa(),!1),b.stroke()}""!==this.g&&(a=Qi(a),Li(this,a,2,2))}},k.uc=function(a){var b=a.G();if(jc(this.c,b)){if(this.b){Ni(this,this.b);var b=this.f,c=a.ia(),d=0,e=a.Kb(),f=a.pa();b.beginPath();var g,h;for(g=0,h=e.length;h>g;++g)d=Oi(this,c,d,e[g],f,!1);b.stroke()}""!==this.g&&(a=Ri(a),Li(this,a,a.length,2))}},k.yc=function(a){if(jc(this.c,a.G())){if(this.b||this.a){this.a&&Mi(this,this.a),this.b&&Ni(this,this.b);var b=this.f;b.beginPath(),Pi(this,a.Vb(),0,a.Kb(),a.pa()),this.a&&b.fill(),this.b&&b.stroke()}""!==this.g&&(a=Ad(a),Li(this,a,2,2))}},k.wc=function(a){if(jc(this.c,a.G())){if(this.b||this.a){this.a&&Mi(this,this.a),this.b&&Ni(this,this.b);var g,h,b=this.f,c=Si(a),d=0,e=a.c,f=a.pa();for(b.beginPath(),g=0,h=e.length;h>g;++g)d=Pi(this,c,d,e[g],f);this.a&&b.fill(),this.b&&b.stroke()}""!==this.g&&(a=Ti(a),Li(this,a,a.length,2))}},k.Ma=function(a,b){if(a){var c=a.b;this.a={fillStyle:Ce(c?c:ni)}}else this.a=null;if(b){var c=b.b,d=b.c,e=b.g,f=b.i,g=b.f,h=b.j;this.b={lineCap:void 0!==d?d:"round",lineDash:e?e:oi,lineJoin:void 0!==f?f:"round",lineWidth:this.A*(void 0!==g?g:1),miterLimit:void 0!==h?h:10,strokeStyle:Ce(c?c:pi)}}else this.b=null},k.dc=function(a){if(a){var b=a.Ac(),c=a.Ic(1),d=a.Jc(),e=a.ac();this.D=b[0],this.L=b[1],this.ra=e[1],this.i=c,this.H=a.l,this.eb=d[0],this.fa=d[1],this.sa=a.H,this.zb=a.o,this.j=a.i,this.na=a.u,this.va=e[0]}else this.i=null},k.$b=function(a){if(a){var b=a.b;b?(b=b.b,this.l={fillStyle:Ce(b?b:ni)}):this.l=null;var c=a.f;if(c){var b=c.b,d=c.c,e=c.g,f=c.i,g=c.f,c=c.j;this.v={lineCap:void 0!==d?d:"round",lineDash:e?e:oi,lineJoin:void 0!==f?f:"round",lineWidth:void 0!==g?g:1,miterLimit:void 0!==c?c:10,strokeStyle:Ce(b?b:pi)}}else this.v=null;var b=a.g,d=a.c,e=a.i,f=a.v,g=a.j,c=a.a,h=a.Ka(),l=a.l;a=a.o,this.P={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==a?a:"middle"},this.g=void 0!==h?h:"",this.Fa=void 0!==d?this.A*d:0,this.xa=void 0!==e?this.A*e:0,this.Ja=void 0!==f?f:!1,this.Ua=void 0!==g?g:0,this.o=this.A*(void 0!==c?c:1)}else this.g=""},v(Ui,Pa),Ui.prototype.Ba=ea,Ui.prototype.te=nc,Ui.prototype.hf=function(a,b,c){return function(d,e){return Vi(a,b,d,e,function(a){c[d]||(c[d]={}),c[d][a.Ca.toString()]=a})}},Ui.prototype.Fa=function(a){a.target.W()===li&&Wi(this)},v(cj,Ui),cj.prototype.C=function(a,b,c,d){return this.Ba(a,b,0,mc,this)?c.call(d,this.a,null):void 0},cj.prototype.v=function(a,b,c,d){ej(this,"postcompose",a,b,d)},v(gj,cj),gj.prototype.D=function(a,b,c){ej(this,"precompose",c,a,void 0);var d=this.l();if(d){var e=b.extent,f=void 0!==e;f&&dj(c,a,e);var e=this.P(),g=c.globalAlpha;c.globalAlpha=b.opacity,c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3])),c.globalAlpha=g,f&&c.restore()}this.v(c,a,b)},gj.prototype.Ba=function(a,b,c,d,e){var f=this.a;return f.la().Ba(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},gj.prototype.C=function(a,b,c,d){if(this.l()){if(this.a.la().Ba!==ea)return cj.prototype.C.apply(this,arguments);var e=Uh(this.u,a.slice());if(xb(e,b.viewState.resolution/this.c),this.i||(this.i=De(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.l(),e[0],e[1],1,1,0,0,1,1),e=this.i.getImageData(0,0,1,1).data,0<e[3])return c.call(d,this.a,e)}},v(hj,gj),hj.prototype.l=function(){return this.f?this.f.a():null},hj.prototype.P=function(){return this.j},hj.prototype.o=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.la(),l=a.viewHints,m=a.extent;if(void 0!==b.extent&&(m=ic(m,b.extent)),l[Kd]||l[1]||cc(m)||(e=h.U(m,g,c,e.projection))&&Xi(this,e)&&(this.f=e,this.c=g),this.f){var e=this.f,l=e.G(),m=e.resolution,p=e.f,n=c*m/(g*p),l=Yh(this.j,c*d[0]/2,c*d[1]/2,n,n,0,p*(l[0]-f[0])/m,p*(f[1]-l[3])/m);Yh(this.u,c*d[0]/2-l[4],c*d[1]/2-l[5],c/g,-c/g,0,-f[0],-f[1]),Zi(a.attributions,e.j),$i(a,h)}return!!this.f},v(ij,gj),ij.prototype.o=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution,e=e.center,h=this.a,l=h.la(),m=l.g,p=l.Db(f),n=p.Ec(g,this.na),q=p.Ha(n),r=a.extent;if(void 0!==b.extent&&(r=ic(r,b.extent)),cc(r))return!1;var w,u=ie(p,r,q),y=p.Kc(n);w=p.Ha(n);var z=Zd(p.Za(n),p.j);w=Rb(y[0]+u.ea*z[0]*w,y[1]+u.ga*z[1]*w,y[0]+(u.ca+1)*z[0]*w,y[1]+(u.ja+1)*z[1]*w,void 0),y=l.jb(c),z={},z[n]={};var D,La,kb,A=this.hf(l,f,z),O=h.c(),Ja=this.H,ca=this.Ua,Ma=!1;for(La=u.ea;La<=u.ca;++La)for(kb=u.ga;kb<=u.ja;++kb){D=l.Dc(n,La,kb,c,f);var W=D.W();W==cg||4==W||3==W&&!O?W==cg&&(z[n][D.Ca.toString()]=D,Ma||-1!=this.f.indexOf(D)||(Ma=!0)):(D=bg(D),ge(p,D.Ca,A,ca,Ja)||(D=he(p,D.Ca,ca,Ja))&&A(n+1,D))}if(La=a.viewHints,!(this.c&&16<Date.now()-a.time&&(La[Kd]||La[1])||!Ma&&this.j&&Vb(this.j,w)&&this.Ja==m)){D=l.Dd(n,c,f),La=(u.ca-u.ea+1)*D[0],D=(u.ja-u.ga+1)*D[0],Ma=this.L,kb=Ma.canvas,A=l.tf(f),kb.width!=La||kb.height!=D?(kb.width=La,kb.height=D):Ma.clearRect(0,0,La,D),this.f.length=0,O=Object.keys(z).map(Number),O.sort(Ya);var Ra,Pb,fc,Wc,de,He,W=0;for(Pb=O.length;Pb>W;++W){La=O[W],ca=l.Dd(La,c,f),D=p.Ha(La),Ra=D/q,fc=y*l.qf(f),Wc=z[La];for(var od in Wc)D=Wc[od],kb=p.Na(D.Ca,Ja),La=(kb[0]-w[0])/q*y,kb=(w[3]-kb[3])/q*y,de=ca[0]*Ra,He=ca[1]*Ra,A||Ma.clearRect(La,kb,de,He),this.A(D,a,b,La,kb,de,He,fc),this.f.push(D)}this.Ja=m,this.c=q,this.j=w}return od=c/y*this.c/g,od=Yh(this.U,c*d[0]/2,c*d[1]/2,od,od,0,y*(this.j[0]-e[0])/this.c,y*(e[1]-this.j[3])/this.c),Yh(this.u,c*d[0]/2-od[4],c*d[1]/2-od[5],c/g,-c/g,0,-e[0],-e[1]),aj(a.usedTiles,l,n,u),bj(a,l,p,c,f,r,n,h.f()),Yi(a,l),$i(a,l),0<this.f.length},ij.prototype.A=function(a,b,c,d,e,f,g,h){(a=a.ub())&&this.L.drawImage(a,h,h,a.width-2*h,a.height-2*h,d,e,f,g)},ij.prototype.l=function(){return this.L.canvas},ij.prototype.P=function(){return this.U},v(kj,Ii),kj.prototype.f=function(a,b,c,d,e){oj(this,a,b,c,d,e,this.a,void 0,void 0)},kj.prototype.se=ea,kj.prototype.mf=function(){return this.Qa},v(rj,kj),rj.prototype.xc=function(a,b){if(this.l){mj(this,b);var c=a.ia(),d=this.coordinates.length,c=lj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([4,d,c,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),this.b.push([4,d,c,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),qj(this,b)}},rj.prototype.vc=function(a,b){if(this.l){mj(this,b);var c=a.ia(),d=this.coordinates.length,c=lj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([4,d,c,this.l,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),this.b.push([4,d,c,this.P,this.g,this.i,this.j,this.o,this.v,this.H,this.u,this.A,this.C,this.D,this.L]),qj(this,b)}},rj.prototype.se=function(){pj(this),this.i=this.g=void 0,this.l=this.P=null,this.L=this.D=this.A=this.u=this.H=this.v=this.o=this.C=this.j=void 0},rj.prototype.dc=function(a){var b=a.Ac(),c=a.ac(),d=a.Lf(1),e=a.Ic(1),f=a.Jc();this.g=b[0],this.i=b[1],this.P=d,this.l=e,this.j=c[1],this.o=a.l,this.v=f[0],this.H=f[1],this.u=a.H,this.A=a.o,this.C=a.i,this.D=a.u,this.L=c[0]},v(sj,kj),k=sj.prototype,k.mf=function(){return this.i||(this.i=Kb(this.Qa),0<this.c&&Jb(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.Pb=function(a,b){var c=this.g,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(uj(this),mj(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1],[1]),
c=a.ia(),tj(this,c,0,c.length,a.pa()),this.b.push([12]),qj(this,b))},k.uc=function(a,b){var c=this.g,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){uj(this),mj(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1],[1]);var g,h,c=a.Kb(),d=a.ia(),e=a.pa(),f=0;for(g=0,h=c.length;h>g;++g)f=tj(this,d,f,c[g],e);this.b.push([12]),qj(this,b)}},k.se=function(){this.g.Af!=this.coordinates.length&&this.a.push([12]),pj(this),this.g=null},k.Ma=function(a,b){var c=b.b;this.g.strokeStyle=Ce(c?c:pi),c=b.c,this.g.lineCap=void 0!==c?c:"round",c=b.g,this.g.lineDash=c?c:oi,c=b.i,this.g.lineJoin=void 0!==c?c:"round",c=b.f,this.g.lineWidth=void 0!==c?c:1,c=b.j,this.g.miterLimit=void 0!==c?c:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.i=null)},v(vj,kj),k=vj.prototype,k.hc=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){xj(this,a),mj(this,b),this.b.push([9,Ae(ni)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var e=a.ia(),d=this.coordinates.length;lj(this,e,0,e.length,a.pa(),!1,!1),e=[1],d=[2,d],this.a.push(e,d),this.b.push(e,d),d=[7],this.b.push(d),void 0!==c.fillStyle&&this.a.push(d),void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c)),qj(this,b)}},k.yc=function(a,b){var c=this.g;xj(this,a),mj(this,b),this.b.push([9,Ae(ni)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var c=a.Kb(),d=a.Vb();wj(this,d,0,c,a.pa()),qj(this,b)},k.wc=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){xj(this,a),mj(this,b),this.b.push([9,Ae(ni)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,!0,1]);var g,h,c=a.c,d=Si(a),e=a.pa(),f=0;for(g=0,h=c.length;h>g;++g)f=wj(this,d,f,c[g],e);qj(this,b)}},k.se=function(){pj(this),this.g=null;var a=this.zb;if(0!==a){var c,d,b=this.coordinates;for(c=0,d=b.length;d>c;++c)b[c]=a*Math.round(b[c]/a)}},k.mf=function(){return this.i||(this.i=Kb(this.Qa),0<this.c&&Jb(this.i,this.resolution*(this.c+1)/2,this.i)),this.i},k.Ma=function(a,b){var c=this.g;if(a){var d=a.b;c.fillStyle=Ce(d?d:ni)}else c.fillStyle=void 0;b?(d=b.b,c.strokeStyle=Ce(d?d:pi),d=b.c,c.lineCap=void 0!==d?d:"round",d=b.g,c.lineDash=d?d.slice():oi,d=b.i,c.lineJoin=void 0!==d?d:"round",d=b.f,c.lineWidth=void 0!==d?d:1,d=b.j,c.miterLimit=void 0!==d?d:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.i=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)},v(yj,kj),yj.prototype.$b=function(a){if(a){var b=a.b;b?(b=b.b,b=Ce(b?b:ni),this.g?this.g.fillStyle=b:this.g={fillStyle:b}):this.g=null;var c=a.f;if(c){var b=c.b,d=c.c,e=c.g,f=c.i,g=c.f,c=c.j,d=void 0!==d?d:"round",e=e?e.slice():oi,f=void 0!==f?f:"round",g=void 0!==g?g:1,c=void 0!==c?c:10,b=Ce(b?b:pi);if(this.i){var h=this.i;h.lineCap=d,h.lineDash=e,h.lineJoin=f,h.lineWidth=g,h.miterLimit=c,h.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b}}else this.i=null;var l=a.g,b=a.c,d=a.i,e=a.v,g=a.j,c=a.a,f=a.Ka(),h=a.l,m=a.o;a=void 0!==l?l:"10px sans-serif",h=void 0!==h?h:"center",m=void 0!==m?m:"middle",this.j?(l=this.j,l.font=a,l.textAlign=h,l.textBaseline=m):this.j={font:a,textAlign:h,textBaseline:m},this.l=void 0!==f?f:"",this.o=void 0!==b?b:0,this.v=void 0!==d?d:0,this.H=void 0!==e?e:!1,this.u=void 0!==g?g:0,this.A=void 0!==c?c:1}else this.l=""};var Aj=["Polygon","Circle","LineString","Image","Text"];v(Bj,jj);var Cj={0:[[!0]]};Bj.prototype.Ba=function(a,b,c,d,e,f){d=Math.round(d);var g=2*d+1,h=Yh(this.l,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),l=this.j;l.canvas.width!==g||l.canvas.height!==g?(l.canvas.width=g,l.canvas.height=g):l.clearRect(0,0,g,g);var m;void 0!==this.i&&(m=Hb(),Ib(m,a),Jb(m,b*(this.i+d),m));var p=Ej(d);return Gj(this,l,h,c,e,function(a){for(var b=l.getImageData(0,0,g,g).data,c=0;g>c;c++)for(var d=0;g>d;d++)if(p[c][d]&&0<b[4*(d*g+c)+3])return(a=f(a))?a:void l.clearRect(0,0,g,g)},m)},Bj.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];return void 0===d&&(d={},this.a[c]=d),c=d[b],void 0===c&&(c=new Ij[b](this.H,this.c,this.v,this.o),d[b]=c),c},Bj.prototype.g=function(){return wa(this.a)},Bj.prototype.f=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(Ya);var h=Hj(this,c);a.save(),a.beginPath(),a.moveTo(h[0],h[1]),a.lineTo(h[2],h[3]),a.lineTo(h[4],h[5]),a.lineTo(h[6],h[7]),a.clip(),f=f?f:Aj;var l,m,p,n,q,h=0;for(l=g.length;l>h;++h)for(n=this.a[g[h].toString()],m=0,p=f.length;p>m;++m)q=n[f[m]],void 0!==q&&q.f(a,b,c,d,e);a.restore()};var Ij={Circle:vj,Image:rj,LineString:sj,Polygon:vj,Text:yj},Mj={Point:function(a,b,c,d){var e=c.a;if(e){if(e.xe()!=li)return;var f=a.b(c.b,"Image");f.dc(e),f.xc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),zj(a,b.ia(),2,2,d))},LineString:function(a,b,c,d){var e=c.g;if(e){var f=a.b(c.b,"LineString");f.Ma(null,e),f.Pb(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),zj(a,Qi(b),2,2,d))},Polygon:function(a,b,c,d){var e=c.f,f=c.g;if(e||f){var g=a.b(c.b,"Polygon");g.Ma(e,f),g.yc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),zj(a,Ad(b),2,2,d))},MultiPoint:function(a,b,c,d){var e=c.a;if(e){if(e.xe()!=li)return;var f=a.b(c.b,"Image");f.dc(e),f.vc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),c=b.ia(),zj(a,c,c.length,b.pa(),d))},MultiLineString:function(a,b,c,d){var e=c.g;if(e){var f=a.b(c.b,"LineString");f.Ma(null,e),f.uc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),b=Ri(b),zj(a,b,b.length,2,d))},MultiPolygon:function(a,b,c,d){var e=c.f,f=c.g;if(f||e){var g=a.b(c.b,"Polygon");g.Ma(e,f),g.wc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),b=Ti(b),zj(a,b,b.length,2,d))},GeometryCollection:function(a,b,c,d){b=b.f;var e,f;for(e=0,f=b.length;f>e;++e)Mj[b[e].Y()](a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.f,f=c.g;if(e||f){var g=a.b(c.b,"Circle");g.Ma(e,f),g.hc(b,d)}(e=c.Ka())&&(a=a.b(c.b,"Text"),a.$b(e),zj(a,b.Fd(),2,2,d))}};v(Nj,cj),Nj.prototype.D=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.me?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,l=h.G(),m=this.a.la(),p=fj(this,a,0);ej(this,"precompose",c,a,p);var n=b.extent,q=void 0!==n;if(q&&dj(c,a,n),(n=this.c)&&!n.g()){var w,r=0,u=0;if(Oa(this.a,"render")){w=c.canvas.width;var y=c.canvas.height;if(g){var z=Math.round(Math.sqrt(w*w+y*y)),r=(z-w)/2,u=(z-y)/2;w=y=z}this.i.canvas.width=w,this.i.canvas.height=y,w=this.i}else w=c;y=w.globalAlpha,w.globalAlpha=b.opacity,w!=c&&w.translate(r,u);var z=a.size[0]*e,A=a.size[1]*e;if(qi(w,-g,z/2,A/2),n.f(w,e,p,g,f),m.D&&h.a&&!Ob(l,d)){for(var h=d[0],m=dc(l),O=0;h<l[0];)--O,p=m*O,p=fj(this,a,p),n.f(w,e,p,g,f),h+=m;for(O=0,h=d[2];h>l[2];)++O,p=m*O,p=fj(this,a,p),n.f(w,e,p,g,f),h-=m;p=fj(this,a,0)}qi(w,g,z/2,A/2),w!=c&&(ej(this,"render",w,a,p),c.drawImage(w.canvas,-r,-u),w.translate(-r,-u)),w.globalAlpha=y}q&&c.restore(),this.v(c,a,b,p)},Nj.prototype.Ba=function(a,b,c,d,e){if(this.c){var f=this.a,g={};return this.c.Ba(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=x(a).toString();return b in g?void 0:(g[b]=!0,d.call(e,a,f))})}},Nj.prototype.A=function(){Wi(this)},Nj.prototype.o=function(a){function b(a){var b,d=a.Gc();if(d?b=d.call(a,m):(d=c.j)&&(b=d(a,m)),b){if(b){if(d=!1,Array.isArray(b))for(var e=0,f=b.length;f>e;++e)d=Lj(q,a,b[e],Kj(m,p),this.A,this)||d;else d=Lj(q,a,b,Kj(m,p),this.A,this)||d;a=d}else a=!1;this.f=this.f||a}}var c=this.a,d=c.la();Zi(a.attributions,d.j),$i(a,d);var e=a.viewHints[Kd],f=a.viewHints[1],g=c.Z,h=c.fa;if(!this.f&&!g&&e||!h&&f)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,p=a.pixelRatio,f=c.g,n=c.i,g=c.get("renderOrder");if(void 0===g&&(g=Jj),l=Jb(l,n*m),n=h.projection.G(),d.D&&h.projection.a&&!Ob(n,a.extent)&&(a=Math.max(dc(l)/2,dc(n)),l[0]=n[0]-a,l[2]=n[2]+a),!this.f&&this.H==m&&this.u==f&&this.l==g&&Ob(this.j,l))return!0;this.c=null,this.f=!1;var q=new Bj(.5*m/p,l,m,d.xa,c.i);if(d.Ed(l,m,e),g){var r=[];d.Qb(l,function(a){r.push(a)},this),r.sort(g),r.forEach(b,this)}else d.Qb(l,b,this);return Fj(q),this.H=m,this.u=f,this.l=g,this.j=l,this.c=q,!0},v(Oj,ij);var Pj={image:Aj,hybrid:["Polygon","LineString"]},Qj={hybrid:["Image","Text"],vector:Aj};Oj.prototype.A=function(a,b){var l=a;if(Rj(this,l,b),this.a.u!=Fi){var m=l,p=b,n=this.a,l=m.g,q=n.g,r=Pj[n.u];if(r&&l.cg!==q){l.cg=q;var u=m.Ca,w=m.Ca[0],q=p.pixelRatio,y=n.la(),z=y.tileGrid,A=y.jb(),n=Qh(this.sa);"tile-pixels"==m.j.Eb()?(u=q/A,Wh(n,u,u)):(A=z.Ha(w),A=q/A,u=z.Na(u,this.H),Wh(n,A,-A),Xh(n,-u[0],-u[3])),m=m.f,p=y.Dd(w,q,p.viewState.projection),m.canvas.width=p[0],m.canvas.height=p[1],l.jd.f(m,q,n,0,{},r)}}ij.prototype.A.apply(this,arguments)},Oj.prototype.Ba=function(a,b,c,d,e){var f=b.viewState.resolution;b=b.viewState.rotation,c=void 0==c?0:c;var n,q,r,u,w,y,g=this.a,h={},l=this.f,m=g.la(),p=m.tileGrid;for(r=0,u=l.length;u>r;++r)y=l[r],q=y.Ca,w=m.tileGrid.Na(q,this.H),Mb(Jb(w,c*f),a)&&("tile-pixels"===y.j.Eb()?(w=ac(w),f=m.jb(),q=p.Ha(q[0])/f,q=[(a[0]-w[0])/q,(w[1]-a[1])/q]):q=a,y=y.g.jd,n=n||y.Ba(q,f,b,c,{},function(a){var b=x(a).toString();return b in h?void 0:(h[b]=!0,d.call(e,a,g))}));return n},Oj.prototype.fa=function(){Wi(this)},Oj.prototype.v=function(a,b,c){var d=Qj[this.a.u];if(d)for(var e=b.pixelRatio,f=b.viewState.rotation,g=b.size,h=Math.round(e*g[0]/2),g=Math.round(e*g[1]/2),l=this.f,m=[],p=[],n=l.length-1;n>=0;--n){var r,q=l[n],u=q;if(r=b,"tile-pixels"==u.j.Eb()){var w=this.a.la(),y=w.tileGrid,z=u.Ca,w=y.Ha(z[0])/w.jb(),u=r.viewState,A=r.pixelRatio,O=u.resolution/A,z=y.Na(z,this.H),y=u.center,z=ac(z);r=r.size,r=Yh(this.sa,Math.round(A*r[0]/2),Math.round(A*r[1]/2),w/O,w/O,u.rotation,(z[0]-y[0])/w,(y[1]-z[1])/w)}else r=fj(this,r,0);for(w=Hj(q.g.jd,r),u=q.Ca[0],a.save(),a.globalAlpha=c.opacity,qi(a,-f,h,g),A=0,O=m.length;O>A;++A)y=m[A],u<p[A]&&(a.beginPath(),a.moveTo(w[0],w[1]),a.lineTo(w[2],w[3]),a.lineTo(w[4],w[5]),a.lineTo(w[6],w[7]),a.moveTo(y[6],y[7]),a.lineTo(y[4],y[5]),a.lineTo(y[2],y[3]),a.lineTo(y[0],y[1]),a.clip());q.g.jd.f(a,e,r,f,{},d),a.restore(),m.push(w),p.push(u)}ij.prototype.v.apply(this,arguments)},v(Sj,$h),Sj.prototype.Ag=function(a){return a instanceof ei?new hj(a):a instanceof F?new ij(a):a instanceof H?new Oj(a):a instanceof G?new Nj(a):null},Sj.prototype.Y=function(){return"canvas"},Sj.prototype.ag=function(a){if(a){var b=this.g,c=a.pixelRatio,d=Math.round(a.size[0]*c),c=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=c?(this.b.width=d,this.b.height=c):b.clearRect(0,0,d,c);var e=a.viewState.rotation;ai(a),Tj(this,"precompose",a);var f=a.layerStatesArray;eb(f),qi(b,e,d/2,c/2);var h,l,m,p,g=a.viewState.resolution;for(h=0,l=f.length;l>h;++h)p=f[h],m=p.layer,m=ci(this,m),Lh(p,g)&&"ready"==p.Ei&&m.o(a,p)&&m.D(a,p,b);qi(b,-e,d/2,c/2),Tj(this,"postcompose",a),this.a||(this.b.style.display="",this.a=!0),di(this,a),a.postRenderFunctions.push(bi)}else this.a&&(this.b.style.display="none",this.a=!1)},Sj.prototype.Bh=function(a,b,c,d,e,f){var g,h=b.viewState.resolution,l=b.layerStatesArray,m=l.length;for(a=Uh(b.pixelToCoordinateTransform,a.slice()),--m;m>=0;--m){g=l[m];var p=g.layer;if(Lh(g,h)&&e.call(f,p)&&(g=ci(this,p).C(a,b,c,d)))return g}};var Uj=[0,0,0,1],Vj=[],Wj=[0,0,0,1],Yj=Number.EPSILON||2.220446049250313e-16;v(ak,Zj),ak.prototype.Y=function(){return 35632},v(bk,Zj),bk.prototype.Y=function(){return 35633},v(ck,ak);var dk=new ck;v(ek,bk);var fk=new ek;v(jk,Ii),jk.prototype.f=function(a,b,c,d,e,f,g,h,l,m,p){var q,r,u,w,y,z,A,O,n=a.b;this.j&&(q=n.isEnabled(n.STENCIL_TEST),r=n.getParameter(n.STENCIL_FUNC),u=n.getParameter(n.STENCIL_VALUE_MASK),w=n.getParameter(n.STENCIL_REF),y=n.getParameter(n.STENCIL_WRITEMASK),z=n.getParameter(n.STENCIL_FAIL),A=n.getParameter(n.STENCIL_PASS_DEPTH_PASS),O=n.getParameter(n.STENCIL_PASS_DEPTH_FAIL),n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.stencilMask(255),n.stencilFunc(n.ALWAYS,1,255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE),this.j.f(a,b,c,d,e,f,g,h,l,m,p),n.stencilMask(0),n.stencilFunc(n.NOTEQUAL,1,255)),kk(a,34962,this.v),kk(a,34963,this.o),f=this.Ke(n,a,e,f);var Ja=Qh(this.Ua);Wh(Ja,2/(c*e[0]),2/(c*e[1])),Vh(Ja,-d),Xh(Ja,-(b[0]-this.origin[0]),-(b[1]-this.origin[1])),b=Qh(this.Ja),Wh(b,2/e[0],2/e[1]),e=Qh(this.xa),0!==d&&Vh(e,-d),n.uniformMatrix4fv(f.g,!1,ik(this.na,Ja)),n.uniformMatrix4fv(f.c,!1,ik(this.na,b)),n.uniformMatrix4fv(f.f,!1,ik(this.na,e)),n.uniform1f(f.a,g);var ca;return void 0===l?this.yd(n,a,h,!1):(m?a=this.$d(n,a,h,l,p):(n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),this.yd(n,a,h,!0),a=(a=l(null))?a:void 0),ca=a),this.Le(n,f),this.j&&(q||n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.stencilFunc(r,w,u),n.stencilMask(y),n.stencilOp(z,O,A)),ca};var nk=35044;v(ok,jk),k=ok.prototype,k.hc=function(a,b){var c=a.qe(),d=a.pa();if(c){this.g.push(this.b.length),this.i.push(b),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.A=c;var h,c=a.ia(),c=Tc(c,2,d,-this.origin[0],-this.origin[1]),e=this.a.length,f=this.b.length,g=e/4;for(h=0;2>h;h+=d)this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=0,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=1,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=2,this.a[e++]=this.A,this.a[e++]=c[h],this.a[e++]=c[h+1],this.a[e++]=3,this.a[e++]=this.A,this.b[f++]=g,this.b[f++]=g+1,this.b[f++]=g+2,this.b[f++]=g+2,this.b[f++]=g+3,this.b[f++]=g,g+=4}else this.c.s&&(this.l.pop(),this.l.length&&(d=this.l[this.l.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.s=!1))},k.vb=function(){this.v=new mk(this.a),this.o=new mk(this.b),this.g.push(this.b.length),0===this.u.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},k.wb=function(a){var b=this.v,c=this.o;return function(){pk(a,b),pk(a,c)}},k.Ke=function(a,b,c,d){var f,e=qk(b,dk,fk);return this.H?f=this.H:this.H=f=new gk(a,e),b.Lc(e),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,16,0),a.enableVertexAttribArray(f.j),a.vertexAttribPointer(f.j,1,5126,!1,16,8),a.enableVertexAttribArray(f.u),a.vertexAttribPointer(f.u,1,5126,!1,16,12),a.uniform2fv(f.va,c),a.uniform1f(f.ra,d),f},k.Le=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.j),a.disableVertexAttribArray(b.u)},k.yd=function(a,b,c){if(wa(c)){var d,e,f;for(e=this.g[this.g.length-1],c=this.u.length-1;c>=0;--c)d=this.u[c],f=this.l[c],a.uniform4fv(this.H.D,f[0]),rk(this,a,f[1],f[2]),lk(a,b,d,e),e=d}else{var g,h,l,m;for(l=this.g.length-2,f=e=this.g[l+1],d=this.u.length-1;d>=0;--d){for(g=this.l[d],a.uniform4fv(this.H.D,g[0]),rk(this,a,g[1],g[2]),g=this.u[d];l>=0&&this.g[l]>=g;)m=this.g[l],h=this.i[l],h=x(h).toString(),c[h]&&(e!==f&&lk(a,b,e,f),f=m),l--,e=m;e!==f&&lk(a,b,e,f),e=f=g}}},k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;for(n=this.g.length-2,h=this.g[n+1],f=this.u.length-1;f>=0;--f)for(g=this.l[f],a.uniform4fv(this.H.D,g[0]),rk(this,a,g[1],g[2]),l=this.u[f];n>=0&&this.g[n]>=l;){if(g=this.g[n],m=this.i[n],p=x(m).toString(),void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--,h=g}},k.Ma=function(a,b){var c,d;b?(c=b.g,this.c.lineDash=c?c:Vj,c=b.b,c=c instanceof CanvasGradient||c instanceof CanvasPattern?Wj:ye(c).map(function(a,b){return 3!=b?a/255:a})||Wj,d=b.f,d=void 0!==d?d:1):(c=[0,0,0,0],d=0);var e=a?a.b:[0,0,0,0];e=e instanceof CanvasGradient||e instanceof CanvasPattern?Uj:ye(e).map(function(a,b){return 3!=b?a/255:a})||Uj,this.c.strokeColor&&db(this.c.strokeColor,c)&&this.c.fillColor&&db(this.c.fillColor,e)&&this.c.lineWidth===d||(this.c.s=!0,this.c.fillColor=e,this.c.strokeColor=c,this.c.lineWidth=d,this.l.push([e,c,d]))},v(sk,ak);var tk=new sk;v(uk,bk);var vk=new uk;v(xk,Ga),k=xk.prototype,k.oa=function(){Fa(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.g)a.deleteProgram(this.g[b]);for(b in this.f)a.deleteShader(this.f[b]);a.deleteFramebuffer(this.c),a.deleteRenderbuffer(this.o),a.deleteTexture(this.v)}},k.bo=function(){return this.b},k.co=function(){ua(this.a),ua(this.f),ua(this.g),this.o=this.v=this.c=this.l=null},k.eo=function(){},k.Lc=function(a){return a==this.l?!1:(this.b.useProgram(a),this.l=a,!0)},v(Dk,jk),k=Dk.prototype,k.wb=function(a){var b=this.v,c=this.o,d=this.Fa,e=this.u,f=a.b;return function(){if(!f.isContextLost()){var g,h;for(g=0,h=d.length;h>g;++g)f.deleteTexture(d[g]);for(g=0,h=e.length;h>g;++g)f.deleteTexture(e[g])}pk(a,b),pk(a,c)}},k.vc=function(a,b){this.g.push(this.b.length),this.i.push(b);var c=a.ia();Ek(this,c,c.length,a.pa())},k.xc=function(a,b){this.g.push(this.b.length),this.i.push(b);var c=a.ia();Ek(this,c,c.length,a.pa())},k.vb=function(a){a=a.b,this.A.push(this.b.length),this.H.push(this.b.length),this.v=new mk(this.a),this.o=new mk(this.b);var b={};Fk(this.Fa,this.l,b,a),Fk(this.u,this.c,b,a),this.ra=this.D=this.C=void 0,this.c=this.l=null,this.P=this.va=void 0,this.b=null,this.sa=this.fa=this.eb=this.Z=this.Qa=this.U=void 0,this.a=null,this.zb=void 0},k.Ke=function(a,b){var d,c=qk(b,tk,vk);return this.L?d=this.L:this.L=d=new wk(a,c),b.Lc(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,32,0),a.enableVertexAttribArray(d.v),a.vertexAttribPointer(d.v,2,5126,!1,32,8),a.enableVertexAttribArray(d.C),a.vertexAttribPointer(d.C,2,5126,!1,32,16),a.enableVertexAttribArray(d.H),a.vertexAttribPointer(d.H,1,5126,!1,32,24),a.enableVertexAttribArray(d.A),a.vertexAttribPointer(d.A,1,5126,!1,32,28),d},k.Le=function(a,b){a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.v),a.disableVertexAttribArray(b.C),a.disableVertexAttribArray(b.H),a.disableVertexAttribArray(b.A)},k.yd=function(a,b,c,d){var e=d?this.u:this.Fa;if(d=d?this.H:this.A,wa(c)){var f,g;for(c=0,f=e.length,g=0;f>c;++c){a.bindTexture(3553,e[c]);var h=d[c];lk(a,b,g,h),g=h}}else for(g=f=0,h=e.length;h>g;++g){a.bindTexture(3553,e[g]);for(var l=g>0?d[g-1]:0,m=d[g],p=l;f<this.g.length&&this.g[f]<=m;){var n=x(this.i[f]).toString();void 0!==c[n]?(p!==l&&lk(a,b,p,l),l=p=f===this.g.length-1?m:this.g[f+1]):l=f===this.g.length-1?m:this.g[f+1],f++}p!==l&&lk(a,b,p,l)}},k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n=this.g.length-1;for(f=this.u.length-1;f>=0;--f)for(a.bindTexture(3553,this.u[f]),g=f>0?this.H[f-1]:0,l=this.H[f];n>=0&&this.g[n]>=g;){if(h=this.g[n],m=this.i[n],p=x(m).toString(),void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,h,l),l=d(m)))return l;l=h,n--}},k.dc=function(a){var b=a.Ac(),c=a.Ic(1),d=a.de(),e=a.Lf(1),f=a.l,g=a.Jc(),h=a.H,l=a.o,m=a.ac();a=a.i;var p;0===this.l.length?this.l.push(c):(p=this.l[this.l.length-1],x(p)!=x(c)&&(this.A.push(this.b.length),this.l.push(c))),0===this.c.length?this.c.push(e):(p=this.c[this.c.length-1],x(p)!=x(e)&&(this.H.push(this.b.length),this.c.push(e))),this.C=b[0],this.D=b[1],this.ra=m[1],this.va=d[1],this.P=d[0],this.U=f,this.Qa=g[0],this.Z=g[1],this.fa=l,this.eb=h,this.sa=a,this.zb=m[0]},v(Hk,ak);var Ik=new Hk;v(Jk,bk);var Kk=new Jk;v(Mk,jk),k=Mk.prototype,k.Pb=function(a,b){var c=a.ia(),d=a.pa();Pk(c,c.length,d)&&(c=Tc(c,c.length,d,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.g.push(this.b.length),this.i.push(b),Nk(this,c,c.length,d))},k.uc=function(a,b){var e,f,c=this.b.length,d=a.Yc();for(e=0,f=d.length;f>e;++e){var g=d[e].ia(),h=d[e].pa();Pk(g,g.length,h)&&(g=Tc(g,g.length,h,-this.origin[0],-this.origin[1]),Nk(this,g,g.length,h))}this.b.length>c&&(this.g.push(c),this.i.push(b),this.c.s&&(this.l.push(c),this.c.s=!1))},k.vb=function(){this.v=new mk(this.a),this.o=new mk(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},k.wb=function(a){var b=this.v,c=this.o;return function(){pk(a,b),pk(a,c)}},k.Ke=function(a,b,c,d){var f,e=qk(b,Ik,Kk);return this.H?f=this.H:this.H=f=new Lk(a,e),b.Lc(e),a.enableVertexAttribArray(f.l),a.vertexAttribPointer(f.l,2,5126,!1,28,0),a.enableVertexAttribArray(f.b),a.vertexAttribPointer(f.b,2,5126,!1,28,8),a.enableVertexAttribArray(f.o),a.vertexAttribPointer(f.o,2,5126,!1,28,16),a.enableVertexAttribArray(f.i),a.vertexAttribPointer(f.i,1,5126,!1,28,24),a.uniform2fv(f.va,c),a.uniform1f(f.ra,d),f},k.Le=function(a,b){a.disableVertexAttribArray(b.l),a.disableVertexAttribArray(b.b),a.disableVertexAttribArray(b.o),a.disableVertexAttribArray(b.i)},k.yd=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),wa(c)){var g,h,l;for(h=this.g[this.g.length-1],c=this.l.length-1;c>=0;--c)g=this.l[c],l=this.u[c],Sk(this,a,l[0],l[1],l[2]),lk(a,b,g,h),a.clear(a.DEPTH_BUFFER_BIT),h=g}else{var m,p,n,q;for(n=this.g.length-2,l=h=this.g[n+1],g=this.l.length-1;g>=0;--g){for(m=this.u[g],Sk(this,a,m[0],m[1],m[2]),m=this.l[g];n>=0&&this.g[n]>=m;)q=this.g[n],p=this.i[n],p=x(p).toString(),c[p]&&(h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),l=q),n--,h=q;h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),h=l=m}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;for(n=this.g.length-2,h=this.g[n+1],f=this.l.length-1;f>=0;--f)for(g=this.u[f],Sk(this,a,g[0],g[1],g[2]),l=this.l[f];n>=0&&this.g[n]>=l;){if(g=this.g[n],m=this.i[n],p=x(m).toString(),void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--,h=g}},k.Ma=function(a,b){var c=b.c;this.c.lineCap=void 0!==c?c:"round",c=b.g,this.c.lineDash=c?c:Vj,c=b.i,this.c.lineJoin=void 0!==c?c:"round",c=b.b,c=c instanceof CanvasGradient||c instanceof CanvasPattern?Wj:ye(c).map(function(a,b){return 3!=b?a/255:a})||Wj;var d=b.f,d=void 0!==d?d:1,e=b.j,e=void 0!==e?e:10;this.c.strokeColor&&db(this.c.strokeColor,c)&&this.c.lineWidth===d&&this.c.miterLimit===e||(this.c.s=!0,this.c.strokeColor=c,this.c.lineWidth=d,this.c.miterLimit=e,this.u.push([c,d,e]))},v(Tk,ak);var Uk=new Tk;v(Vk,bk);var Wk=new Vk;Yk.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.g,a.g.pb=this.b,b.pb=a.a,a.a.next=b,this.f+=a.f}else this.b=a.b,this.g=a.g,this.a=a.a,this.f=a.f;a.b=void 0,a.g=void 0,a.a=void 0,a.f=0}};var fl,gl,hl,il;!function(){var a={},b={ma:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ma=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Tp=c()}}(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ma:{}},a[m][0].call(q.ma,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a,b,d,e,q){for(d=d||0,e=e||a.length-1,q=q||h;e>d;){if(e-d>600){var r=e-d+1,u=b-d+1,w=Math.log(r),y=.5*Math.exp(2*w/3),w=.5*Math.sqrt(w*y*(r-y)/r)*(0>u-r/2?-1:1);f(a,b,Math.max(d,Math.floor(b-u*y/r+w)),Math.min(e,Math.floor(b+(r-u)*y/r+w)),q)}for(r=a[b],u=d,y=e,g(a,d,b),0<q(a[e],r)&&g(a,d,e);y>u;){for(g(a,u,y),u++,y--;0>q(a[u],r);)u++;for(;0<q(a[y],r);)y--}0===q(a[d],r)?g(a,d,y):(y++,g(a,y,e)),b>=y&&(d=y+1),y>=b&&(e=y-1)}}function g(a,b,d){var e=a[b];a[b]=a[d],a[d]=e}function h(a,b){return b>a?-1:a>b?1:0}b.ma=f},{}],2:[function(a,b){function f(a,b){return this instanceof f?(this.af=Math.max(4,a||9),this.rg=Math.max(2,Math.ceil(.4*this.af)),b&&this.vj(b),void this.clear()):new f(a,b)}function g(a,b){h(a,0,a.children.length,b,a)}function h(a,b,d,e,f){f||(f=w(null)),f.ea=1/0,f.ga=1/0,f.ca=-(1/0),f.ja=-(1/0);for(var g;d>b;b++)g=a.children[b],l(f,a.ab?e(g):g);return f}function l(a,b){a.ea=Math.min(a.ea,b.ea),a.ga=Math.min(a.ga,b.ga),a.ca=Math.max(a.ca,b.ca),a.ja=Math.max(a.ja,b.ja)}function m(a,b){return a.ea-b.ea}function p(a,b){return a.ga-b.ga}function n(a){return(a.ca-a.ea)*(a.ja-a.ga)}function q(a){return a.ca-a.ea+(a.ja-a.ga)}function r(a,b){return a.ea<=b.ea&&a.ga<=b.ga&&b.ca<=a.ca&&b.ja<=a.ja}function u(a,b){return b.ea<=a.ca&&b.ga<=a.ja&&b.ca>=a.ea&&b.ja>=a.ga}function w(a){return{children:a,height:1,ab:!0,ea:1/0,ga:1/0,ca:-(1/0),ja:-(1/0)}}function y(a,b,d,e,f){for(var h,g=[b,d];g.length;)d=g.pop(),b=g.pop(),e>=d-b||(h=b+Math.ceil((d-b)/e/2)*e,z(a,h,b,d,f),g.push(b,h,h,d))}b.ma=f;var z=a("quickselect");f.prototype={all:function(){return this.mg(this.data,[])},search:function(a){var b=this.data,d=[],e=this.tb;if(!u(a,b))return d;for(var g,h,l,m,f=[];b;){for(g=0,h=b.children.length;h>g;g++)l=b.children[g],m=b.ab?e(l):l,u(a,m)&&(b.ab?d.push(l):r(a,m)?this.mg(l,d):f.push(l));b=f.pop()}return d},load:function(a){if(!a||!a.length)return this;if(a.length<this.rg){for(var b=0,d=a.length;d>b;b++)this.Da(a[b]);return this}return a=this.og(a.slice(),0,a.length-1,0),this.data.children.length?this.data.height===a.height?this.tg(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.qg(a,this.data.height-a.height-1,!0)):this.data=a,this},Da:function(a){return a&&this.qg(a,this.data.height-1),this},clear:function(){return this.data=w([]),this},remove:function(a,b){if(!a)return this;for(var h,l,m,p,d=this.data,e=this.tb(a),f=[],g=[];d||f.length;){if(d||(d=f.pop(),l=f[f.length-1],h=g.pop(),p=!0),d.ab){a:{m=a;var n=d.children,q=b;if(q){for(var u=0;u<n.length;u++)if(q(m,n[u])){m=u;break a}m=-1}else m=n.indexOf(m)}if(-1!==m){d.children.splice(m,1),f.push(d),this.tj(f);break}}p||d.ab||!r(d,e)?l?(h++,d=l.children[h],p=!1):d=null:(f.push(d),g.push(h),h=0,l=d,d=d.children[0])}return this},tb:function(a){return a},ff:m,gf:p,toJSON:function(){return this.data},mg:function(a,b){for(var d=[];a;)a.ab?b.push.apply(b,a.children):d.push.apply(d,a.children),a=d.pop();return b},og:function(a,b,d,e){var l,f=d-b+1,h=this.af;if(h>=f)return l=w(a.slice(b,d+1)),g(l,this.tb),l;e||(e=Math.ceil(Math.log(f)/Math.log(h)),h=Math.ceil(f/Math.pow(h,e-1))),l=w([]),l.ab=!1,l.height=e;var m,p,n,f=Math.ceil(f/h),h=f*Math.ceil(Math.sqrt(h));for(y(a,b,d,h,this.ff);d>=b;b+=h)for(p=Math.min(b+h-1,d),y(a,b,p,f,this.gf),m=b;p>=m;m+=f)n=Math.min(m+f-1,p),l.children.push(this.og(a,m,n,e-1));return g(l,this.tb),l},sj:function(a,b,d,e){for(var f,g,h,l,m,p,q,r;e.push(b),!b.ab&&e.length-1!==d;){for(q=r=1/0,f=0,g=b.children.length;g>f;f++)h=b.children[f],m=n(h),p=(Math.max(h.ca,a.ca)-Math.min(h.ea,a.ea))*(Math.max(h.ja,a.ja)-Math.min(h.ga,a.ga))-m,r>p?(r=p,q=q>m?m:q,l=h):p===r&&q>m&&(q=m,l=h);b=l||b.children[0]}return b},qg:function(a,b,d){var e=this.tb;d=d?a:e(a);var e=[],f=this.sj(d,this.data,b,e);for(f.children.push(a),l(f,d);b>=0&&e[b].children.length>this.af;)this.Aj(e,b),b--;this.pj(d,e,b)},Aj:function(a,b){var d=a[b],e=d.children.length,f=this.rg;this.qj(d,f,e),e=this.rj(d,f,e),e=w(d.children.splice(e,d.children.length-e)),e.height=d.height,e.ab=d.ab,g(d,this.tb),g(e,this.tb),b?a[b-1].children.push(e):this.tg(d,e)},tg:function(a,b){this.data=w([a,b]),this.data.height=a.height+1,this.data.ab=!1,g(this.data,this.tb)},rj:function(a,b,d){var e,f,g,l,m,p,q;for(m=p=1/0,e=b;d-b>=e;e++)f=h(a,0,e,this.tb),g=h(a,e,d,this.tb),l=Math.max(0,Math.min(f.ca,g.ca)-Math.max(f.ea,g.ea))*Math.max(0,Math.min(f.ja,g.ja)-Math.max(f.ga,g.ga)),f=n(f)+n(g),m>l?(m=l,q=e,p=p>f?f:p):l===m&&p>f&&(p=f,q=e);return q},qj:function(a,b,d){var e=a.ab?this.ff:m,f=a.ab?this.gf:p,g=this.ng(a,b,d,e);b=this.ng(a,b,d,f),b>g&&a.children.sort(e)},ng:function(a,b,d,e){a.children.sort(e),e=this.tb;var p,n,f=h(a,0,b,e),g=h(a,d-b,d,e),m=q(f)+q(g);for(p=b;d-b>p;p++)n=a.children[p],l(f,a.ab?e(n):n),m+=q(f);for(p=d-b-1;p>=b;p--)n=a.children[p],l(g,a.ab?e(n):n),m+=q(g);return m},pj:function(a,b,d){for(;d>=0;d--)l(b[d],a)},tj:function(a){for(var d,b=a.length-1;b>=0;b--)0===a[b].children.length?b>0?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():g(a[b],this.tb)},vj:function(a){var b=["return a"," - b",";"];this.ff=new Function("a","b",b.join(a[0])),this.gf=new Function("a","b",b.join(a[1])),this.tb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),fl=b.ma}(),k=jl.prototype,k.Da=function(a,b){var c={ea:a[0],ga:a[1],ca:a[2],ja:a[3],value:b};this.b.Da(c),this.a[x(b)]=c},k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;e>d;d++){var f=a[d],g=b[d],f={ea:f[0],ga:f[1],ca:f[2],ja:f[3],value:g};c[d]=f,this.a[x(g)]=f}this.b.load(c)},k.remove=function(a){a=x(a);var b=this.a[a];return delete this.a[a],null!==this.b.remove(b)},k.forEach=function(a,b){return nl(ll(this),a,b)},k.clear=function(){this.b.clear(),this.a={}},k.G=function(){var a=this.b.data;return[a.ea,a.ga,a.ca,a.ja]},v(ql,jk),k=ql.prototype,k.wc=function(a,b){var g,h,l,m,c=a.Ad(),d=a.pa(),e=this.b.length,f=this.j.b.length;for(g=0,h=c.length;h>g;++g){var p=c[g].Zc();if(0<p.length){var r,n=p[0].ia(),n=Tc(n,n.length,d,-this.origin[0],-this.origin[1]),q=[];for(l=1,m=p.length;m>l;++l)r=p[l].ia(),r=Tc(r,r.length,d,-this.origin[0],-this.origin[1]),q.push(r);Qk(this.j,n,q,d),rl(this,n,q,d)}}this.b.length>e&&(this.g.push(e),this.i.push(b),this.l.s&&(this.c.push(e),this.l.s=!1)),this.j.b.length>f&&Rk(this.j,b,f)},k.yc=function(a,b){var c=a.Zc(),d=a.pa();if(0<c.length){this.g.push(this.b.length),this.i.push(b),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),Rk(this.j,b);var g,h,l,e=c[0].ia(),e=Tc(e,e.length,d,-this.origin[0],-this.origin[1]),f=[];for(g=1,h=c.length;h>g;++g)l=c[g].ia(),l=Tc(l,l.length,d,-this.origin[0],-this.origin[1]),f.push(l);Qk(this.j,e,f,d),rl(this,e,f,d)}},k.vb=function(a){this.v=new mk(this.a),this.o=new mk(this.b),this.g.push(this.b.length),this.j.vb(a),0===this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},k.wb=function(a){var b=this.v,c=this.o,d=this.j.wb(a);return function(){pk(a,b),pk(a,c),d()}},k.Ke=function(a,b){var d,c=qk(b,Uk,Wk);return this.H?d=this.H:this.H=d=new Xk(a,c),b.Lc(c),a.enableVertexAttribArray(d.b),a.vertexAttribPointer(d.b,2,5126,!1,8,0),d},k.Le=function(a,b){a.disableVertexAttribArray(b.b)},k.yd=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);if(d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL)),wa(c)){var g,h,l;for(h=this.g[this.g.length-1],c=this.c.length-1;c>=0;--c)g=this.c[c],l=this.u[c],a.uniform4fv(this.H.D,l),lk(a,b,g,h),h=g}else{var m,p,n,q;for(n=this.g.length-2,l=h=this.g[n+1],g=this.c.length-1;g>=0;--g){for(m=this.u[g],a.uniform4fv(this.H.D,m),m=this.c[g];n>=0&&this.g[n]>=m;)q=this.g[n],p=this.i[n],p=x(p).toString(),c[p]&&(h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),l=q),n--,h=q;h!==l&&(lk(a,b,h,l),a.clear(a.DEPTH_BUFFER_BIT)),h=l=m}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))},k.$d=function(a,b,c,d,e){var f,g,h,l,m,p,n;for(n=this.g.length-2,h=this.g[n+1],f=this.c.length-1;f>=0;--f)for(g=this.u[f],a.uniform4fv(this.H.D,g),l=this.c[f];n>=0&&this.g[n]>=l;){if(g=this.g[n],m=this.i[n],p=x(m).toString(),void 0===c[p]&&m.V()&&(void 0===e||jc(e,m.V().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),lk(a,b,g,h),h=d(m)))return h;n--,h=g}},k.Ma=function(a,b){var c=a?a.b:[0,0,0,0];c=c instanceof CanvasGradient||c instanceof CanvasPattern?Uj:ye(c).map(function(a,b){return 3!=b?a/255:a})||Uj,this.l.fillColor&&db(c,this.l.fillColor)||(this.l.fillColor=c,this.l.s=!0,this.u.push(c)),b?this.j.Ma(null,b):this.j.Ma(null,new wi({color:[0,0,0,0],lineWidth:0}))},Gl.prototype.f=function(){},v(Hl,jj),Hl.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];return void 0===d&&(d={},this.a[c]=d),c=d[b],void 0===c&&(c=new Kl[b](this.j,this.i),d[b]=c),c},Hl.prototype.g=function(){return wa(this.a)},Hl.prototype.f=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.a).map(Number);l.sort(Ya);var m,p,n,q,r,u;for(m=0,p=l.length;p>m;++m)for(r=this.a[l[m].toString()],n=0,q=Aj.length;q>n;++n)u=r[Aj[n]],void 0!==u&&u.f(a,b,c,d,e,f,g,h,void 0,!1)},Hl.prototype.Ba=function(a,b,c,d,e,f,g,h,l,m){
var p=b.b;p.bindFramebuffer(p.FRAMEBUFFER,yk(b));var n;return void 0!==this.c&&(n=Jb(Sb(a),d*this.c)),Ll(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,b),0<b[3]&&(a=m(a))?a:void 0},!0,n)};var Ml=[1,1],Kl={Circle:ok,Image:Dk,LineString:Mk,Polygon:ql,Text:Gl};v(Ol,Ii),k=Ol.prototype,k.Gd=function(a){this.Ma(a.f,a.g),this.dc(a.a)},k.tc=function(a){switch(a.Y()){case"Point":this.xc(a,null);break;case"LineString":this.Pb(a,null);break;case"Polygon":this.yc(a,null);break;case"MultiPoint":this.vc(a,null);break;case"MultiLineString":this.uc(a,null);break;case"MultiPolygon":this.wc(a,null);break;case"GeometryCollection":this.kf(a,null);break;case"Circle":this.hc(a,null)}},k.jf=function(a,b){var c=b.c(a);c&&jc(this.a,c.G())&&(this.Gd(b),this.tc(c))},k.kf=function(a){a=a.f;var b,c;for(b=0,c=a.length;c>b;++b)this.tc(a[b])},k.xc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"Image");d.dc(this.v),d.xc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.vc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"Image");d.dc(this.v),d.vc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.Pb=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"LineString");d.Ma(null,this.l),d.Pb(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.uc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"LineString");d.Ma(null,this.l),d.uc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.yc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"Polygon");d.Ma(this.o,this.l),d.yc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.wc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"Polygon");d.Ma(this.o,this.l),d.wc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.hc=function(a,b){var c=this.b,d=new Hl(1,this.a).b(0,"Circle");d.Ma(this.o,this.l),d.hc(a,b),d.vb(c),d.f(this.b,this.g,this.c,this.i,this.j,this.f,1,{},void 0,!1),d.wb(c)()},k.dc=function(a){this.v=a},k.Ma=function(a,b){this.o=a,this.l=b},v(Pl,ak);var Ql=new Pl;v(Rl,bk);var Sl=new Rl;v(Ul,Ui),Ul.prototype.Dh=function(a,b,c){Wl(this,"precompose",c,a),kk(c,34962,this.U);var f,d=c.b,e=qk(c,Ql,Sl);this.H?f=this.H:this.H=f=new Tl(d,e),c.Lc(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.c,0)),d.uniformMatrix4fv(f.i,!1,ik(this.C,this.v)),d.uniformMatrix4fv(f.f,!1,ik(this.C,this.u)),d.uniform1f(f.g,b.opacity),d.bindTexture(3553,this.yb),d.drawArrays(5,0,4),Wl(this,"postcompose",c,a)},Ul.prototype.If=function(){this.i=this.yb=null,this.j=void 0},v(Xl,hi),Xl.prototype.i=function(a){this.state=a?ki:li,this.s()},Xl.prototype.load=function(){this.state==ji&&(this.state=mi,this.s(),this.c(this.i.bind(this)))},Xl.prototype.a=function(){return this.g};var Yl,Zl=-1<navigator.userAgent.indexOf("OPR"),$l=-1<navigator.userAgent.indexOf("Edge");Yl=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==Zl&&0==$l),v(gm,hi),gm.prototype.oa=function(){this.state==mi&&(ya(this.Md),this.Md=null),hi.prototype.oa.call(this)},gm.prototype.a=function(){return this.i},gm.prototype.Ld=function(){var a=this.xb.W();a==li&&(this.i=cm(dc(this.g)/this.c,ec(this.g)/this.c,this.o,this.xb.resolution,0,this.c,this.g,this.l,[{extent:this.xb.G(),image:this.xb.a()}],0)),this.state=a,this.s()},gm.prototype.load=function(){if(this.state==ji){this.state=mi,this.s();var a=this.xb.W();a==li||a==ki?this.Ld():(this.Md=B(this.xb,"change",function(){var a=this.xb.W();(a==li||a==ki)&&(ya(this.Md),this.Md=null,this.Ld())},this),this.xb.load())}},v(hm,Sa),k=hm.prototype,k.Ba=ea,k.za=function(){return this.j},k.ya=function(){return this.L},k.Aa=function(){return this.f},k.W=function(){return this.Fa},k.wa=function(){this.s()},k.ua=function(a){this.j=im(a),this.s()},v(km,hm),km.prototype.U=function(a,b,c,d){var e=this.f;if(e&&d&&!Mc(e,d)){if(this.a){if(this.sa==this.g&&Mc(this.a.H,d)&&this.a.resolution==b&&this.a.f==c&&Vb(this.a.G(),a))return this.a;Ha(this.a),this.a=null}return this.a=new gm(e,d,a,b,c,function(a,b,c){return this.Xc(a,b,c,e)}.bind(this)),this.sa=this.g,this.a}return e&&(d=e),this.Xc(a,b,c,d)},km.prototype.o=function(a){switch(a=a.target,a.W()){case mi:this.b(new mm(nm,a));break;case li:this.b(new mm(om,a));break;case ki:this.b(new mm(pm,a))}},v(mm,Ia);var nm="imageloadstart",om="imageloadend",pm="imageloaderror";v(rm,km),rm.prototype.Xc=function(a,b,c,d){b=lm(this,b);var e=this.P;return e&&this.Z==this.g&&e.resolution==b&&e.f==c&&Ob(e.G(),a)?e:(a=a.slice(),kc(a,this.na),(d=this.fa(a,b,c,[dc(a)/b*c,ec(a)/b*c],d))&&(e=new Xl(a,b,c,this.j,d)),this.P=e,this.Z=this.g,e)},v(sm,rm),k=sm.prototype,k.Jj=function(a,b,c,d,e){var f=new Bj(.5*b/c,a,b,this.c.xa,this.xa);this.c.Ed(a,b,e);var g=!1;return this.c.Qb(a,function(a){var d;if(!(d=g)){var e;if((d=a.Gc())?e=d.call(a,b):this.v&&(e=this.v(a,b)),e){var p,n=!1;for(Array.isArray(e)||(e=[e]),d=0,p=e.length;p>d;++d)n=Lj(f,a,e[d],Kj(b,c),this.jn,this)||n;d=n}else d=!1}g=d},this),Fj(f),g?null:(this.l[0]!=d[0]||this.l[1]!=d[1]?(this.i.canvas.width=d[0],this.i.canvas.height=d[1],this.l[0]=d[0],this.l[1]=d[1]):this.i.clearRect(0,0,d[0],d[1]),a=tm(this,gc(a),b,c,d),f.f(this.i,c,a,0,{}),this.u=f,this.i.canvas)},k.Ba=function(a,b,c,d,e,f){if(this.u){var g={};return this.u.Ba(a,b,0,d,e,function(a){var b=x(a).toString();return b in g?void 0:(g[b]=!0,f(a))})}},k.fn=function(){return this.c},k.gn=function(){return this.C},k.hn=function(){return this.v},k.jn=function(){this.s()},k.kn=function(){jm(this,this.c.W())},k.Fh=function(a){this.C=void 0!==a?a:Bi,this.v=a?zi(this.C):void 0,this.s()},v(um,Ul),um.prototype.Ba=function(a,b,c,d,e){var f=this.a;return f.la().Ba(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})},um.prototype.Jf=function(a,b){var c=this.f.g,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.c,m=this.yb,p=this.a.la(),n=a.viewHints,q=a.extent;return void 0!==b.extent&&(q=ic(q,b.extent)),n[Kd]||n[1]||cc(q)||(e=p.U(q,g,d,e.projection))&&Xi(this,e)&&(l=e,m=vm(this,e),this.yb&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.yb))),l&&(c=this.f.c.j,wm(this,c.width,c.height,d,f,g,h,l.G()),this.o=null,d=this.v,Qh(d),Wh(d,1,-1),Xh(d,0,-1),this.c=l,this.yb=m,Zi(a.attributions,l.j),$i(a,p)),!!l},um.prototype.te=function(a,b){return void 0!==this.Ba(a,b,0,mc,this)},um.prototype.Hf=function(a,b,c,d){if(this.c&&this.c.a())if(this.a.la()instanceof sm){var e=Uh(b.pixelToCoordinateTransform,a.slice());if(this.Ba(e,b,0,mc,this))return c.call(d,this.a,null)}else{if(e=[this.c.a().width,this.c.a().height],!this.o){var f=b.size;b=Ph(),Xh(b,-1,-1),Wh(b,2/f[0],2/f[1]),Xh(b,0,f[1]),Wh(b,1,-1);var f=Zh(this.u.slice()),g=Ph();Xh(g,0,e[1]),Wh(g,1,-1),Wh(g,e[0]/2,e[1]/2),Xh(g,1,1),Sh(g,f),Sh(g,b),this.o=g}if(a=Uh(this.o,a.slice()),!(0>a[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.l||(this.l=De(1,1)),this.l.clearRect(0,0,1,1),this.l.drawImage(this.c.a(),a[0],a[1],1,1,0,0,1,1),e=this.l.getImageData(0,0,1,1).data,0<e[3]))return c.call(d,this.a,e)}},v(xm,ak);var ym=new xm;v(zm,bk);var Am=new zm;v(Cm,Ul),k=Cm.prototype,k.oa=function(){pk(this.f.c,this.D),Ul.prototype.oa.call(this)},k.hf=function(a,b,c){var d=this.f;return function(e,f){return Vi(a,b,e,f,function(a){var b=d.a.b.hasOwnProperty(a.bb());return b&&(c[e]||(c[e]={}),c[e][a.Ca.toString()]=a),b})}},k.If=function(){Ul.prototype.If.call(this),this.c=null},k.Jf=function(a,b,c){var d=this.f,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.la(),m=l.Db(g),p=m.Ec(f.resolution),n=m.Ha(p),q=l.Dd(p,a.pixelRatio,g),r=q[0]/Zd(m.Za(p),this.P)[0],u=n/r,w=l.jb(r)*l.qf(g),y=f.center,z=a.extent,A=ie(m,z,n);if(this.l&&Vd(this.l,A)&&this.o==l.g)u=this.A;else{var O=[A.ca-A.ea+1,A.ja-A.ga+1],Ja=ka(Math.max(O[0]*q[0],O[1]*q[1])),O=u*Ja,ca=m.Kc(p),Ma=ca[0]+A.ea*q[0]*u,u=ca[1]+A.ga*q[1]*u,u=[Ma,u,Ma+O,u+O];Vl(this,a,Ja),e.viewport(0,0,Ja,Ja),e.clearColor(0,0,0,0),e.clear(16384),e.disable(3042),Ja=qk(c,this.L,this.Z),c.Lc(Ja),this.c||(this.c=new Bm(e,Ja)),kk(c,34962,this.D),e.enableVertexAttribArray(this.c.b),e.vertexAttribPointer(this.c.b,2,5126,!1,16,0),e.enableVertexAttribArray(this.c.a),e.vertexAttribPointer(this.c.a,2,5126,!1,16,8),e.uniform1i(this.c.g,0),c={},c[p]={};var W,Ra,Pb,D=this.hf(l,g,c),La=h.c(),Ja=!0,Ma=Hb(),kb=new Td(0,0,0,0);for(Ra=A.ea;Ra<=A.ca;++Ra)for(Pb=A.ga;Pb<=A.ja;++Pb)if(ca=l.Dc(p,Ra,Pb,r,g),void 0===b.extent||(W=m.Na(ca.Ca,Ma),jc(W,b.extent))){if(W=ca.W(),(W=W==cg||4==W||3==W&&!La)||(ca=bg(ca)),W=ca.W(),W==cg){if(d.a.b.hasOwnProperty(ca.bb())){c[p][ca.Ca.toString()]=ca;continue}}else if(4==W||3==W&&!La)continue;Ja=!1,W=ge(m,ca.Ca,D,kb,Ma),W||(ca=he(m,ca.Ca,kb,Ma))&&D(p+1,ca)}b=Object.keys(c).map(Number),b.sort(Ya);for(var fc,D=new Float32Array(4),La=0,kb=b.length;kb>La;++La)for(fc in Ra=c[b[La]])ca=Ra[fc],W=m.Na(ca.Ca,Ma),D[0]=2*(W[2]-W[0])/O,D[1]=2*(W[3]-W[1])/O,D[2]=2*(W[0]-u[0])/O-1,D[3]=2*(W[1]-u[1])/O-1,e.uniform4fv(this.c.f,D),Dm(d,ca,q,w*r),e.drawArrays(5,0,4);Ja?(this.l=A,this.A=u,this.o=l.g):(this.A=this.l=null,this.o=-1,a.animate=!0)}aj(a.usedTiles,l,p,A);var Wc=d.j;return bj(a,l,m,r,g,z,p,h.f(),function(a){a.W()!=cg||d.a.b.hasOwnProperty(a.bb())||a.bb()in Wc.a||Wc.c([a,ke(m,a.Ca),m.Ha(a.Ca[0]),q,w*r])},this),Yi(a,l),$i(a,l),e=this.v,Qh(e),Xh(e,(Math.round(y[0]/n)*n-u[0])/(u[2]-u[0]),(Math.round(y[1]/n)*n-u[1])/(u[3]-u[1])),0!==f.rotation&&Vh(e,f.rotation),Wh(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1])),Xh(e,-.5,-.5),!0},k.Hf=function(a,b,c,d){if(this.i){a=Uh(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice()),a=[a[0]*this.j,a[1]*this.j],b=this.f.c.b,b.bindFramebuffer(b.FRAMEBUFFER,this.i);var e=new Uint8Array(4);if(b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e),0<e[3])return c.call(d,this.a,e)}},v(Em,Ul),k=Em.prototype,k.Dh=function(a,b,c){this.l=b;var d=a.viewState,e=this.c,f=a.size,g=a.pixelRatio,h=this.f.g;e&&!e.g()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.f(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.me?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))},k.oa=function(){var a=this.c;a&&(Il(a,this.f.c)(),this.c=null),Ul.prototype.oa.call(this)},k.Ba=function(a,b,c,d,e){if(this.c&&this.l){c=b.viewState;var f=this.a,g={};return this.c.Ba(a,this.f.c,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.l.opacity,{},function(a){var b=x(a).toString();return b in g?void 0:(g[b]=!0,d.call(e,a,f))})}},k.te=function(a,b){if(this.c&&this.l){var c=b.viewState;return Nl(this.c,a,this.f.c,c.resolution,c.rotation,b.pixelRatio,this.l.opacity,b.skippedFeatureUids)}return!1},k.Hf=function(a,b,c,d){return a=Uh(b.pixelToCoordinateTransform,a.slice()),this.te(a,b)?c.call(d,this.a,null):void 0},k.Eh=function(){Wi(this)},k.Jf=function(a,b,c){function d(a){var b,c=a.Gc();if(c?b=c.call(a,m):(c=e.j)&&(b=c(a,m)),b){if(b){if(c=!1,Array.isArray(b))for(var d=b.length-1;d>=0;--d)c=Lj(q,a,b[d],Kj(m,p),this.Eh,this)||c;else c=Lj(q,a,b,Kj(m,p),this.Eh,this)||c;a=c}else a=!1;this.o=this.o||a}}var e=this.a;b=e.la(),Zi(a.attributions,b.j),$i(a,b);var f=a.viewHints[Kd],g=a.viewHints[1],h=e.Z,l=e.fa;if(!this.o&&!h&&f||!l&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,m=h.resolution,p=a.pixelRatio,h=e.g,n=e.i,l=e.get("renderOrder");if(void 0===l&&(l=Jj),g=Jb(g,n*m),!this.o&&this.L==m&&this.P==h&&this.D==l&&Ob(this.A,g))return!0;this.c&&a.postRenderFunctions.push(Il(this.c,c)),this.o=!1;var q=new Hl(.5*m/p,g,e.i);if(b.Ed(g,m,f),l){var r=[];b.Qb(g,function(a){r.push(a)},this),r.sort(l),r.forEach(d,this)}else b.Qb(g,d,this);return Jl(q,c),this.L=m,this.P=h,this.D=l,this.A=g,this.c=q,!0},k=Fm.prototype,k.clear=function(){this.f=0,this.b={},this.g=this.a=null},k.forEach=function(a,b){for(var c=this.a;c;)a.call(b,c.Rc,c.jc,this),c=c.Gb},k.get=function(a){return a=this.b[a],ha(void 0!==a,15),a===this.g?a.Rc:(a===this.a?(this.a=this.a.Gb,this.a.fd=null):(a.Gb.fd=a.fd,a.fd.Gb=a.Gb),a.Gb=null,a.fd=this.g,this.g=this.g.Gb=a,a.Rc)},k.pop=function(){var a=this.a;return delete this.b[a.jc],a.Gb&&(a.Gb.fd=null),this.a=a.Gb,this.a||(this.g=null),--this.f,a.Rc},k.replace=function(a,b){this.get(a),this.b[a].Rc=b},k.set=function(a,b){ha(!(a in this.b),16);var c={jc:a,Gb:null,fd:this.g,Rc:b};this.g?this.g.Gb=c:this.a=c,this.g=c,this.b[a]=c,++this.f},v(Gm,$h),k=Gm.prototype,k.Ag=function(a){return a instanceof ei?new um(this,a):a instanceof F?new Cm(this,a):a instanceof G?new Em(this,a):null},k.oa=function(){var a=this.g;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.yb)}),Ha(this.c),$h.prototype.oa.call(this)},k.Nj=function(a,b){for(var d,c=this.g;1024<this.a.f-this.i;){if(d=this.a.a.Rc)c.deleteTexture(d.yb);else{if(+this.a.a.jc==b.index)break;--this.i}this.a.pop()}},k.Y=function(){return"webgl"},k.Um=function(a){a.preventDefault(),this.a.clear(),this.i=0,a=this.f;for(var b in a)a[b].If()},k.Vm=function(){Hm(this),this.l.render()},k.ag=function(a){var b=this.c,c=this.g;if(c.isContextLost())return!1;if(!a)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.H=a.focus,this.a.set((-a.index).toString(),null),++this.i,Im(this,"precompose",a);var d=[],e=a.layerStatesArray;eb(e);var g,h,l,m,f=a.viewState.resolution;for(g=0,h=e.length;h>g;++g)m=e[g],Lh(m,f)&&"ready"==m.Ei&&(l=ci(this,m.layer),l.Jf(a,m,b)&&d.push(m));for(e=a.size[0]*a.pixelRatio,f=a.size[1]*a.pixelRatio,(this.b.width!=e||this.b.height!=f)&&(this.b.width=e,this.b.height=f),c.bindFramebuffer(36160,null),c.clearColor(0,0,0,0),c.clear(16384),c.enable(3042),c.viewport(0,0,this.b.width,this.b.height),g=0,h=d.length;h>g;++g)m=d[g],l=ci(this,m.layer),l.Dh(a,m,b);this.o||(this.b.style.display="",this.o=!0),ai(a),1024<this.a.f-this.i&&a.postRenderFunctions.push(this.Nj.bind(this)),0!==this.j.b.length&&(a.postRenderFunctions.push(this.D),a.animate=!0),Im(this,"postcompose",a),di(this,a),a.postRenderFunctions.push(bi)},k.Ba=function(a,b,c,d,e,f,g){var h;if(this.g.isContextLost())return!1;var p,l=b.viewState,m=b.layerStatesArray;for(p=m.length-1;p>=0;--p){h=m[p];var n=h.layer;if(Lh(h,l.resolution)&&f.call(g,n)&&(h=ci(this,n).Ba(a,b,c,d,e)))return h}},k.Ch=function(a,b,c,d,e){if(c=!1,this.g.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;h>=0;--h){var l=g[h],m=l.layer;if(Lh(l,f.resolution)&&d.call(e,m)&&(c=ci(this,m).te(a,b)))return!0}return c},k.Bh=function(a,b,c,d,e){if(this.g.isContextLost())return!1;var g,l,f=b.viewState,h=b.layerStatesArray;for(l=h.length-1;l>=0;--l){g=h[l];var m=g.layer;if(Lh(g,f.resolution)&&e.call(d,m)&&(g=ci(this,m).Hf(a,b,c,d)))return g}};var Jm=["canvas","webgl"];v(I,Sa),k=I.prototype,k.Bj=function(a){this.l.push(a)},k.Cj=function(a){this.j.push(a)},k.ug=function(a){this.Bc().cd().push(a)},k.vg=function(a){this.o.push(a)},k.wg=function(a){var b=a.i;void 0!==b&&(this.Mf[b.toString()]=a),a.setMap(this)},k.Ij=function(){this.render(),Array.prototype.push.apply(this.Z,arguments)},k.oa=function(){Ha(this.Fa),Ha(this.C),Ea(this.f,"wheel",this.ad,this),Ea(this.f,"mousewheel",this.ad,this),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0),this.i&&(cancelAnimationFrame(this.i),this.i=void 0),this.ph(null),Sa.prototype.oa.call(this)},k.ae=function(a,b,c){return this.a?(a=this.Sa(a),c=void 0!==c?c:{},this.C.Ba(a,this.a,void 0!==c.hitTolerance?c.hitTolerance*this.a.pixelRatio:0,b,null,void 0!==c.layerFilter?c.layerFilter:mc,null)):void 0},k.Wl=function(a,b,c,d,e){return this.a?this.C.Bh(a,this.a,b,void 0!==c?c:null,void 0!==d?d:mc,void 0!==e?e:null):void 0},k.ml=function(a,b){if(!this.a)return!1;var c=this.Sa(a);return b=void 0!==b?b:{},this.C.Ch(c,this.a,void 0!==b.hitTolerance?b.hitTolerance*this.a.pixelRatio:0,void 0!==b.layerFilter?b.layerFilter:mc,null)},k.ck=function(a){return this.Sa(this.ce(a))},k.ce=function(a){var b=this.f.getBoundingClientRect();return a=a.changedTouches?a.changedTouches[0]:a,[a.clientX-b.left,a.clientY-b.top]},k.vf=function(){return this.get(Om)},k.Cc=function(){var a=this.vf();return void 0!==a?"string"==typeof a?document.getElementById(a):a:null},k.Sa=function(a){var b=this.a;return b?Uh(b.pixelToCoordinateTransform,a.slice()):null},k.ak=function(){return this.l},k.vk=function(){return this.o},k.uk=function(a){return a=this.Mf[a.toString()],void 0!==a?a:null},k.hk=function(){return this.j},k.Bc=function(){return this.get(Lm)},k.oh=function(){return this.Bc().cd()},k.Ga=function(a){var b=this.a;return b?Uh(b.coordinateToPixelTransform,a.slice(0,2)):null},k.nb=function(){return this.get(Nm)},k.aa=function(){return this.get(Mm)},k.Ik=function(){return this.f},k.Gk=function(a,b,c,d){var e=this.a;return e&&b in e.wantedTiles&&e.wantedTiles[b][a.bb()]?(a=c[0]-e.focus[0],c=c[1]-e.focus[1],65536*Math.log(d)+Math.sqrt(a*a+c*c)/d):1/0},k.ad=function(a,b){var c=new $e(b||a.type,this,a);this.Zg(c)},k.Zg=function(a){if(this.a){this.U=a.coordinate,a.frameState=this.a;var c,b=this.j.a;if(!1!==this.b(a))for(c=b.length-1;c>=0;c--){var d=b[c];if(d.f()&&!d.handleEvent(a))break}}},k.fl=function(){var a=this.a,b=this.xa;if(0!==b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[Kd]&&(c=this.Xe?8:0,d=2),e[1]&&(c=this.Ve?8:0,d=2)}b.j<c&&(hg(b),jg(b,c,d))}for(b=this.Ja,c=0,d=b.length;d>c;++c)b[c](this,a);b.length=0},k.hl=function(){this.render()},k.jl=function(){var a;if(this.vf()&&(a=this.Cc()),this.v){for(var b=0,c=this.v.length;c>b;++b)ya(this.v[b]);this.v=null}a?(a.appendChild(this.f),a=this.na?this.na:a,this.v=[B(a,"keydown",this.ad,this),B(a,"keypress",this.ad,this)],this.c||(this.c=this.ld.bind(this),window.addEventListener("resize",this.c,!1))):(Fe(this.f),void 0!==this.c&&(window.removeEventListener("resize",this.c,!1),this.c=void 0)),this.ld()},k.kl=function(){this.render()},k.bh=function(){this.render()},k.ll=function(){this.P&&(ya(this.P),this.P=null),this.L&&(ya(this.L),this.L=null);var a=this.aa();a&&(this.P=B(a,Xa,this.bh,this),this.L=B(a,"change",this.bh,this)),this.render()},k.Tk=function(){this.D&&(this.D.forEach(ya),this.D=null);var a=this.Bc();a&&(this.D=[B(a,Xa,this.render,this),B(a,"change",this.render,this)]),this.render()},k.$o=function(){this.i&&cancelAnimationFrame(this.i),this.sa()},k.render=function(){void 0===this.i&&(this.i=requestAnimationFrame(this.sa))},k.To=function(a){return this.l.remove(a)},k.Uo=function(a){return this.j.remove(a)},k.Wo=function(a){return this.Bc().cd().remove(a)},k.Xo=function(a){return this.o.remove(a)},k.Zo=function(a){var b,c,d,e=this.nb(),f=this.aa(),g=Hb(),h=null;if(void 0!==e&&0<e[0]&&0<e[1]&&f&&Sd(f)){var h=Md(f,this.a?this.a.viewHints:void 0),l=this.Bc().sf(),m={};for(b=0,c=l.length;c>b;++b)m[x(l[b].layer)]=l[b];d=f.W(),h={animate:!1,attributions:{},coordinateToPixelTransform:this.Ob,extent:g,focus:this.U?this.U:d.center,index:this.fc++,layerStates:m,layerStatesArray:l,logos:ta({},this.bf),pixelRatio:this.cf,pixelToCoordinateTransform:this.df,postRenderFunctions:[],size:e,skippedFeatureUids:this.fa,tileQueue:this.xa,time:a,usedTiles:{},viewState:d,viewHints:h,wantedTiles:{}}}if(h){for(a=this.Z,b=e=0,c=a.length;c>b;++b)f=a[b],f(this,h)&&(a[e++]=f);a.length=e,h.extent=hc(d.center,d.resolution,d.rotation,h.size,g)}this.a=h,this.C.ag(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.Ja,h.postRenderFunctions),0!==this.Z.length||h.viewHints[Kd]||h.viewHints[1]||Vb(h.extent,this.Ua)||(this.b(new Ge("moveend",this,h)),Kb(h.extent,this.Ua))),this.b(new Ge("postrender",this,h)),setTimeout(this.fl.bind(this),0)},k.vi=function(a){this.set(Lm,a)},k.eg=function(a){this.set(Nm,a)},k.ph=function(a){this.set(Om,a)},k.mp=function(a){this.set(Mm,a)},k.Di=function(a){a=x(a).toString(),this.fa[a]=!0,this.render()},k.ld=function(){var a=this.Cc();if(a){var b=getComputedStyle(a);this.eg([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.eg(void 0)},k.Ji=function(a){a=x(a).toString(),delete this.fa[a],this.render()};var Lm="layergroup",Nm="size",Om="target",Mm="view";Ih(),v(Pm,Sa),k=Pm.prototype,k.be=function(){return this.get(Qm)},k.Xl=function(){return this.i},k.oe=function(){return this.get(Rm)},k.Tg=function(){return this.get(Sm)},k.qh=function(){return this.get(Tm)},k.Ug=function(){return this.get(Um)},k.Ok=function(){for(var a=this.f;a.lastChild;)a.removeChild(a.lastChild);(a=this.be())&&this.f.appendChild(a)},k.Yk=function(){this.c&&(Fe(this.f),ya(this.c),this.c=null);var a=this.oe();a&&(this.c=B(a,"postrender",this.render,this),Wm(this),a=this.v?a.u:a.A,this.o?a.insertBefore(this.f,a.childNodes[0]||null):a.appendChild(this.f))},k.render=function(){Wm(this)},k.bl=function(){Wm(this)},k.dl=function(){if(Wm(this),void 0!==this.get(Tm)&&this.autoPan){var a=this.oe();if(void 0!==a&&a.Cc()){var b=Xm(a.Cc(),a.nb()),c=this.be(),d=c.offsetWidth,e=c.currentStyle||getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=c.currentStyle||getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=Xm(c,[d,e]),c=this.l;Ob(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.aa().fb(),c=a.Ga(c),b=[c[0]+b[0],c[1]+b[1]],a.aa().animate({center:a.Sa(b),duration:this.j.duration,easing:this.j.easing}))}}},k.el=function(){Wm(this)},k.pi=function(a){this.set(Qm,a)},k.setMap=function(a){this.set(Rm,a)},k.xi=function(a){this.set(Sm,a)},k.Ef=function(a){this.set(Tm,a)},k.Ai=function(a){this.set(Um,a)};var en="bottom-left",bn="bottom-center",Zm="bottom-right",fn="center-left",cn="center-center",$m="center-right",Vm="top-left",dn="top-center",an="top-right",Qm="element",Rm="map",Sm="offset",Tm="position",Um="positioning";v(gn,Ie),k=gn.prototype,k.setMap=function(a){var b=this.a;a!==b&&(b&&(b=b.aa())&&Ea(b,Ua(Id),this.je,this),Ie.prototype.setMap.call(this,a),a&&(this.v.push(B(a,Xa,this.Zk,this)),0===this.f.oh().Ub()&&this.f.vi(a.Bc()),a=a.aa()))&&(B(a,Ua(Id),this.je,this),Sd(a)&&(this.f.ld(),jn(this)))},k.Zk=function(a){a.key===Mm&&((a=a.oldValue)&&Ea(a,Ua(Id),this.je,this),a=this.a.aa(),B(a,Ua(Id),this.je,this))},k.je=function(){this.f.aa().pe(this.a.aa().Ra())},k.km=function(a){a.preventDefault(),ln(this)},k.jm=function(){return this.l},k.mm=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&ln(this))},k.lm=function(a){this.l&&this.j!==a&&ln(this)},k.im=function(){return this.j},k.wk=function(){return this.f},v(mn,Ie);var qn=[1,2,5];mn.prototype.Eb=function(){return this.get(on)},mn.prototype.L=function(){rn(this)},mn.prototype.D=function(a){this.set(on,a)};var on="units",sn="degrees",tn="imperial",un="nautical",pn="metric",vn="us";v(wn,Ie),wn.prototype.oa=function(){Ha(this.l),Ie.prototype.oa.call(this)};var xn=0;k=wn.prototype,k.setMap=function(a){Ie.prototype.setMap.call(this,a),a&&a.render()},k.Mk=function(a){var b=this.a.aa();a=An(this,ia(1===this.j?(a.offsetX-this.U[0]/2)/this.C:(a.offsetY-this.U[1]/2)/this.o,0,1)),b.animate({resolution:b.constrainResolution(a),duration:this.Z,easing:Cb})},k.Nk=function(a){if(!this.A&&a.b.target===this.element.firstElementChild&&(Jd(this.a.aa(),1,1),this.D=a.clientX,this.L=a.clientY,this.A=!0,0===this.u.length)){a=this.Xg;var b=this.Yg;this.u.push(B(document,"mousemove",a,this),B(document,"touchmove",a,this),B(document,"pointermove",a,this),B(document,"mouseup",b,this),B(document,"touchend",b,this),B(document,"pointerup",b,this))}},k.Xg=function(a){if(this.A){var b=this.element.firstElementChild;this.f=An(this,ia(1===this.j?(a.clientX-this.D+parseInt(b.style.left,10))/this.C:(a.clientY-this.L+parseInt(b.style.top,10))/this.o,0,1)),this.a.aa().Oc(this.f),zn(this,this.f),this.D=a.clientX,this.L=a.clientY}},k.Yg=function(){if(this.A){var a=this.a.aa();Jd(a,1,-1),a.animate({resolution:a.constrainResolution(this.f),duration:this.Z,easing:Cb}),this.A=!1,this.L=this.D=void 0,this.u.forEach(ya),this.u.length=0}},v(Bn,Ie),Bn.prototype.j=function(a){a.preventDefault();var b=this.a;a=b.aa();var c=this.f?this.f:a.o.G(),b=b.nb();a.lf(c,b)},v(Cn,Sa),k=Cn.prototype,k.oa=function(){this.Cf(!1),Sa.prototype.oa.call(this)},k.io=function(a){if(null!==a.alpha){var b=na(a.alpha);this.set(En,b),"boolean"==typeof a.absolute&&a.absolute?this.set(Fn,b):"number"==typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(Fn,na(a.webkitCompassHeading))}null!==a.beta&&this.set(Gn,na(a.beta)),null!==a.gamma&&this.set(Hn,na(a.gamma)),this.s()},k.Vj=function(){return this.get(En)},k.Yj=function(){return this.get(Gn)},k.ek=function(){return this.get(Hn)},k.Jl=function(){return this.get(Fn)},k.kh=function(){return this.get(Dn)},k.Kl=function(){if(pf){var a=this.kh();a&&!this.a?this.a=B(window,"deviceorientation",this.io,this):a||null===this.a||(ya(this.a),this.a=null)}},k.Cf=function(a){this.set(Dn,a)};var En="alpha",Gn="beta",Hn="gamma",Fn="heading",Dn="tracking";v(J,Sa),k=J.prototype,k.clone=function(){var a=new J(this.R());a.Nc(this.a);var b=this.V();return b&&a.Pa(b.clone()),(b=this.i)&&a.Df(b),a},k.V=function(){return this.get(this.a)},k.Ll=function(){return this.f},k.gk=function(){return this.a},k.Ml=function(){return this.i},k.Gc=function(){return this.j},k.Nl=function(){this.s()},k.he=function(){this.c&&(ya(this.c),this.c=null);var a=this.V();a&&(this.c=B(a,"change",this.Nl,this)),this.s()},k.Pa=function(a){this.set(this.a,a)},k.Df=function(a){this.j=(this.i=a)?In(a):void 0,this.s()},k.cc=function(a){this.f=a,this.s()},k.Nc=function(a){Ea(this,Ua(this.a),this.he,this),this.a=a,B(this,Ua(this.a),this.he,this),this.he()};var Jn=document.implementation.createDocument("","",null),Xn=Vn();v(ho,co),k=ho.prototype,k.Y=function(){return"json"},k.bc=function(a,b){return this.gd(io(a),eo(this,a,b))},k.La=function(a,b){return this.Sf(io(a),eo(this,a,b))},k.hd=function(a,b){return this.ci(io(a),eo(this,a,b))},k.Wa=function(a){return this.ii(io(a))},k.Od=function(a,b){return JSON.stringify(this.md(a,b))},k.ec=function(a,b){return JSON.stringify(this.Se(a,b))},k.od=function(a,b){return JSON.stringify(this.Te(a,b))},v(P,Uc),k=P.prototype,k.Dj=function(a){this.B?bb(this.B,a):this.B=a.slice(),this.s()},k.clone=function(){var a=new P(null);return a.da(this.ka,this.B.slice()),a},k.Ab=function(a,b,c,d){return d<Lb(this.G(),a,b)?d:(this.A!=this.g&&(this.C=Math.sqrt(bd(this.B,0,this.B.length,this.a,0)),this.A=this.g),dd(this.B,0,this.B.length,this.a,this.C,!1,a,b,c,d))},k.Sj=function(a,b){return td(this.B,0,this.B.length,this.a,a,b)},k.pm=function(a,b){return"XYM"!=this.ka&&"XYZM"!=this.ka?null:ko(this.B,0,this.B.length,this.a,a,void 0!==b?b:!1)},k.$=function(){return id(this.B,0,this.B.length,this.a)},k.Kg=function(a,b){return jo(this.B,0,this.B.length,this.a,a,b)},k.qm=function(){var f,a=this.B,b=this.a,c=a[0],d=a[1],e=0;for(f=0+b;f<this.B.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e},k.$c=function(a){var b=[];return b.length=kd(this.B,0,this.B.length,this.a,a,b,0),a=new P(null),a.da("XY",b),a},k.Y=function(){return"LineString"},k.Ta=function(a){return ud(this.B,0,this.B.length,this.a,a)},k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):this.da("XY",null)},k.da=function(a,b){Xc(this,a,b),this.s()},v(Q,Uc),k=Q.prototype,k.Ej=function(a){this.B?bb(this.B,a.ia().slice()):this.B=a.ia().slice(),this.c.push(this.B.length),this.s()},k.clone=function(){var a=new Q(null);return a.da(this.ka,this.B.slice(),this.c.slice()),a},k.Ab=function(a,b,c,d){return d<Lb(this.G(),a,b)?d:(this.l!=this.g&&(this.A=Math.sqrt(cd(this.B,0,this.c,this.a,0)),this.l=this.g),ed(this.B,0,this.c,this.a,this.A,!1,a,b,c,d))},k.sm=function(a,b,c){return"XYM"!=this.ka&&"XYZM"!=this.ka||0===this.B.length?null:lo(this.B,this.c,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)},k.$=function(){return jd(this.B,0,this.c,this.a)},k.Kb=function(){return this.c},k.mk=function(a){if(0>a||this.c.length<=a)return null;var b=new P(null);return b.da(this.ka,this.B.slice(0===a?0:this.c[a-1],this.c[a])),b},k.Yc=function(){var f,g,a=this.B,b=this.c,c=this.ka,d=[],e=0;for(f=0,g=b.length;g>f;++f){var h=b[f],l=new P(null);l.da(c,a.slice(e,h)),d.push(l),e=h}return d},k.$c=function(a){var l,m,b=[],c=[],d=this.B,e=this.c,f=this.a,g=0,h=0;for(l=0,m=e.length;m>l;++l){var p=e[l],h=kd(d,g,p,f,a,b,h);c.push(h),g=p}return b.length=h,a=new Q(null),a.da("XY",b,c),a},k.Y=function(){return"MultiLineString"},k.Ta=function(a){a:{var f,g,b=this.B,c=this.c,d=this.a,e=0;for(f=0,g=c.length;g>f;++f){if(ud(b,e,c[f],d,a)){a=!0;break a}e=c[f]}a=!1}return a},k.qa=function(a,b){if(a){Yc(this,b,a,2),this.B||(this.B=[]);var c=hd(this.B,0,a,this.a,this.c);this.B.length=0===c.length?0:c[c.length-1],this.s()}else this.da("XY",null,this.c)},k.da=function(a,b,c){Xc(this,a,b),this.c=c,this.s()},v(R,Uc),k=R.prototype,k.Gj=function(a){this.B?bb(this.B,a.ia()):this.B=a.ia().slice(),this.s()},k.clone=function(){var a=new R(null);return a.da(this.ka,this.B.slice()),a},k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;var g,h,l,e=this.B,f=this.a;for(g=0,h=e.length;h>g;g+=f)if(l=ma(a,b,e[g],e[g+1]),d>l){for(d=l,l=0;f>l;++l)c[l]=e[g+l];c.length=f}return d},k.$=function(){return id(this.B,0,this.B.length,this.a)},k.yk=function(a){var b=this.B?this.B.length/this.a:0;return 0>a||a>=b?null:(b=new C(null),b.da(this.ka,this.B.slice(a*this.a,(a+1)*this.a)),b)},k.re=function(){var e,f,a=this.B,b=this.ka,c=this.a,d=[];for(e=0,f=a.length;f>e;e+=c){var g=new C(null);g.da(b,a.slice(e,e+c)),d.push(g)}return d},k.Y=function(){return"MultiPoint"},k.Ta=function(a){var d,e,f,g,b=this.B,c=this.a;for(d=0,e=b.length;e>d;d+=c)if(f=b[d],g=b[d+1],Nb(a,f,g))return!0;return!1},k.qa=function(a,b){a?(Yc(this,b,a,1),this.B||(this.B=[]),this.B.length=gd(this.B,0,a,this.a),this.s()):this.da("XY",null)},k.da=function(a,b){Xc(this,a,b),this.s()},v(S,Uc),k=S.prototype,k.Hj=function(a){if(this.B){var b=this.B.length;bb(this.B,a.ia()),a=a.Kb().slice();var c,d;for(c=0,d=a.length;d>c;++c)a[c]+=b}else this.B=a.ia().slice(),a=a.Kb().slice(),this.c.push();this.c.push(a),this.s()},k.clone=function(){for(var a=new S(null),b=this.c.length,c=Array(b),d=0;b>d;++d)c[d]=this.c[d].slice();return no(a,this.ka,this.B.slice(),c),a},k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;if(this.D!=this.g){var h,l,e=this.c,f=0,g=0;for(h=0,l=e.length;l>h;++h)var m=e[h],g=cd(this.B,f,m,this.a,g),f=m[m.length-1];this.L=Math.sqrt(g),this.D=this.g}e=Si(this),f=this.c,g=this.a,h=this.L,l=0;var p,n,m=[0/0,0/0];for(p=0,n=f.length;n>p;++p){var q=f[p];d=ed(e,l,q,g,h,!0,a,b,c,d,m),l=q[q.length-1]}return d},k.Hc=function(a,b){var c;a:{c=Si(this);var d=this.c,e=this.a,f=0;if(0!==d.length){var g,h;for(g=0,h=d.length;h>g;++g){var l=d[g];if(rd(c,f,l,e,a,b)){c=!0;break a}f=l[l.length-1]}}c=!1}return c},k.tm=function(){var e,f,a=Si(this),b=this.c,c=0,d=0;for(e=0,f=b.length;f>e;++e)var g=b[e],d=d+$c(a,c,g,this.a),c=g[g.length-1];return d},k.$=function(a){var b;void 0!==a?(b=Si(this).slice(),zd(b,this.c,this.a,a)):b=this.B,a=b,b=this.c;var g,h,c=this.a,d=0,e=[],f=0;for(g=0,h=b.length;h>g;++g){var l=b[g];e[f++]=jd(a,d,l,c,e[f]),d=l[l.length-1]}return e.length=f,e},k.jk=function(){var a=new R(null);return a.da("XY",Ti(this).slice()),a},k.$c=function(a){var b=[],c=[],d=this.B,e=this.c,f=this.a;a=Math.sqrt(a);var l,m,g=0,h=0;for(l=0,m=e.length;m>l;++l){var p=e[l],n=[],h=ld(d,g,p,f,a,b,h,n);c.push(n),g=p[p.length-1]}return b.length=h,d=new S(null),no(d,"XY",b,c),d},k.zk=function(a){if(0>a||this.c.length<=a)return null;var b;0===a?b=0:(b=this.c[a-1],b=b[b.length-1]),a=this.c[a].slice();var c=a[a.length-1];if(0!==b){var d,e;for(d=0,e=a.length;e>d;++d)a[d]-=b}return d=new E(null),d.da(this.ka,this.B.slice(b,c),a),
d},k.Ad=function(){var f,g,h,l,a=this.ka,b=this.B,c=this.c,d=[],e=0;for(f=0,g=c.length;g>f;++f){var m=c[f].slice(),p=m[m.length-1];if(0!==e)for(h=0,l=m.length;l>h;++h)m[h]-=e;h=new E(null),h.da(a,b.slice(e,p),m),d.push(h),e=p}return d},k.Y=function(){return"MultiPolygon"},k.Ta=function(a){a:{var f,g,b=Si(this),c=this.c,d=this.a,e=0;for(f=0,g=c.length;g>f;++f){var h=c[f];if(vd(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a},k.qa=function(a,b){if(a){Yc(this,b,a,3),this.B||(this.B=[]);var h,l,c=this.B,d=this.a,e=this.c,f=0,e=e?e:[],g=0;for(h=0,l=a.length;l>h;++h)f=hd(c,f,a[h],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g,0===e.length?this.B.length=0:(c=e[e.length-1],this.B.length=0===c.length?0:c[c.length-1]),this.s()}else no(this,"XY",null,this.c)},v(po,ho);var so={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new P(a.paths[0],ro(a))},Polygon:function(a){return new E(a.rings,ro(a))},MultiPoint:function(a){return new R(a.points,ro(a))},MultiLineString:function(a){return new Q(a.paths,ro(a))},MultiPolygon:function(a){return new S(a.rings,ro(a))}},uo={Point:function(a){var c,b=a.$();return a=a.ka,"XYZ"===a?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:ha(!1,34),c},LineString:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.$()]}},Polygon:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.$(!1)}},MultiPoint:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.$()}},MultiLineString:function(a){var b=to(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.$()}},MultiPolygon:function(a){var b=to(a);a=a.$(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;e>=0;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=po.prototype,k.gd=function(a,b){var c=qo(a.geometry,b),d=new J;return this.b&&d.Nc(this.b),d.Pa(c),b&&b.zf&&a.attributes[b.zf]&&d.cc(a.attributes[b.zf]),a.attributes&&d.I(a.attributes),d},k.Sf=function(a,b){var c=b?b:{};if(a.features){var f,g,d=[],e=a.features;for(c.zf=a.objectIdFieldName,f=0,g=e.length;g>f;++f)d.push(this.gd(e[f],c));return d}return[this.gd(a,c)]},k.ci=function(a,b){return qo(a,b)},k.ii=function(a){return a.spatialReference&&a.spatialReference.wkid?zc("EPSG:"+a.spatialReference.wkid):null},k.Te=function(a,b){return vo(a,fo(this,b))},k.md=function(a,b){b=fo(this,b);var c={},d=a.V();return d&&(c.geometry=vo(d,b)),d=a.R(),delete d[a.a],c.attributes=wa(d)?{}:d,b&&b.featureProjection&&(c.spatialReference={wkid:zc(b.featureProjection).hb.split(":").pop()}),c},k.Se=function(a,b){b=fo(this,b);var d,e,c=[];for(d=0,e=a.length;e>d;++d)c.push(this.md(a[d],b));return{features:c}},v(zo,wo),v(Ao,zo),v(Bo,Ao),v(Co,wo),v(Do,wo),v(Eo,Do),v(Fo,Eo),v(Go,Eo),v(Ho,Eo),v(Io,wo),v(Jo,Io),v(Ko,Do),v(Lo,Do),v(Mo,Do),v(No,Eo),v(Oo,Eo),v(Po,zo),v(Qo,Eo),v(Ro,Ao),v(So,Io),v(Vo,Rc),k=Vo.prototype,k.clone=function(){var a=new Vo(null);return a.ti(this.f),a},k.Ab=function(a,b,c,d){if(d<Lb(this.G(),a,b))return d;var f,g,e=this.f;for(f=0,g=e.length;g>f;++f)d=e[f].Ab(a,b,c,d);return d},k.Hc=function(a,b){var d,e,c=this.f;for(d=0,e=c.length;e>d;++d)if(c[d].Hc(a,b))return!0;return!1},k.Yd=function(a){Rb(1/0,1/0,-(1/0),-(1/0),a);for(var b=this.f,c=0,d=b.length;d>c;++c)Wb(a,b[c].G());return a},k.pf=function(){return Xo(this.f)},k.Bd=function(a){if(this.o!=this.g&&(ua(this.i),this.j=0,this.o=this.g),0>a||0!==this.j&&a<this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var f,g,c=[],d=this.f,e=!1;for(f=0,g=d.length;g>f;++f){var h=d[f],l=h.Bd(a);c.push(l),l!==h&&(e=!0)}return e?(a=new Vo(null),Yo(a),a.f=c,Wo(a),a.s(),this.i[b]=a):(this.j=a,this)},k.Y=function(){return"GeometryCollection"},k.Ta=function(a){var c,d,b=this.f;for(c=0,d=b.length;d>c;++c)if(b[c].Ta(a))return!0;return!1},k.rotate=function(a,b){for(var c=this.f,d=0,e=c.length;e>d;++d)c[d].rotate(a,b);this.s()},k.scale=function(a,b,c){c||(c=gc(this.G()));for(var d=this.f,e=0,f=d.length;f>e;++e)d[e].scale(a,b,c);this.s()},k.ti=function(a){a=Xo(a),Yo(this),this.f=a,Wo(this),this.s()},k.sc=function(a){var c,d,b=this.f;for(c=0,d=b.length;d>c;++c)b[c].sc(a);this.s()},k.translate=function(a,b){var d,e,c=this.f;for(d=0,e=c.length;e>d;++d)c[d].translate(a,b);this.s()},k.oa=function(){Yo(this),Rc.prototype.oa.call(this)},v(Zo,ho);var ap={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new P(a.coordinates)},Polygon:function(a){return new E(a.coordinates)},MultiPoint:function(a){return new R(a.coordinates)},MultiLineString:function(a){return new Q(a.coordinates)},MultiPolygon:function(a){return new S(a.coordinates)},GeometryCollection:function(a,b){var c=a.geometries.map(function(a){return $o(a,b)});return new Vo(c)}},cp={Point:function(a){return{type:"Point",coordinates:a.$()}},LineString:function(a){return{type:"LineString",coordinates:a.$()}},Polygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"Polygon",coordinates:a.$(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.$()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.$()}},MultiPolygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"MultiPolygon",coordinates:a.$(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.f.map(function(a){var d=ta({},b);return delete d.featureProjection,bp(a,d)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=Zo.prototype,k.gd=function(a,b){var c;c="Feature"===a.type?a:{type:"Feature",geometry:a};var d=$o(c.geometry,b),e=new J;return this.b&&e.Nc(this.b),e.Pa(d),void 0!==c.id&&e.cc(c.id),c.properties&&e.I(c.properties),e},k.Sf=function(a,b){var c;if("FeatureCollection"===a.type){c=[];var e,f,d=a.features;for(e=0,f=d.length;f>e;++e)c.push(this.gd(d[e],b))}else c=[this.gd(a,b)];return c},k.ci=function(a,b){return $o(a,b)},k.ii=function(a){a=a.crs;var b;return a?"name"==a.type?b=zc(a.properties.name):"EPSG"==a.type?b=zc("EPSG:"+a.properties.code):ha(!1,36):b=this.defaultDataProjection,b},k.md=function(a,b){b=fo(this,b);var c={type:"Feature"},d=a.f;return void 0!==d&&(c.id=d),c.geometry=(d=a.V())?bp(d,b):null,d=a.R(),delete d[a.a],c.properties=wa(d)?null:d,c},k.Se=function(a,b){b=fo(this,b);var d,e,c=[];for(d=0,e=a.length;e>d;++d)c.push(this.md(a[d],b));return{type:"FeatureCollection",features:c}},k.Te=function(a,b){return bp(a,fo(this,b))},v(dp,co),k=dp.prototype,k.Y=function(){return"xml"},k.bc=function(a,b){if(Nn(a))return ep(this,a,b);if(On(a))return this.ai(a,b);if("string"==typeof a){var c=Pn(a);return ep(this,c,b)}return null},k.La=function(a,b){if(Nn(a))return fp(this,a,b);if(On(a))return this.oc(a,b);if("string"==typeof a){var c=Pn(a);return fp(this,c,b)}return[]},k.hd=function(a,b){if(Nn(a))return this.u(a,b);if(On(a)){var c=this.Ee(a,[eo(this,a,b?b:{})]);return c?c:null}return"string"==typeof a?(c=Pn(a),this.u(c,b)):null},k.Wa=function(a){return Nn(a)?this.Xf(a):On(a)?this.He(a):"string"==typeof a?(a=Pn(a),this.Xf(a)):null},k.Xf=function(){return this.defaultDataProjection},k.He=function(){return this.defaultDataProjection},k.Od=function(a,b){var c=this.C(a,b);return this.f.serializeToString(c)},k.ec=function(a,b){var c=this.a(a,b);return this.f.serializeToString(c)},k.od=function(a,b){var c=this.H(a,b);return this.f.serializeToString(c)},v(gp,dp);var hp=/^[\s\xa0]*$/;k=gp.prototype,k.Id=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?N([],this.b,a,b,this):N(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var h,l,e=b[0],f=e.featureType,g=e.featureNS;if(!f&&a.childNodes){for(f=[],g={},h=0,l=a.childNodes.length;l>h;++h){var m=a.childNodes[h];if(1===m.nodeType){var p=m.nodeName.split(":").pop();if(-1===f.indexOf(p)){var r,n="",q=0,m=m.namespaceURI;for(r in g){if(g[r]===m){n=r;break}++q}n||(n="p"+q,g[n]=m),f.push(n+":"+p)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"==typeof g&&(h=g,g={},g.p0=h);var u,e={},f=Array.isArray(f)?f:[f];for(u in g){for(p={},h=0,l=f.length;l>h;++h)(-1===f[h].indexOf(":")?"p0":f[h].split(":")[0])===u&&(p[f[h].split(":").pop()]="featureMembers"==c?Rn(this.Rf,this):Sn(this.Rf,this));e[g[u]]=p}d="featureMember"==c?N(void 0,e,a,b):N([],e,a,b)}return null===d&&(d=[]),d},k.Ee=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=N(null,this.lg,a,b,this);return d?go(d,!1,c):void 0},k.Rf=function(a,b){var c,d;(d=a.getAttribute("fid"))||(d=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var f,e={};for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){var h=Ln(c,!1);hp.test(h)&&(h=void 0),e[g]=h}else"boundedBy"!==g&&(f=g),e[g]=this.Ee(c,b)}return c=new J(e),f&&c.Nc(f),d&&c.cc(d),c},k.hi=function(a,b){var c=this.De(a,b);if(c){var d=new C(null);return d.da("XYZ",c),d}},k.fi=function(a,b){var c=N([],this.cj,a,b,this);return c?new R(c):void 0},k.ei=function(a,b){var c=N([],this.bj,a,b,this);if(c){var d=new Q(null);return mo(d,c),d}},k.gi=function(a,b){var c=N([],this.dj,a,b,this);if(c){var d=new S(null);return oo(d,c),d}},k.Yh=function(a,b){Zn(this.gj,a,b,this)},k.dh=function(a,b){Zn(this.$i,a,b,this)},k.Zh=function(a,b){Zn(this.hj,a,b,this)},k.Fe=function(a,b){var c=this.De(a,b);if(c){var d=new P(null);return d.da("XYZ",c),d}},k.Do=function(a,b){var c=N(null,this.Qd,a,b,this);return c?c:void 0},k.di=function(a,b){var c=this.De(a,b);if(c){var d=new md(null);return nd(d,"XYZ",c),d}},k.Ge=function(a,b){var c=N([null],this.We,a,b,this);if(c&&c[0]){var g,h,d=new E(null),e=c[0],f=[e.length];for(g=1,h=c.length;h>g;++g)bb(e,c[g]),f.push(e.length);return d.da("XYZ",e,f),d}},k.De=function(a,b){return N(null,this.Qd,a,b,this)},k.cj={"http://www.opengis.net/gml":{pointMember:Rn(gp.prototype.Yh),pointMembers:Rn(gp.prototype.Yh)}},k.bj={"http://www.opengis.net/gml":{lineStringMember:Rn(gp.prototype.dh),lineStringMembers:Rn(gp.prototype.dh)}},k.dj={"http://www.opengis.net/gml":{polygonMember:Rn(gp.prototype.Zh),polygonMembers:Rn(gp.prototype.Zh)}},k.gj={"http://www.opengis.net/gml":{Point:Rn(gp.prototype.De)}},k.$i={"http://www.opengis.net/gml":{LineString:Rn(gp.prototype.Fe)}},k.hj={"http://www.opengis.net/gml":{Polygon:Rn(gp.prototype.Ge)}},k.Rd={"http://www.opengis.net/gml":{LinearRing:Sn(gp.prototype.Do)}},k.oc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&ta(c,eo(this,a,b)),this.Id(a,[c])||[]},k.He=function(a){return zc(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},v(tp,gp),k=tp.prototype,k.Ho=function(a,b){var c=N([],this.aj,a,b,this);if(c){var d=new Q(null);return mo(d,c),d}},k.Io=function(a,b){var c=N([],this.ej,a,b,this);if(c){var d=new S(null);return oo(d,c),d}},k.Cg=function(a,b){Zn(this.Xi,a,b,this)},k.Gi=function(a,b){Zn(this.lj,a,b,this)},k.Lo=function(a,b){return N([null],this.fj,a,b,this)},k.Oo=function(a,b){return N([null],this.kj,a,b,this)},k.Mo=function(a,b){return N([null],this.We,a,b,this)},k.Go=function(a,b){return N([null],this.Qd,a,b,this)},k.ql=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&b[b.length-1].push(c)},k.Oj=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&(b[b.length-1][0]=c)},k.ji=function(a,b){var c=N([null],this.mj,a,b,this);if(c&&c[0]){var g,h,d=new E(null),e=c[0],f=[e.length];for(g=1,h=c.length;h>g;++g)bb(e,c[g]),f.push(e.length);return d.da("XYZ",e,f),d}},k.$h=function(a,b){var c=N([null],this.Yi,a,b,this);if(c){var d=new P(null);return d.da("XYZ",c),d}},k.Co=function(a,b){var c=N([null],this.Zi,a,b,this);return Rb(c[1][0],c[1][1],c[2][0],c[2][1])},k.Eo=function(a,b){for(var f,c=Ln(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,e=[];f=d.exec(c);)e.push(parseFloat(f[1])),c=c.substr(f[0].length);if(""===c){if(c=b[0].srsName,d="enu",c&&(d=zc(c).b),"neu"===d)for(c=0,d=e.length;d>c;c+=3)f=e[c],e[c]=e[c+1],e[c+1]=f;return c=e.length,2==c&&e.push(0),0===c?void 0:e}},k.Vf=function(a,b){var c=Ln(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(f=zc(d).b),c=c.split(/\s+/),d=2,a.getAttribute("srsDimension")?d=op(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=op(a.getAttribute("dimension")):e&&(d=op(e));for(var g,h,l=[],m=0,p=c.length;p>m;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l},k.Qd={"http://www.opengis.net/gml":{pos:Sn(tp.prototype.Eo),posList:Sn(tp.prototype.Vf)}},k.We={"http://www.opengis.net/gml":{interior:tp.prototype.ql,exterior:tp.prototype.Oj}},k.lg={"http://www.opengis.net/gml":{Point:Sn(gp.prototype.hi),MultiPoint:Sn(gp.prototype.fi),LineString:Sn(gp.prototype.Fe),MultiLineString:Sn(gp.prototype.ei),LinearRing:Sn(gp.prototype.di),Polygon:Sn(gp.prototype.Ge),MultiPolygon:Sn(gp.prototype.gi),Surface:Sn(tp.prototype.ji),MultiSurface:Sn(tp.prototype.Io),Curve:Sn(tp.prototype.$h),MultiCurve:Sn(tp.prototype.Ho),Envelope:Sn(tp.prototype.Co)}},k.aj={"http://www.opengis.net/gml":{curveMember:Rn(tp.prototype.Cg),curveMembers:Rn(tp.prototype.Cg)}},k.ej={"http://www.opengis.net/gml":{surfaceMember:Rn(tp.prototype.Gi),surfaceMembers:Rn(tp.prototype.Gi)}},k.Xi={"http://www.opengis.net/gml":{LineString:Rn(gp.prototype.Fe),Curve:Rn(tp.prototype.$h)}},k.lj={"http://www.opengis.net/gml":{Polygon:Rn(gp.prototype.Ge),Surface:Rn(tp.prototype.ji)}},k.mj={"http://www.opengis.net/gml":{patches:Sn(tp.prototype.Lo)}},k.Yi={"http://www.opengis.net/gml":{segments:Sn(tp.prototype.Oo)}},k.Zi={"http://www.opengis.net/gml":{lowerCorner:Rn(tp.prototype.Vf),upperCorner:Rn(tp.prototype.Vf)}},k.fj={"http://www.opengis.net/gml":{PolygonPatch:Sn(tp.prototype.Mo)}},k.kj={"http://www.opengis.net/gml":{LineStringSegment:Sn(tp.prototype.Go)}},k.Ti=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Kn(a.namespaceURI,"pos"),a.appendChild(d),c=c[c.length-1].srsName,a="enu",c&&(a=zc(c).b),b=b.$(),qp(d,"en"===a.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0])};var vp={"http://www.opengis.net/gml":{lowerCorner:L(qp),upperCorner:L(qp)}};k=tp.prototype,k.zp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),$n({node:a},vp,Xn,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)},k.Qi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Kn(a.namespaceURI,"posList"),a.appendChild(d),up(d,b,c)},k.jj=function(a,b){var c=b[b.length-1],d=c.node,e=c.exteriorWritten;return void 0===e&&(c.exteriorWritten=!0),Kn(d.namespaceURI,void 0!==e?"interior":"exterior")},k.Ue=function(a,b,c){var d=c[c.length-1].srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Zc(),$n({node:a,srsName:d},wp,this.jj,b,c,void 0,this)):"Surface"===a.nodeName&&(d=Kn(a.namespaceURI,"patches"),a.appendChild(d),a=Kn(d.namespaceURI,"PolygonPatch"),d.appendChild(a),this.Ue(a,b,c))},k.Qe=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Kn(a.namespaceURI,"posList"),a.appendChild(d),up(d,b,c)):"Curve"===a.nodeName&&(d=Kn(a.namespaceURI,"segments"),a.appendChild(d),a=Kn(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Qe(a,b,c))},k.Si=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.surface;e&&a.setAttribute("srsName",e),b=b.Ad(),$n({node:a,srsName:e,surface:d},xp,this.c,b,c,void 0,this)},k.Ap=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),b=b.re(),$n({node:a,srsName:d},yp,Vn("pointMember"),b,c,void 0,this)},k.Ri=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.curve;e&&a.setAttribute("srsName",e),b=b.Yc(),$n({node:a,srsName:e,curve:d},zp,this.c,b,c,void 0,this)},k.Ui=function(a,b,c){var d=Kn(a.namespaceURI,"LinearRing");a.appendChild(d),this.Qi(d,b,c)},k.Vi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Ue(d,b,c))},k.Bp=function(a,b,c){var d=Kn(a.namespaceURI,"Point");a.appendChild(d),this.Ti(d,b,c)},k.Pi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Qe(d,b,c))},k.pd=function(a,b,c){var d=c[c.length-1],e=ta({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?Qc(b,d.featureProjection,d.dataProjection):b:go(b,!0,d),$n(e,Ap,this.g,[f],c,void 0,this)},k.Ni=function(a,b,c){var d=b.f;d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.a;d.Mc||(d.Mc={},d.Mc[e]={});var g=b.R();b=[];var l,h=[];for(l in g){var m=g[l];null!==m&&(b.push(l),h.push(m),l==f||m instanceof Rc?l in d.Mc[e]||(d.Mc[e][l]=L(this.pd,this)):l in d.Mc[e]||(d.Mc[e][l]=L(qp)))}l=ta({},d),l.node=a,$n(l,d.Mc,Vn(void 0,e),h,c,b)};var xp={"http://www.opengis.net/gml":{surfaceMember:L(tp.prototype.Vi),polygonMember:L(tp.prototype.Vi)}},yp={"http://www.opengis.net/gml":{pointMember:L(tp.prototype.Bp)}},zp={"http://www.opengis.net/gml":{lineStringMember:L(tp.prototype.Pi),curveMember:L(tp.prototype.Pi)}},wp={"http://www.opengis.net/gml":{exterior:L(tp.prototype.Ui),interior:L(tp.prototype.Ui)}},Ap={"http://www.opengis.net/gml":{Curve:L(tp.prototype.Qe),MultiCurve:L(tp.prototype.Ri),Point:L(tp.prototype.Ti),MultiPoint:L(tp.prototype.Ap),LineString:L(tp.prototype.Qe),MultiLineString:L(tp.prototype.Ri),LinearRing:L(tp.prototype.Qi),Polygon:L(tp.prototype.Ue),MultiPolygon:L(tp.prototype.Si),Surface:L(tp.prototype.Ue),MultiSurface:L(tp.prototype.Si),Envelope:L(tp.prototype.zp)}},Bp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};tp.prototype.c=function(a,b){return Kn("http://www.opengis.net/gml",Bp[b[b.length-1].node.nodeName])},tp.prototype.g=function(a,b){var g,c=b[b.length-1],d=c.multiSurface,e=c.surface,f=c.curve,c=c.multiCurve;return Array.isArray(a)?g="Envelope":(g=a.Y(),"MultiPolygon"===g&&!0===d?g="MultiSurface":"Polygon"===g&&!0===e?g="Surface":"LineString"===g&&!0===f?g="Curve":"MultiLineString"===g&&!0===c&&(g="MultiCurve")),Kn("http://www.opengis.net/gml",g)},tp.prototype.H=function(a,b){b=fo(this,b);var c=Kn("http://www.opengis.net/gml","geom"),d={node:c,srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l};return b&&ta(d,b),this.pd(c,a,[d]),c},tp.prototype.a=function(a,b){b=fo(this,b);var c=Kn("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.i,surface:this.v,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};b&&ta(d,b);var d=[d],e=d[d.length-1],f=e.featureType,g=e.featureNS,h={};return h[g]={},h[g][f]=L(this.Ni,this),e=ta({},e),e.node=c,$n(e,h,Vn(f,g),a,d),c},v(Cp,gp),k=Cp.prototype,k.bi=function(a,b){var c=Ln(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(d=zc(d))&&(f=d.b),c=c.split(/[\s,]+/),d=2,a.getAttribute("srsDimension")?d=op(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=op(a.getAttribute("dimension")):e&&(d=op(e));for(var g,h,l=[],m=0,p=c.length;p>m;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l},k.Ao=function(a,b){var c=N([null],this.Wi,a,b,this);return Rb(c[1][0],c[1][1],c[1][3],c[1][4])},k.ol=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&b[b.length-1].push(c)},k.jo=function(a,b){var c=N(void 0,this.Rd,a,b,this);c&&(b[b.length-1][0]=c)},k.Qd={"http://www.opengis.net/gml":{coordinates:Sn(Cp.prototype.bi)}},k.We={"http://www.opengis.net/gml":{innerBoundaryIs:Cp.prototype.ol,outerBoundaryIs:Cp.prototype.jo}},k.Wi={"http://www.opengis.net/gml":{coordinates:Rn(Cp.prototype.bi)}},k.lg={"http://www.opengis.net/gml":{Point:Sn(gp.prototype.hi),MultiPoint:Sn(gp.prototype.fi),LineString:Sn(gp.prototype.Fe),MultiLineString:Sn(gp.prototype.ei),LinearRing:Sn(gp.prototype.di),Polygon:Sn(gp.prototype.Ge),MultiPolygon:Sn(gp.prototype.gi),Box:Sn(Cp.prototype.Ao)}},v(Dp,dp);var Ep=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Qp={rte:Kp,trk:Mp,wpt:Op},Rp=M(Ep,{rte:Rn(Kp),trk:Rn(Mp),wpt:Rn(Op)}),Ip=M(Ep,{text:K(T,"linkText"),type:K(T,"linkType")}),Lp=M(Ep,{name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,number:K(np),extensions:Jp,type:K(T),rtept:function(a,b){var c=N({},Sp,a,b);if(c){var d=b[b.length-1];Fp(d.flatCoordinates,d.layoutOptions,a,c)}}}),Sp=M(Ep,{ele:K(lp),time:K(kp)}),Np=M(Ep,{name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,number:K(np),type:K(T),extensions:Jp,trkseg:function(a,b){var c=b[b.length-1];Zn(Tp,a,b),c.ends.push(c.flatCoordinates.length)}}),Tp=M(Ep,{trkpt:function(a,b){var c=N({},Up,a,b);if(c){var d=b[b.length-1];Fp(d.flatCoordinates,d.layoutOptions,a,c)}}}),Up=M(Ep,{ele:K(lp),time:K(kp)}),Pp=M(Ep,{ele:K(lp),time:K(kp),magvar:K(lp),geoidheight:K(lp),name:K(T),cmt:K(T),desc:K(T),src:K(T),link:Hp,sym:K(T),type:K(T),fix:K(T),sat:K(np),hdop:K(lp),vdop:K(lp),pdop:K(lp),ageofdgpsdata:K(lp),dgpsid:K(np),extensions:Jp});Dp.prototype.ai=function(a,b){if(!Za(Ep,a.namespaceURI))return null;var c=Qp[a.localName];return c&&(c=c(a,[eo(this,a,b)]))?(Vp(this,[c]),c):null},Dp.prototype.oc=function(a,b){if(!Za(Ep,a.namespaceURI))return[];if("gpx"==a.localName){var c=N([],Rp,a,[eo(this,a,b)]);if(c)return Vp(this,c),c}return[]};var Yp=["text","type"],Xp=M(Ep,{text:L(qp),type:L(qp)}),cq=M(Ep,"name cmt desc src link number type rtept".split(" ")),dq=M(Ep,{name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),number:L(sp),type:L(qp),rtept:Un(L(Zp))}),$p=M(Ep,["ele","time"]),eq=M(Ep,"name cmt desc src link number type trkseg".split(" ")),hq=M(Ep,{name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),number:L(sp),type:L(qp),trkseg:Un(L(function(a,b,c){$n({node:a,geometryLayout:b.ka,properties:{}},fq,gq,b.$(),c)}))}),gq=Vn("trkpt"),fq=M(Ep,{trkpt:L(Zp)}),aq=M(Ep,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),bq=M(Ep,{ele:L(rp),time:L(function(a,b){var c=new Date(1e3*b);a.appendChild(Jn.createTextNode(c.getUTCFullYear()+"-"+pb(c.getUTCMonth()+1)+"-"+pb(c.getUTCDate())+"T"+pb(c.getUTCHours())+":"+pb(c.getUTCMinutes())+":"+pb(c.getUTCSeconds())+"Z"))}),magvar:L(rp),geoidheight:L(rp),name:L(qp),cmt:L(qp),desc:L(qp),src:L(qp),link:L(Wp),sym:L(qp),type:L(qp),fix:L(qp),sat:L(sp),hdop:L(rp),vdop:L(rp),pdop:L(rp),ageofdgpsdata:L(rp),dgpsid:L(sp)}),iq={Point:"wpt",LineString:"rte",MultiLineString:"trk"},kq=M(Ep,{rte:L(function(a,b,c){var d=c[0],e=b.R();a={node:a,properties:e},(b=b.V())&&(b=go(b,!0,d),a.geometryLayout=b.ka,e.rtept=b.$()),d=cq[c[c.length-1].node.namespaceURI],e=Yn(e,d),$n(a,dq,Xn,e,c,d)}),trk:L(function(a,b,c){var d=c[0],e=b.R();a={node:a,properties:e},(b=b.V())&&(b=go(b,!0,d),e.trkseg=b.Yc()),d=eq[c[c.length-1].node.namespaceURI],e=Yn(e,d),$n(a,hq,Xn,e,c,d)}),wpt:L(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.R(),(b=b.V())&&(b=go(b,!0,d),e.geometryLayout=b.ka,Zp(a,b.$(),c))})});Dp.prototype.a=function(a,b){b=fo(this,b);var c=Kn("http://www.topografix.com/GPX/1/1","gpx");return c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),c.setAttribute("version","1.1"),c.setAttribute("creator","OpenLayers 3"),$n({node:c},kq,jq,a,[b]),c},v(lq,co),k=lq.prototype,k.Y=function(){return"text"},k.bc=function(a,b){return this.Hd(mq(a),fo(this,b))},k.La=function(a,b){return this.Tf(mq(a),fo(this,b))},k.hd=function(a,b){return this.Jd(mq(a),fo(this,b))},k.Wa=function(){return this.defaultDataProjection},k.Od=function(a,b){return this.Re(a,fo(this,b))},k.ec=function(a,b){return this.Oi(a,fo(this,b))},k.od=function(a,b){return this.Pd(a,fo(this,b))},v(nq,lq);var pq=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,qq=/^H.([A-Z]{3}).*?:(.*)/,rq=/^HFDTE(\d{2})(\d{2})(\d{2})/,sq=/\r\n|\r|\n/;nq.prototype.Hd=function(a,b){var p,n,c=this.b,d=a.split(sq),e={},f=[],g=2e3,h=0,l=1,m=-1;for(p=0,n=d.length;n>p;++p){var r,q=d[p];if("B"==q.charAt(0)){if(r=pq.exec(q)){var q=parseInt(r[1],10),u=parseInt(r[2],10),w=parseInt(r[3],10),y=parseInt(r[4],10)+parseInt(r[5],10)/6e4;"S"==r[6]&&(y=-y);var z=parseInt(r[7],10)+parseInt(r[8],10)/6e4;"W"==r[9]&&(z=-z),f.push(z,y),c!=oq&&f.push(c==tq?parseInt(r[11],10):c==uq?parseInt(r[12],10):0),r=Date.UTC(g,h,l,q,u,w),m>r&&(r=Date.UTC(g,h,l+1,q,u,w)),f.push(r/1e3),m=r}}else"H"==q.charAt(0)&&((r=rq.exec(q))?(l=parseInt(r[1],10),h=parseInt(r[2],10)-1,g=2e3+parseInt(r[3],10)):(r=qq.exec(q))&&(e[r[1]]=r[2].trim()))}return 0===f.length?null:(d=new P(null),d.da(c==oq?"XYM":"XYZM",f),c=new J(go(d,!1,b)),c.I(e),c)},nq.prototype.Tf=function(a,b){var c=this.Hd(a,b);return c?[c]:[]};var uq="barometric",tq="gps",oq="none";v(vq,Na),vq.prototype.H=function(){this.f=ki,this.i.forEach(ya),this.i=null,this.b("change")},vq.prototype.u=function(){if(this.f=li,this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]),this.g=[this.a.width,this.a.height],this.i.forEach(ya),this.i=null,wq(this),!this.v&&null!==this.j){this.c.width=this.a.width,this.c.height=this.a.height;var a=this.c.getContext("2d");a.drawImage(this.a,0,0);for(var b=a.getImageData(0,0,this.a.width,this.a.height),c=b.data,d=this.j[0]/255,e=this.j[1]/255,f=this.j[2]/255,g=0,h=c.length;h>g;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")},vq.prototype.load=function(){if(this.f==ji){this.f=mi,this.i=[Da(this.a,"error",this.H,this),Da(this.a,"load",this.u,this)];try{this.a.src=this.o}catch(a){this.H()}}},v(xq,ri),k=xq.prototype,k.clone=function(){var b,a=this.Ic(1);if(this.b.f===li)if("IMG"===a.tagName.toUpperCase())b=a.cloneNode(!0);else{b=document.createElement("canvas");var c=b.getContext("2d");b.width=a.width,b.height=a.height,c.drawImage(a,0,0)}return new xq({anchor:this.c.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.D,crossOrigin:this.ra,color:this.f&&this.f.slice?this.f.slice():this.f||void 0,img:b?b:void 0,imgSize:b?this.b.g.slice():void 0,src:b?void 0:this.b.o,offset:this.L.slice(),offsetOrigin:this.g,size:null!==this.A?this.A.slice():void 0,opacity:this.l,scale:this.i,snapToPixel:this.u,rotation:this.o,rotateWithView:this.H})},k.Ac=function(){if(this.j)return this.j;var a=this.c,b=this.ac();if(this.C==zq||this.D==zq){if(!b)return null;a=this.c.slice(),this.C==zq&&(a[0]*=b[0]),this.D==zq&&(a[1]*=b[1])}if(this.a!=yq){if(!b)return null;a===this.c&&(a=this.c.slice()),(this.a==Aq||this.a==Bq)&&(a[0]=-a[0]+b[0]),(this.a==Cq||this.a==Bq)&&(a[1]=-a[1]+b[1])}return this.j=a},k.Gn=function(){return this.f},k.Ic=function(){var a=this.b;return a.c?a.c:a.a},k.de=function(){return this.b.g},k.xe=function(){return this.b.f},k.Lf=function(){var a=this.b;if(!a.l)if(a.v){var b=a.g[0],c=a.g[1],d=De(b,c);d.fillRect(0,0,b,c),a.l=d.canvas}else a.l=a.a;return a.l},k.Jc=function(){if(this.v)return this.v;var a=this.L;if(this.g!=yq){var b=this.ac(),c=this.b.g;if(!b||!c)return null;a=a.slice(),(this.g==Aq||this.g==Bq)&&(a[0]=c[0]-b[0]-a[0]),(this.g==Cq||this.g==Bq)&&(a[1]=c[1]-b[1]-a[1])}return this.v=a},k.Hn=function(){return this.b.o},k.ac=function(){return this.A?this.A:this.b.g},k.eh=function(a,b){return B(this.b,"change",a,b)},k.load=function(){this.b.load()},k.Ii=function(a,b){Ea(this.b,"change",a,b)};var zq="fraction",Cq="bottom-left",Bq="bottom-right",yq="top-left",Aq="top-right";k=Dq.prototype,k.clone=function(){return new Dq({font:this.g,rotation:this.j,rotateWithView:this.v,scale:this.a,text:this.Ka(),textAlign:this.l,textBaseline:this.o,fill:this.b?this.b.clone():void 0,stroke:this.f?this.f.clone():void 0,offsetX:this.c,offsetY:this.i})},k.dk=function(){return this.g},k.sk=function(){return this.c},k.tk=function(){return this.i},k.Vn=function(){return this.b},k.Wn=function(){return this.v},k.Xn=function(){return this.j},k.Yn=function(){return this.a},k.Zn=function(){return this.f},k.Ka=function(){return this.H},k.Dk=function(){return this.l},k.Ek=function(){return this.o},k.si=function(a){this.g=a},k.yi=function(a){this.c=a},k.zi=function(a){this.i=a},k.Sh=function(a){this.b=a},k.$n=function(a){this.j=a},k.Th=function(a){this.a=a},k.Uh=function(a){this.f=a},k.Vh=function(a){this.H=a},k.Bi=function(a){this.l=a},k.lp=function(a){this.o=a};var Fq,Gq,Hq,Iq,Kq,Jq,Lq,Mq,Nq,Oq,Pq,Qq,Rq,Sq,Tq;v(Eq,dp);var Uq=["http://www.google.com/kml/ext/2.2"],Vq=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Wq={fraction:zq,pixels:"pixels"},xr=M(Vq,{displayName:K(T),value:K(T)}),ur=M(Vq,{Data:function(a,b){var c=a.getAttribute("name");Zn(xr,a,b);var d=b[b.length-1];null!==c?d[c]=d.value:null!==d.displayName&&(d[d.displayName]=d.value)},SchemaData:function(a,b){Zn(yr,a,b)}}),wr=M(Vq,{LatLonAltBox:function(a,b){var c=N({},zr,a,b);if(c){var d=b[b.length-1];d.extent=[parseFloat(c.west),parseFloat(c.south),parseFloat(c.east),parseFloat(c.north)],d.altitudeMode=c.altitudeMode,d.minAltitude=parseFloat(c.minAltitude),d.maxAltitude=parseFloat(c.maxAltitude)}},Lod:function(a,b){var c=N({},Ar,a,b);if(c){var d=b[b.length-1];d.minLodPixels=parseFloat(c.minLodPixels),d.maxLodPixels=parseFloat(c.maxLodPixels),d.minFadeExtent=parseFloat(c.minFadeExtent),d.maxFadeExtent=parseFloat(c.maxFadeExtent)}}}),zr=M(Vq,{altitudeMode:K(T),minAltitude:K(lp),maxAltitude:K(lp),north:K(lp),south:K(lp),east:K(lp),west:K(lp)}),Ar=M(Vq,{minLodPixels:K(lp),maxLodPixels:K(lp),minFadeExtent:K(lp),maxFadeExtent:K(lp)}),ir=M(Vq,{extrude:K(ip),altitudeMode:K(T)}),er=M(Vq,{coordinates:Sn(ar)}),qr=M(Vq,{innerBoundaryIs:function(a,b){var c=N(void 0,Br,a,b);c&&b[b.length-1].push(c)},outerBoundaryIs:function(a,b){var c=N(void 0,Cr,a,b);c&&(b[b.length-1][0]=c)}}),gr=M(Vq,{when:function(a,b){var c=b[b.length-1].Mi,d=Ln(a,!1),d=Date.parse(d);c.push(isNaN(d)?0:d)}},M(Uq,{coord:function(a,b){var c=b[b.length-1].B,d=Ln(a,!1);(d=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(d))?c.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),0):c.push(0,0,0,0)}})),jr=M(Vq,{coordinates:Sn(ar)}),Dr=M(Vq,{href:K(br)},M(Uq,{x:K(lp),y:K(lp),w:K(lp),h:K(lp)})),Er=M(Vq,{Icon:K(function(a,b){var c=N({},Dr,a,b);return c?c:null}),heading:K(lp),hotSpot:K(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),jg:Wq[b],y:parseFloat(a.getAttribute("y")),kg:Wq[c]}}),scale:K(cr)}),Br=M(Vq,{LinearRing:Sn(dr)}),Fr=M(Vq,{color:K($q),scale:K(cr)}),Gr=M(Vq,{color:K($q),width:K(lp)}),mr=M(Vq,{LineString:Rn(hr),LinearRing:Rn(kr),MultiGeometry:Rn(lr),Point:Rn(or),Polygon:Rn(pr)}),Hr=M(Uq,{Track:Rn(fr)}),Jr=M(Vq,{ExtendedData:tr,Region:vr,Link:function(a,b){Zn(Ir,a,b)},address:K(T),description:K(T),name:K(T),open:K(ip),phoneNumber:K(T),visibility:K(ip)}),Ir=M(Vq,{href:K(br)}),Cr=M(Vq,{LinearRing:Sn(dr)}),Kr=M(Vq,{Style:K(rr),key:K(T),styleUrl:K(br)}),Mr=M(Vq,{ExtendedData:tr,Region:vr,MultiGeometry:K(lr,"geometry"),LineString:K(hr,"geometry"),LinearRing:K(kr,"geometry"),Point:K(or,"geometry"),Polygon:K(pr,"geometry"),Style:K(rr),StyleMap:function(a,b){var c=N(void 0,Lr,a,b);if(c){var d=b[b.length-1];Array.isArray(c)?d.Style=c:"string"==typeof c?d.styleUrl=c:ha(!1,38)}},address:K(T),description:K(T),name:K(T),open:K(ip),phoneNumber:K(T),styleUrl:K(br),visibility:K(ip)},M(Uq,{MultiTrack:K(function(a,b){var c=N([],Hr,a,b);if(c){var d=new Q(null);return mo(d,c),d}},"geometry"),Track:K(fr,"geometry")})),Nr=M(Vq,{color:K($q),fill:K(ip),outline:K(ip)}),yr=M(Vq,{SimpleData:function(a,b){var c=a.getAttribute("name");if(null!==c){var d=T(a);b[b.length-1][c]=d}}}),sr=M(Vq,{
IconStyle:function(a,b){var c=N({},Er,a,b);if(c){var g,d=b[b.length-1],e="Icon"in c?c.Icon:{},f=!("Icon"in c)||0<Object.keys(e).length,h=e.href;h?g=h:f&&(g=Mq);var l,m,p;(h=c.hotSpot)?(l=[h.x,h.y],m=h.jg,p=h.kg):g===Mq?(l=Iq,m=Kq,p=Jq):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(g)&&(l=[.5,0],p=m=zq);var n,h=e.x,q=e.y;void 0!==h&&void 0!==q&&(n=[h,q]);var r,h=e.w,e=e.h;void 0!==h&&void 0!==e&&(r=[h,e]);var u,e=c.heading;void 0!==e&&(u=na(e)),c=c.scale,f?(g==Mq&&(r=Lq,void 0===c&&(c=Nq)),f=new xq({anchor:l,anchorOrigin:Cq,anchorXUnits:m,anchorYUnits:p,crossOrigin:"anonymous",offset:n,offsetOrigin:Cq,rotation:u,scale:c,size:r,src:g}),d.imageStyle=f):d.imageStyle=Pq}},LabelStyle:function(a,b){var c=N({},Fr,a,b);c&&(b[b.length-1].textStyle=new Dq({fill:new vi({color:"color"in c?c.color:Gq}),scale:c.scale}))},LineStyle:function(a,b){var c=N({},Gr,a,b);c&&(b[b.length-1].strokeStyle=new wi({color:"color"in c?c.color:Gq,width:"width"in c?c.width:1}))},PolyStyle:function(a,b){var c=N({},Nr,a,b);if(c){var d=b[b.length-1];d.fillStyle=new vi({color:"color"in c?c.color:Gq});var e=c.fill;void 0!==e&&(d.fill=e),c=c.outline,void 0!==c&&(d.outline=c)}}}),Lr=M(Vq,{Pair:function(a,b){var c=N({},Kr,a,b);if(c){var d=c.key;d&&"normal"==d&&((d=c.styleUrl)&&(b[b.length-1]=d),(c=c.Style)&&(b[b.length-1]=c))}}});k=Eq.prototype,k.Qf=function(a,b){var c=M(Vq,{Document:Qn(this.Qf,this),Folder:Qn(this.Qf,this),Placemark:Rn(this.Wf,this),Style:this.Qo.bind(this),StyleMap:this.Po.bind(this)});return(c=N([],c,a,b,this))?c:void 0},k.Wf=function(a,b){var c=N({geometry:null},Mr,a,b);if(c){var d=new J,e=a.getAttribute("id");null!==e&&d.cc(e);var e=b[0],f=c.geometry;return f&&go(f,!1,e),d.Pa(f),delete c.geometry,this.c&&d.Df(Yq(c.Style,c.styleUrl,this.g,this.b,this.i)),delete c.Style,d.I(c),d}},k.Qo=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=rr(a,b);d&&(c=a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[c]=d)}},k.Po=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=N(void 0,Lr,a,b);d&&(c=a.baseURI?new URL("#"+c,a.baseURI).href:"#"+c,this.b[c]=d)}},k.ai=function(a,b){if(!Za(Vq,a.namespaceURI))return null;var c=this.Wf(a,[eo(this,a,b)]);return c?c:null},k.oc=function(a,b){if(!Za(Vq,a.namespaceURI))return[];var c;if(c=a.localName,"Document"==c||"Folder"==c)return(c=this.Qf(a,[eo(this,a,b)]))?c:[];if("Placemark"==c)return(c=this.Wf(a,[eo(this,a,b)]))?[c]:[];if("kml"==c){c=[];var d;for(d=a.firstElementChild;d;d=d.nextElementSibling){var e=this.oc(d,b);e&&bb(c,e)}return c}return[]},k.Jo=function(a){return Nn(a)?Or(this,a):On(a)?Pr(this,a):"string"==typeof a?(a=Pn(a),Or(this,a)):void 0},k.Ko=function(a){var b=[];return Nn(a)?bb(b,Qr(this,a)):On(a)?bb(b,Rr(this,a)):"string"==typeof a&&(a=Pn(a),bb(b,Qr(this,a))),b},k.No=function(a){var b=[];return Nn(a)?bb(b,Sr(this,a)):On(a)?bb(b,this.Ie(a)):"string"==typeof a&&(a=Pn(a),bb(b,Sr(this,a))),b},k.Ie=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(Za(Vq,b.namespaceURI)&&"Region"==b.localName){var d=N({},wr,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!Za(Vq,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||bb(c,this.Ie(b));return c};var os=M(Vq,["Document","Placemark"]),rs=M(Vq,{Document:L(function(a,b,c){$n({node:a},ps,qs,b,c,void 0,this)}),Placemark:L(cs)}),ps=M(Vq,{Placemark:L(cs)}),ss=M(Vq,{Data:L(function(a,b,c){a.setAttribute("name",b.name),a={node:a},b=b.value,"object"==typeof b?(null!==b&&b.displayName&&$n(a,ss,Xn,[b.displayName],c,["displayName"]),null!==b&&b.value&&$n(a,ss,Xn,[b.value],c,["value"])):$n(a,ss,Xn,[b],c,["value"])}),value:L(function(a,b){qp(a,b)}),displayName:L(function(a,b){a.appendChild(Jn.createCDATASection(b))})}),ts={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},us=M(Vq,["href"],M(Uq,["x","y","w","h"])),vs=M(Vq,{href:L(qp)},M(Uq,{x:L(rp),y:L(rp),w:L(rp),h:L(rp)})),ws=M(Vq,["scale","heading","Icon","hotSpot"]),ys=M(Vq,{Icon:L(function(a,b,c){a={node:a};var d=us[c[c.length-1].node.namespaceURI],e=Yn(b,d);$n(a,vs,Xn,e,c,d),d=us[Uq[0]],e=Yn(b,d),$n(a,vs,xs,e,c,d)}),heading:L(rp),hotSpot:L(function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.jg),a.setAttribute("yunits",b.kg)}),scale:L(ns)}),zs=M(Vq,["color","scale"]),As=M(Vq,{color:L(Tr),scale:L(ns)}),Bs=M(Vq,["color","width"]),Cs=M(Vq,{color:L(Tr),width:L(rp)}),as=M(Vq,{LinearRing:L(gs)}),Zr=M(Vq,{LineString:L(gs),Point:L(gs),Polygon:L(js),GeometryCollection:L(Ur)}),fs=M(Vq,"name open visibility address phoneNumber description styleUrl Style".split(" ")),ds=M(Vq,{ExtendedData:L(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;e>f;f++)$n(a,ss,Ds,[{name:d[f],value:b[f]}],c)}),MultiGeometry:L(Ur),LineString:L(gs),LinearRing:L(gs),Point:L(gs),Polygon:L(js),Style:L(function(a,b,c){a={node:a};var d={},e=b.f,f=b.g,g=b.a;b=b.Ka(),g instanceof xq&&(d.IconStyle=g),b&&(d.LabelStyle=b),f&&(d.LineStyle=f),e&&(d.PolyStyle=e),b=Es[c[c.length-1].node.namespaceURI],d=Yn(d,b),$n(a,Fs,Xn,d,c,b)}),address:L(qp),description:L(qp),name:L(qp),open:L(pp),phoneNumber:L(qp),styleUrl:L(qp),visibility:L(pp)}),hs=M(Vq,{coordinates:L(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:ha(!1,34);var f,g=b.length,h="";if(g>0){for(h+=b[0],d=1;e>d;++d)h+=","+b[d];for(f=c;g>f;f+=c)for(h+=" "+b[f],d=1;e>d;++d)h+=","+b[f+d]}qp(a,h)})}),ks=M(Vq,{outerBoundaryIs:L($r),innerBoundaryIs:L($r)}),Gs=M(Vq,{color:L(Tr)}),Es=M(Vq,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Fs=M(Vq,{IconStyle:L(function(a,b,c){a={node:a};var d={},e=b.ac(),f=b.de(),g={href:b.b.o};if(e){g.w=e[0],g.h=e[1];var h=b.Ac(),l=b.Jc();l&&f&&0!==l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1])),h&&0!==h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],jg:"pixels",y:e[1]-h[1],kg:"pixels"})}d.Icon=g,e=b.i,1!==e&&(d.scale=e),b=b.o,0!==b&&(d.heading=b),b=ws[c[c.length-1].node.namespaceURI],d=Yn(d,b),$n(a,ys,Xn,d,c,b)}),LabelStyle:L(function(a,b,c){a={node:a};var d={},e=b.b;e&&(d.color=e.b),(b=b.a)&&1!==b&&(d.scale=b),b=zs[c[c.length-1].node.namespaceURI],d=Yn(d,b),$n(a,As,Xn,d,c,b)}),LineStyle:L(function(a,b,c){a={node:a};var d=Bs[c[c.length-1].node.namespaceURI];b=Yn({color:b.b,width:b.f},d),$n(a,Cs,Xn,b,c,d)}),PolyStyle:L(function(a,b,c){$n({node:a},Gs,Hs,[b.b],c)})}),Hs=Vn("color"),is=Vn("coordinates"),Ds=Vn("Data"),es=Vn("ExtendedData"),ls=Vn("innerBoundaryIs"),Wr=Vn("Point"),Xr=Vn("LineString"),bs=Vn("LinearRing"),Yr=Vn("Polygon"),ms=Vn("outerBoundaryIs");Eq.prototype.a=function(a,b){b=fo(this,b);var c=Kn(Vq[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Uq[0]),c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);var f=os[c.namespaceURI],e=Yn(e,f);return $n(d,rs,Xn,e,[b],f,this),c},function(){var a={},b={ma:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ma=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Rp=c()}}(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ma:{}},a[m][0].call(q.ma,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b,f){f.read=function(a,b,d,e,f){var n;n=8*f-e-1;var q=(1<<n)-1,r=q>>1,u=-7;f=d?f-1:0;var w=d?-1:1,y=a[b+f];for(f+=w,d=y&(1<<-u)-1,y>>=-u,u+=n;u>0;d=256*d+a[b+f],f+=w,u-=8);for(n=d&(1<<-u)-1,d>>=-u,u+=e;u>0;n=256*n+a[b+f],f+=w,u-=8);if(0===d)d=1-r;else{if(d===q)return n?0/0:1/0*(y?-1:1);n+=Math.pow(2,e),d-=r}return(y?-1:1)*n*Math.pow(2,d-e)},f.write=function(a,b,d,e,f,n){var q,r=8*n-f-1,u=(1<<r)-1,w=u>>1,y=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;n=e?0:n-1;var z=e?1:-1,A=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(b=isNaN(b)?1:0,e=u):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(q=Math.pow(2,-e))&&(e--,q*=2),b=e+w>=1?b+y/q:b+y*Math.pow(2,1-w),b*q>=2&&(e++,q/=2),e+w>=u?(b=0,e=u):e+w>=1?(b=(b*q-1)*Math.pow(2,f),e+=w):(b=b*Math.pow(2,w-1)*Math.pow(2,f),e=0));f>=8;a[d+n]=255&b,n+=z,b/=256,f-=8);for(e=e<<f|b,r+=f;r>0;a[d+n]=255&e,n+=z,e/=256,r-=8);a[d+n-z]|=128*A}},{}],2:[function(a,b){function f(a){this.gc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.type=this.ha=0,this.length=this.gc.length}function g(a,b,d){var f,g,e=d.gc;if(g=e[d.ha++],f=(112&g)>>4,128>g)return h(a,f,b);if(g=e[d.ha++],f|=(127&g)<<3,128>g)return h(a,f,b);if(g=e[d.ha++],f|=(127&g)<<10,128>g)return h(a,f,b);if(g=e[d.ha++],f|=(127&g)<<17,128>g)return h(a,f,b);if(g=e[d.ha++],f|=(127&g)<<24,128>g)return h(a,f,b);if(g=e[d.ha++],128>g)return h(a,f|(1&g)<<31,b);throw Error("Expected varint not more than 10 bytes")}function h(a,b,d){return d?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}b.ma=f;var l=a("ieee754");f.f=0,f.g=1,f.b=2,f.a=5,f.prototype={Uf:function(a,b,d){for(d=d||this.length;this.ha<d;){var e=this.Ia(),f=e>>3,g=this.ha;this.type=7&e,a(f,b,this),this.ha===g&&this.qp(e)}return b},Fo:function(){var a=l.read(this.gc,this.ha,!0,23,4);return this.ha+=4,a},Bo:function(){var a=l.read(this.gc,this.ha,!0,52,8);return this.ha+=8,a},Ia:function(a){var d,e,b=this.gc;return e=b[this.ha++],d=127&e,128>e?d:(e=b[this.ha++],d|=(127&e)<<7,128>e?d:(e=b[this.ha++],d|=(127&e)<<14,128>e?d:(e=b[this.ha++],d|=(127&e)<<21,128>e?d:(e=b[this.ha],g(d|(15&e)<<28,a,this)))))},Ro:function(){return this.Ia(!0)},Kd:function(){var a=this.Ia();return 1===a%2?(a+1)/-2:a/2},zo:function(){return!!this.Ia()},Yf:function(){for(var a=this.Ia()+this.ha,b=this.gc,d="",e=this.ha;a>e;){var f=b[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h>a)break;var l,z,A;1===h?128>f&&(g=f):2===h?(l=b[e+1],128===(192&l)&&(g=(31&f)<<6|63&l,127>=g&&(g=null))):3===h?(l=b[e+1],z=b[e+2],128===(192&l)&&128===(192&z)&&(g=(15&f)<<12|(63&l)<<6|63&z,2047>=g||g>=55296&&57343>=g)&&(g=null)):4===h&&(l=b[e+1],z=b[e+2],A=b[e+3],128===(192&l)&&128===(192&z)&&128===(192&A)&&(g=(15&f)<<18|(63&l)<<12|(63&z)<<6|63&A,65535>=g||g>=1114112))&&(g=null),null===g?(g=65533,h=1):g>65535&&(g-=65536,d+=String.fromCharCode(g>>>10&1023|55296),g=56320|1023&g),d+=String.fromCharCode(g),e+=h}return this.ha=a,d},qp:function(a){if(a&=7,a===f.f)for(;127<this.gc[this.ha++];);else if(a===f.b)this.ha=this.Ia()+this.ha;else if(a===f.a)this.ha+=4;else{if(a!==f.g)throw Error("Unimplemented type: "+a);this.ha+=8}}}},{ieee754:1}]},{},[2])(2)}),gl=b.ma}(),function(){var a={},b={ma:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ma=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Up=c()}}(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ma:{}},a[m][0].call(q.ma,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a,b){this.x=a,this.y=b}b.ma=f,f.prototype={clone:function(){return new f(this.x,this.y)},add:function(a){return this.clone().oj(a)},rotate:function(a){return this.clone().yj(a)},round:function(){return this.clone().zj()},angle:function(){return Math.atan2(this.y,this.x)},oj:function(a){return this.x+=a.x,this.y+=a.y,this},yj:function(a){var b=Math.cos(a);a=Math.sin(a);var d=a*this.x+b*this.y;return this.x=b*this.x-a*this.y,this.y=d,this},zj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.b=function(a){return a instanceof f?a:Array.isArray(a)?new f(a[0],a[1]):a}},{}],2:[function(a,b){b.ma.nj=a("./lib/vectortile.js"),b.ma.Op=a("./lib/vectortilefeature.js"),b.ma.Pp=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(a,b){function f(a,b,d){3===a&&(a=new g(d,d.Ia()+d.ha),a.length&&(b[a.name]=a))}var g=a("./vectortilelayer");b.ma=function(a,b){this.layers=a.Uf(f,{},b)}},{"./vectortilelayer":5}],4:[function(a,b){function f(a,b,d,e,f){this.properties={},this.extent=d,this.type=0,this.rc=a,this.Ye=-1,this.Td=e,this.Vd=f,a.Uf(g,this,b)}function g(a,b,d){if(1==a)b.id=d.Ia();else if(2==a)for(a=d.Ia()+d.ha;d.ha<a;){var e=b.Td[d.Ia()],f=b.Vd[d.Ia()];b.properties[e]=f}else 3==a?b.type=d.Ia():4==a&&(b.Ye=d.ha)}var h=a("point-geometry");b.ma=f,f.b=["Unknown","Point","LineString","Polygon"],f.prototype.fh=function(){var a=this.rc;a.ha=this.Ye;for(var w,b=a.Ia()+a.ha,d=1,e=0,f=0,g=0,u=[];a.ha<b;)if(e||(e=a.Ia(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.Kd(),g+=a.Kd(),1===d&&(w&&u.push(w),w=[]),w.push(new h(f,g));else{if(7!==d)throw Error("unknown command "+d);w&&w.push(w[0].clone())}return w&&u.push(w),u},f.prototype.bbox=function(){var a=this.rc;a.ha=this.Ye;for(var b=a.Ia()+a.ha,d=1,e=0,f=0,g=0,h=1/0,w=-(1/0),y=1/0,z=-(1/0);a.ha<b;)if(e||(e=a.Ia(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.Kd(),g+=a.Kd(),h>f&&(h=f),f>w&&(w=f),y>g&&(y=g),g>z&&(z=g);else if(7!==d)throw Error("unknown command "+d);return[h,y,w,z]}},{"point-geometry":1}],5:[function(a,b){function f(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this.rc=a,this.Td=[],this.Vd=[],this.Sd=[],a.Uf(g,this,b),this.length=this.Sd.length}function g(a,b,d){15===a?b.version=d.Ia():1===a?b.name=d.Yf():5===a?b.extent=d.Ia():2===a?b.Sd.push(d.ha):3===a?b.Td.push(d.Yf()):4===a&&b.Vd.push(h(d))}function h(a){for(var b=null,d=a.Ia()+a.ha;a.ha<d;)b=a.Ia()>>3,b=1===b?a.Yf():2===b?a.Fo():3===b?a.Bo():4===b?a.Ro():5===b?a.Ia():6===b?a.Kd():7===b?a.zo():null;return b}var l=a("./vectortilefeature.js");b.ma=f,f.prototype.feature=function(a){if(0>a||a>=this.Sd.length)throw Error("feature index out of bounds");return this.rc.ha=this.Sd[a],a=this.rc.Ia()+this.rc.ha,new l(this.rc,a,this.extent,this.Td,this.Vd)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),hl=b.ma}(),k=Is.prototype,k.get=function(a){return this.f[a]},k.Kb=function(){return this.c},k.G=function(){return this.a||(this.a="Point"===this.g?Sb(this.b):Tb(this.b,0,this.b.length,2)),this.a},k.Vb=function(){return this.b},k.ia=Is.prototype.Vb,k.V=function(){return this},k.Tm=function(){return this.f},k.Bd=Is.prototype.V,k.pa=function(){return 2},k.Gc=ea,k.Y=function(){return this.g},v(Js,co),Js.prototype.Y=function(){return"arraybuffer"},Js.prototype.La=function(a,b){var g,h,l,c=this.f,d=new gl(a),d=new hl.nj(d),e=[],f=this.b;for(l in d.layers)if(!c||-1!=c.indexOf(l)){g=d.layers[l];for(var m=0,p=g.length;p>m;++m){if(f===Is){var n=g.feature(m);h=l;var q=n.fh(),r=[],u=[];Ks(q,u,r);var w=n.type,y=void 0;1===w?y=1===q.length?"Point":"MultiPoint":2===w?y=1===q.length?"LineString":"MultiLineString":3===w&&(y="Polygon"),n=n.properties,n[this.a]=h,h=new this.b(y,u,r,n)}else{if(q=g.feature(m),n=l,y=b,h=new this.b,r=q.id,u=q.properties,u[this.a]=n,n=q.type,0===n)n=null;else{var q=q.fh(),w=[],z=[];Ks(q,z,w);var A=void 0;1===n?A=1===q.length?new C(null):new R(null):2===n?A=1===q.length?new P(null):new Q(null):3===n&&(A=new E(null)),A.da("XY",z,w),n=A}(y=go(n,!1,fo(this,y)))&&(u[this.g]=y),h.cc(r),h.I(u),h.Nc(this.g)}e.push(h)}}return e},Js.prototype.Wa=function(){return this.defaultDataProjection},Js.prototype.c=function(a){this.f=a},v(Ls,dp);var Ns=[null],Os=M(Ns,{nd:function(a,b){b[b.length-1].bd.push(a.getAttribute("ref"))},tag:Ms}),Qs=M(Ns,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.jh[e]=f;var g=N({Nd:{}},Ps,a,b);wa(g.Nd)||(f=new C(f),go(f,!1,c),c=new J(f),c.cc(e),c.I(g.Nd),d.features.push(c))},way:function(a,b){for(var c=b[0],d=a.getAttribute("id"),e=N({bd:[],Nd:{}},Os,a,b),f=b[b.length-1],g=[],h=0,l=e.bd.length;l>h;h++)bb(g,f.jh[e.bd[h]]);e.bd[0]==e.bd[e.bd.length-1]?(h=new E(null),h.da("XY",g,[g.length])):(h=new P(null),h.da("XY",g)),go(h,!1,c),c=new J(h),c.cc(d),c.I(e.Nd),f.features.push(c)}}),Ps=M(Ns,{tag:Ms});Ls.prototype.oc=function(a,b){var c=eo(this,a,b);return"osm"==a.localName&&(c=N({jh:{},features:[]},Qs,a,[c]),c.features)?c.features:[]},Ss.prototype.read=function(a){return Nn(a)?this.a(a):On(a)?this.b(a):"string"==typeof a?(a=Pn(a),this.a(a)):null},v(Ts,Ss),Ts.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Ts.prototype.b=function(a){return(a=N({},Us,a,[]))?a:null};var Vs=[null,"http://www.opengis.net/ows/1.1"],Us=M(Vs,{ServiceIdentification:K(function(a,b){return N({},Ws,a,b)}),ServiceProvider:K(function(a,b){return N({},Xs,a,b)}),OperationsMetadata:K(function(a,b){return N({},Ys,a,b)})}),Zs=M(Vs,{DeliveryPoint:K(T),City:K(T),AdministrativeArea:K(T),PostalCode:K(T),Country:K(T),ElectronicMailAddress:K(T)}),$s=M(Vs,{Value:Tn(function(a){return T(a)})}),at=M(Vs,{AllowedValues:K(function(a,b){return N({},$s,a,b)})}),ct=M(Vs,{Phone:K(function(a,b){return N({},bt,a,b)}),Address:K(function(a,b){return N({},Zs,a,b)})}),et=M(Vs,{HTTP:K(function(a,b){return N({},dt,a,b)})}),dt=M(Vs,{Get:Tn(function(a,b){var c=Rs(a);return c?N({href:c},ft,a,b):void 0}),Post:void 0}),gt=M(Vs,{DCP:K(function(a,b){return N({},et,a,b)})}),Ys=M(Vs,{Operation:function(a,b){var c=a.getAttribute("name"),d=N({},gt,a,b);d&&(b[b.length-1][c]=d)}}),bt=M(Vs,{Voice:K(T),Facsimile:K(T)}),ft=M(Vs,{Constraint:Tn(function(a,b){var c=a.getAttribute("name");return c?N({name:c},at,a,b):void 0})}),ht=M(Vs,{IndividualName:K(T),PositionName:K(T),ContactInfo:K(function(a,b){return N({},ct,a,b)})}),Ws=M(Vs,{Title:K(T),ServiceTypeVersion:K(T),ServiceType:K(T)}),Xs=M(Vs,{ProviderName:K(T),ProviderSite:K(Rs),ServiceContact:K(function(a,b){return N({},ht,a,b)})});v(jt,lq),k=jt.prototype,k.Hd=function(a,b){var c=this.Jd(a,b);return new J(c)},k.Tf=function(a,b){return[this.Hd(a,b)]},k.Jd=function(a,b){var c=Vc(this.a),d=mt(a,c,this.b);return it(d,d.length,c,d),c=id(d,0,d.length,c),go(new P(c,this.a),!1,fo(this,b))},k.Re=function(a,b){var c=a.V();return c?this.Pd(c,b):(ha(!1,40),"")},k.Oi=function(a,b){return this.Re(a[0],b)},k.Pd=function(a,b){a=go(a,!0,fo(this,b));var c=a.ia(),d=a.pa();return it(c,c.length,d,c),kt(c,d,this.b)},v(ot,ho),ot.prototype.Sf=function(a,b){if("Topology"==a.type){var c,d=null,e=null;a.transform&&(c=a.transform,d=c.scale,e=c.translate);var f=a.arcs;if(c){c=d;var h,l,g=e;for(h=0,l=f.length;l>h;++h){var u,w,y,m=f[h],p=c,n=g,q=0,r=0;for(w=0,y=m.length;y>w;++w)u=m[w],q+=u[0],r+=u[1],u[0]=q,u[1]=r,tt(u,p,n)}}for(c=[],g=va(a.objects),h=0,l=g.length;l>h;++h)"GeometryCollection"===g[h].type?(m=g[h],c.push.apply(c,qt(m,f,d,e,b))):(m=g[h],c.push(rt(m,f,d,e,b)));return c}return[]},ot.prototype.Wa=function(){return this.defaultDataProjection};var st={Point:function(a,b,c){return a=a.coordinates,b&&c&&tt(a,b,c),new C(a)},LineString:function(a,b){var c=pt(a.arcs,b);return new P(c)},Polygon:function(a,b){var d,e,c=[];for(d=0,e=a.arcs.length;e>d;++d)c[d]=pt(a.arcs[d],b);return new E(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d,e;if(b&&c)for(d=0,e=a.length;e>d;++d)tt(a[d],b,c);return new R(a)},MultiLineString:function(a,b){var d,e,c=[];for(d=0,e=a.arcs.length;e>d;++d)c[d]=pt(a.arcs[d],b);return new Q(c)},MultiPolygon:function(a,b){var d,e,f,g,h,l,c=[];for(h=0,l=a.arcs.length;l>h;++h){for(d=a.arcs[h],e=[],f=0,g=d.length;g>f;++f)e[f]=pt(d[f],b);c[h]=e}return new S(c)}};v(ut,dp),ut.prototype.oc=function(a,b){var c={featureType:this.i,featureNS:this.g};return ta(c,eo(this,a,b?b:{})),c=[c],this.b.b["http://www.opengis.net/gml"].featureMember=Rn(gp.prototype.Id),(c=N([],this.b.b,a,c,this.b))||(c=[]),c},ut.prototype.o=function(a){return Nn(a)?vt(a):On(a)?N({},wt,a,[]):"string"==typeof a?(a=Pn(a),vt(a)):void 0},ut.prototype.l=function(a){return Nn(a)?xt(this,a):On(a)?yt(this,a):"string"==typeof a?(a=Pn(a),xt(this,a)):void 0};var zt={"http://www.opengis.net/gml":{boundedBy:K(gp.prototype.Ee,"bounds")}},At={"http://www.opengis.net/wfs":{totalInserted:K(np),totalUpdated:K(np),totalDeleted:K(np)}},Bt={"http://www.opengis.net/ogc":{FeatureId:Rn(function(a){return a.getAttribute("fid")})}},Ct={"http://www.opengis.net/wfs":{Feature:function(a,b){Zn(Bt,a,b)}}},wt={"http://www.opengis.net/wfs":{TransactionSummary:K(function(a,b){return N({},At,a,b)},"transactionSummary"),InsertResults:K(function(a,b){return N([],Ct,a,b)},"insertIds")}},Dt={"http://www.opengis.net/wfs":{PropertyName:L(qp)}},Ft={"http://www.opengis.net/wfs":{Insert:L(function(a,b,c){var d=c[c.length-1],d=Kn(d.featureNS,d.featureType);a.appendChild(d),tp.prototype.Ni(d,b,c)}),Update:L(function(a,b,c){var d=c[c.length-1];ha(void 0!==b.f,27);var e=d.featureType,f=d.featurePrefix,f=f?f:"feature",g=d.featureNS;if(a.setAttribute("typeName",f+":"+e),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+f,g),e=b.f,void 0!==e){for(var f=b.S(),g=[],h=0,l=f.length;l>h;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}$n({node:a,srsName:d.srsName},Ft,Vn("Property"),g,c),Et(a,e)}}),Delete:L(function(a,b,c){var d=c[c.length-1];ha(void 0!==b.f,26),c=d.featureType;var e=d.featurePrefix,e=e?e:"feature",d=d.featureNS;a.setAttribute("typeName",e+":"+c),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,d),b=b.f,void 0!==b&&Et(a,b)}),Property:L(function(a,b,c){var d=Kn("http://www.opengis.net/wfs","Name");a.appendChild(d),qp(d,b.name),void 0!==b.value&&null!==b.value&&(d=Kn("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof Rc?tp.prototype.pd(d,b.value,c):qp(d,b.value))}),Native:L(function(a,b){b.yp&&a.setAttribute("vendorId",b.yp),void 0!==b.cp&&a.setAttribute("safeToIgnore",b.cp),void 0!==b.value&&qp(a,b.value)})}},Ht={"http://www.opengis.net/wfs":{Query:L(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",(e?e+":":"")+b),h&&a.setAttribute("srsName",h),f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),b=ta({},d),b.node=a,$n(b,Dt,Vn("PropertyName"),g,c),(d=d.filter)&&(g=Kn("http://www.opengis.net/ogc","Filter"),a.appendChild(g),$n({node:g},Ht,Vn(d.Nb),[d],c))})},"http://www.opengis.net/ogc":{And:L(Gt),Or:L(Gt),Not:L(function(a,b,c){b=b.condition,$n({node:a},Ht,Vn(b.Nb),[b],c)}),BBOX:L(function(a,b,c){c[c.length-1].srsName=b.srsName,Jt(a,b.geometryName),tp.prototype.pd(a,b.extent,c)}),Intersects:L(function(a,b,c){c[c.length-1].srsName=b.srsName,Jt(a,b.geometryName),tp.prototype.pd(a,b.geometry,c)}),Within:L(function(a,b,c){c[c.length-1].srsName=b.srsName,Jt(a,b.geometryName),tp.prototype.pd(a,b.geometry,c)}),PropertyIsEqualTo:L(It),PropertyIsNotEqualTo:L(It),PropertyIsLessThan:L(It),PropertyIsLessThanOrEqualTo:L(It),PropertyIsGreaterThan:L(It),PropertyIsGreaterThanOrEqualTo:L(It),PropertyIsNull:L(function(a,b){Jt(a,b.b)}),PropertyIsBetween:L(function(a,b){Jt(a,b.b);var c=Kn("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c),Kt(c,""+b.a),c=Kn("http://www.opengis.net/ogc","UpperBoundary"),a.appendChild(c),Kt(c,""+b.g)}),PropertyIsLike:L(function(a,b){a.setAttribute("wildCard",b.i),a.setAttribute("singleChar",b.c),a.setAttribute("escapeChar",b.g),void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Jt(a,b.b),Kt(a,""+b.f)})}};ut.prototype.v=function(a){var b=Kn("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0");var c;if(a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count),c=a.filter,a.bbox)){ha(a.geometryName,12);var d=Uo(a.geometryName,a.bbox,a.srsName);c=c?To(c,d):d}return b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.g,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]},ha(Array.isArray(a.featureTypes),11),a=a.featureTypes,c=[c],d=ta({},c[c.length-1]),d.node=b,$n(d,Ht,Vn("Query"),a,c),b},ut.prototype.A=function(a,b,c,d){var e=[],f=Kn("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS"),f.setAttribute("version","1.1.0");var g,h;return d&&(g=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle)),f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),a&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ta(h,g),$n(h,Ft,Vn("Insert"),a,e)),b&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},ta(h,g),$n(h,Ft,Vn("Update"),b,e)),c&&$n({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ft,Vn("Delete"),c,e),d.nativeElements&&$n({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ft,Vn("Native"),d.nativeElements,e),f},ut.prototype.Xf=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.He(a);return null},ut.prototype.He=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];return this.b.Ee(a,b),zc(b.pop().srsName)}return null},v(Mt,lq);var Rt={Point:Nt,LineString:Ot,Polygon:Pt,MultiPoint:function(a){var b=[];a=a.re();for(var c=0,d=a.length;d>c;++c)b.push("("+Nt(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.Yc();for(var c=0,d=a.length;d>c;++c)b.push("("+Ot(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Ad();for(var c=0,d=a.length;d>c;++c)b.push("("+Pt(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.pf();for(var c=0,d=a.length;d>c;++c)b.push(Qt(a[c]));return b.join(",")}};k=Mt.prototype,k.Hd=function(a,b){var c=this.Jd(a,b);if(c){var d=new J;return d.Pa(c),d}return null},k.Tf=function(a,b){var c=[],d=this.Jd(a,b);c=this.b&&"GeometryCollection"==d.Y()?d.f:[d];for(var e=[],f=0,g=c.length;g>f;++f)d=new J,d.Pa(c[f]),e.push(d);return e},k.Jd=function(a,b){var c;return c=new St(new Tt(a)),Ut(c),(c=Vt(c))?go(c,!1,b):null},k.Re=function(a,b){var c=a.V();return c?this.Pd(c,b):""},k.Oi=function(a,b){if(1==a.length)return this.Re(a[0],b);for(var c=[],d=0,e=a.length;e>d;++d)c.push(a[d].V());return c=new Vo(c),this.Pd(c,b)},k.Pd=function(a,b){return Qt(go(a,!0,b))},k=St.prototype,k.Of=function(){if(Xt(this,2)){var a=bu(this);if(Xt(this,3))return a}else if(Yt(this))return null;throw Error(Zt(this))},k.Nf=function(){if(Xt(this,2)){var a=cu(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this))},k.Pf=function(){if(Xt(this,2)){var a=du(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this))},k.mo=function(){if(Xt(this,2)){var a;if(2==this.b.type)for(a=[this.Of()];Xt(this,5);)a.push(this.Of());else a=cu(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this))},k.lo=function(){if(Xt(this,2)){var a=du(this);if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this))},k.no=function(){if(Xt(this,2)){for(var a=[this.Pf()];Xt(this,5);)a.push(this.Pf());if(Xt(this,3))return a}else if(Yt(this))return[];throw Error(Zt(this))};var au={POINT:C,LINESTRING:P,POLYGON:E,MULTIPOINT:R,MULTILINESTRING:Q,MULTIPOLYGON:S},$t={POINT:St.prototype.Of,LINESTRING:St.prototype.Nf,POLYGON:St.prototype.Pf,MULTIPOINT:St.prototype.mo,MULTILINESTRING:St.prototype.lo,MULTIPOLYGON:St.prototype.no};v(eu,Ss),eu.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},eu.prototype.b=function(a){return this.version=a.getAttribute("version").trim(),(a=N({version:this.version},fu,a,[]))?a:null};var nu=[null,"http://www.opengis.net/wms"],fu=M(nu,{Service:K(function(a,b){return N({},ou,a,b)}),Capability:K(function(a,b){return N({},pu,a,b)})}),pu=M(nu,{Request:K(function(a,b){return N({},qu,a,b)}),Exception:K(function(a,b){return N([],ru,a,b)}),Layer:K(function(a,b){return N({},su,a,b)})}),ou=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),KeywordList:K(lu),OnlineResource:K(Rs),ContactInformation:K(function(a,b){return N({},tu,a,b)}),Fees:K(T),AccessConstraints:K(T),LayerLimit:K(np),MaxWidth:K(np),MaxHeight:K(np)}),tu=M(nu,{ContactPersonPrimary:K(function(a,b){return N({},uu,a,b)}),ContactPosition:K(T),ContactAddress:K(function(a,b){return N({},vu,a,b)}),ContactVoiceTelephone:K(T),ContactFacsimileTelephone:K(T),ContactElectronicMailAddress:K(T)}),uu=M(nu,{ContactPerson:K(T),ContactOrganization:K(T)}),vu=M(nu,{AddressType:K(T),Address:K(T),City:K(T),StateOrProvince:K(T),PostCode:K(T),Country:K(T)}),ru=M(nu,{Format:Rn(T)}),su=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),KeywordList:K(lu),CRS:Tn(T),EX_GeographicBoundingBox:K(function(a,b){var c=N({},wu,a,b);if(c){var d=c.westBoundLongitude,e=c.southBoundLatitude,f=c.eastBoundLongitude,c=c.northBoundLatitude;return void 0===d||void 0===e||void 0===f||void 0===c?void 0:[d,e,f,c]}}),BoundingBox:Tn(function(a){var b=[mp(a.getAttribute("minx")),mp(a.getAttribute("miny")),mp(a.getAttribute("maxx")),mp(a.getAttribute("maxy"))],c=[mp(a.getAttribute("resx")),mp(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:Tn(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:jp(a.getAttribute("multipleValues")),nearestValue:jp(a.getAttribute("nearestValue")),current:jp(a.getAttribute("current")),values:T(a)}}),Attribution:K(function(a,b){return N({},xu,a,b)}),AuthorityURL:Tn(function(a,b){var c=gu(a,b);return c?(c.name=a.getAttribute("name"),c):void 0}),Identifier:Tn(T),MetadataURL:Tn(function(a,b){var c=gu(a,b);return c?(c.type=a.getAttribute("type"),c):void 0}),DataURL:Tn(gu),FeatureListURL:Tn(gu),Style:Tn(function(a,b){return N({},yu,a,b)}),MinScaleDenominator:K(lp),MaxScaleDenominator:K(lp),Layer:Tn(function(a,b){var c=b[b.length-1],d=N({},su,a,b);if(d){var e=jp(a.getAttribute("queryable"));return void 0===e&&(e=c.queryable),d.queryable=void 0!==e?e:!1,e=op(a.getAttribute("cascaded")),void 0===e&&(e=c.cascaded),d.cascaded=e,e=jp(a.getAttribute("opaque")),void 0===e&&(e=c.opaque),d.opaque=void 0!==e?e:!1,e=jp(a.getAttribute("noSubsets")),void 0===e&&(e=c.noSubsets),d.noSubsets=void 0!==e?e:!1,(e=mp(a.getAttribute("fixedWidth")))||(e=c.fixedWidth),d.fixedWidth=e,(e=mp(a.getAttribute("fixedHeight")))||(e=c.fixedHeight),d.fixedHeight=e,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d}})}),xu=M(nu,{Title:K(T),OnlineResource:K(Rs),LogoURL:K(ku)}),wu=M(nu,{westBoundLongitude:K(lp),eastBoundLongitude:K(lp),southBoundLatitude:K(lp),northBoundLatitude:K(lp)}),qu=M(nu,{GetCapabilities:K(iu),GetMap:K(iu),GetFeatureInfo:K(iu)}),ju=M(nu,{Format:Tn(T),DCPType:Tn(function(a,b){return N({},zu,a,b)})}),zu=M(nu,{HTTP:K(function(a,b){return N({},Au,a,b)})}),Au=M(nu,{Get:K(gu),Post:K(gu)}),yu=M(nu,{Name:K(T),Title:K(T),Abstract:K(T),
LegendURL:Tn(ku),StyleSheetURL:K(gu),StyleURL:K(gu)}),hu=M(nu,{Format:K(T),OnlineResource:K(Rs)}),mu=M(nu,{Keyword:Rn(T)});v(Bu,dp),Bu.prototype.oc=function(a,b){var c={};b&&ta(c,eo(this,a,b));var d=[c];a.setAttribute("namespaceURI",this.g);var e=a.localName,c=[];if(0!==a.childNodes.length){if("msGMLOutput"==e)for(var f=0,g=a.childNodes.length;g>f;f++){var h=a.childNodes[f];if(h.nodeType===Node.ELEMENT_NODE){var l=d[0],m=h.localName.replace("_layer","");if(!this.c||Za(this.c,m)){m+="_feature",l.featureType=m,l.featureNS=this.g;var p={};p[m]=Rn(this.b.Rf,this.b),l=M([l.featureNS,null],p),h.setAttribute("namespaceURI",this.g),(h=N([],l,h,d,this.b))&&bb(c,h)}}}"FeatureCollection"==e&&(d=N([],this.b.b,a,[{}],this.b))&&(c=d)}return c},v(Cu,Ss),Cu.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Cu.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.g.b(a);return c?(c.version=b,(c=N(c,Du,a,[]))?c:null):null};var Fu=[null,"http://www.opengis.net/wmts/1.0"],Gu=[null,"http://www.opengis.net/ows/1.1"],Du=M(Fu,{Contents:K(function(a,b){return N({},Hu,a,b)})}),Hu=M(Fu,{Layer:Tn(function(a,b){return N({},Iu,a,b)}),TileMatrixSet:Tn(function(a,b){return N({},Ju,a,b)})}),Iu=M(Fu,{Style:Tn(function(a,b){var c=N({},Ku,a,b);if(c){var d="true"===a.getAttribute("isDefault");return c.isDefault=d,c}}),Format:Tn(T),TileMatrixSetLink:Tn(function(a,b){return N({},Lu,a,b)}),Dimension:Tn(function(a,b){return N({},Mu,a,b)}),ResourceURL:Tn(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};return b&&(d.format=b),c&&(d.template=c),a&&(d.resourceType=a),d})},M(Gu,{Title:K(T),Abstract:K(T),WGS84BoundingBox:K(function(a,b){var c=N([],Nu,a,b);return 2!=c.length?void 0:Gb(c)}),Identifier:K(T)})),Ku=M(Fu,{LegendURL:Tn(function(a){var b={};return b.format=a.getAttribute("format"),b.href=Rs(a),b})},M(Gu,{Title:K(T),Identifier:K(T)})),Lu=M(Fu,{TileMatrixSet:K(T),TileMatrixSetLimits:K(function(a,b){return N([],Ou,a,b)})}),Ou=M(Fu,{TileMatrixLimits:Rn(function(a,b){return N({},Pu,a,b)})}),Pu=M(Fu,{TileMatrix:K(T),MinTileRow:K(np),MaxTileRow:K(np),MinTileCol:K(np),MaxTileCol:K(np)}),Mu=M(Fu,{Default:K(T),Value:Tn(T)},M(Gu,{Identifier:K(T)})),Nu=M(Gu,{LowerCorner:Rn(Eu),UpperCorner:Rn(Eu)}),Ju=M(Fu,{WellKnownScaleSet:K(T),TileMatrix:Tn(function(a,b){return N({},Qu,a,b)})},M(Gu,{SupportedCRS:K(T),Identifier:K(T)})),Qu=M(Fu,{TopLeftCorner:K(Eu),ScaleDenominator:K(lp),TileWidth:K(np),TileHeight:K(np),MatrixWidth:K(np),MatrixHeight:K(np)},M(Gu,{Identifier:K(T)}));v(Ru,Sa),k=Ru.prototype,k.oa=function(){this.ne(!1),Sa.prototype.oa.call(this)},k.Ql=function(){var a=this.lh();a&&(this.c=yc(zc("EPSG:4326"),a),this.a&&this.set(Uu,this.c(this.a)))},k.Rl=function(){if(qf){var a=this.mh();a&&void 0===this.f?this.f=navigator.geolocation.watchPosition(this.uo.bind(this),this.vo.bind(this),this.Wg()):a||void 0===this.f||(navigator.geolocation.clearWatch(this.f),this.f=void 0)}},k.uo=function(a){a=a.coords,this.set(Vu,a.accuracy),this.set(Wu,null===a.altitude?void 0:a.altitude),this.set(Xu,null===a.altitudeAccuracy?void 0:a.altitudeAccuracy),this.set(Yu,null===a.heading?void 0:na(a.heading)),this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.c(this.a);this.set(Uu,b),this.set(Zu,null===a.speed?void 0:a.speed),a=Bd(Eh,this.a,a.accuracy),a.sc(this.c),this.set($u,a),this.s()},k.vo=function(a){a.type="error",this.ne(!1),this.b(a)},k.Tj=function(){return this.get(Vu)},k.Uj=function(){return this.get($u)||null},k.Wj=function(){return this.get(Wu)},k.Xj=function(){return this.get(Xu)},k.Ol=function(){return this.get(Yu)},k.Pl=function(){return this.get(Uu)},k.lh=function(){return this.get(Su)},k.Bk=function(){return this.get(Zu)},k.mh=function(){return this.get(Tu)},k.Wg=function(){return this.get(av)},k.nh=function(a){this.set(Su,a)},k.ne=function(a){this.set(Tu,a)},k.Ci=function(a){this.set(av,a)};var Vu="accuracy",$u="accuracyGeometry",Wu="altitude",Xu="altitudeAccuracy",Yu="heading",Uu="position",Su="projection",Zu="speed",Tu="tracking",av="trackingOptions";v(bv,Uc),k=bv.prototype,k.clone=function(){var a=new bv(null);return Xc(a,this.ka,this.B.slice()),a.s(),a},k.Ab=function(a,b,c,d){var e=this.B;a-=e[0];var f=b-e[1];if(b=a*a+f*f,d>b){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.qe()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];return c.length=this.a,b}return d},k.Hc=function(a,b){var c=this.B,d=a-c[0],c=b-c[1];return d*d+c*c<=cv(this)},k.Fd=function(){return this.B.slice(0,this.a)},k.Yd=function(a){var b=this.B,c=b[this.a]-b[0];return Rb(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},k.qe=function(){return Math.sqrt(cv(this))},k.Y=function(){return"Circle"},k.Ta=function(a){var b=this.G();return jc(a,b)?(b=this.Fd(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:Xb(a,this.mb,this)):!1},k.nm=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.B[b]-this.B[0]);var d;for(d=1;b>d;++d)c[b+d]=a[d];Xc(this,this.ka,c),this.s()},k.dg=function(a,b,c){if(a){Yc(this,c,a,0),this.B||(this.B=[]),c=this.B,a=fd(c,a),c[a++]=c[0]+b;var d;for(b=1,d=this.a;d>b;++b)c[a++]=c[b];c.length=a}else Xc(this,"XY",null);this.s()},k.om=function(a){this.B[this.a]=this.B[0]+a,this.s()};var hv=new wi({color:"rgba(0,0,0,0.2)"}),iv=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];k=gv.prototype,k.Sl=function(){return this.l},k.qk=function(){return this.b},k.xk=function(){return this.a},k.ah=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;if(a=c.pixelRatio,a=g*g/(4*a*a),!this.c||!Mc(this.c,f)){var h=zc("EPSG:4326"),l=f.G(),m=f.i,p=Qc(m,h,f),n=m[2],q=m[1],r=m[0],u=p[3],w=p[2],y=p[1],p=p[0];this.i=m[3],this.g=n,this.j=q,this.f=r,this.u=u,this.A=w,this.C=y,this.D=p,this.o=Nc(h,f),this.H=Nc(f,h),this.v=this.H(gc(l)),this.c=f}for(f.a&&(f=f.G(),h=dc(f),c=c.focus[0],c<f[0]||c>f[2])&&(c=h*Math.ceil((f[0]-c)/h),d=[d[0]+c,d[1],d[2]+c,d[3]]),c=this.v[0],f=this.v[1],h=-1,m=Math.pow(this.va*g,2),n=[],q=[],g=0,l=iv.length;l>g&&(r=iv[g]/2,n[0]=c-r,n[1]=f-r,q[0]=c+r,q[1]=f+r,this.o(n,n),this.o(q,q),r=Math.pow(q[0]-n[0],2)+Math.pow(q[1]-n[1],2),!(m>=r));++g)h=iv[g];if(g=h,-1==g)this.b.length=this.a.length=0;else{for(c=this.H(e),e=c[0],c=c[1],f=this.L,h=[Math.max(d[0],this.D),Math.max(d[1],this.C),Math.min(d[2],this.A),Math.min(d[3],this.u)],h=Qc(h,this.c,"EPSG:4326"),m=h[3],q=h[1],e=Math.floor(e/g)*g,n=ia(e,this.f,this.g),l=jv(this,n,q,m,a,d,0),h=0;n!=this.f&&h++<f;)n=Math.max(n-g,this.f),l=jv(this,n,q,m,a,d,l);for(n=ia(e,this.f,this.g),h=0;n!=this.g&&h++<f;)n=Math.min(n+g,this.g),l=jv(this,n,q,m,a,d,l);for(this.b.length=l,c=Math.floor(c/g)*g,e=ia(c,this.j,this.i),l=kv(this,e,a,d,0),h=0;e!=this.j&&h++<f;)e=Math.max(e-g,this.j),l=kv(this,e,a,d,l);for(e=ia(c,this.j,this.i),h=0;e!=this.i&&h++<f;)e=Math.min(e+g,this.i),l=kv(this,e,a,d,l);this.a.length=l}for(b.Ma(null,this.ra),a=0,e=this.b.length;e>a;++a)g=this.b[a],b.Pb(g,null);for(a=0,e=this.a.length;e>a;++a)g=this.a[a],b.Pb(g,null)},k.setMap=function(a){this.l&&(this.l.K("postcompose",this.ah,this),this.l.render()),a&&(a.J("postcompose",this.ah,this),a.render()),this.l=a},v(lv,ag),k=lv.prototype,k.oa=function(){1==this.state&&mv(this),this.a&&Ha(this.a),this.state=5,this.s(),ag.prototype.oa.call(this)},k.ub=function(){return this.g},k.bb=function(){return this.l},k.Tl=function(){this.state=3,mv(this),this.s()},k.Ul=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?cg:4,mv(this),this.s()},k.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.s(),this.i=[Da(this.g,"error",this.Tl,this),Da(this.g,"load",this.Ul,this)],this.o(this,this.l))},v(nv,lg),nv.prototype.j=function(a,b){var c=b.target.result,d=this.v,e=this.l;e||(e=d.aa().o);var g,h,d=this.i,f=[];for(g=0,h=d.length;h>g;++g){var l=new d[g],m={featureProjection:e};try{f=l.La(c,m)}catch(p){f=null}if(f&&0<f.length)break}this.b(new qv(rv,a,f,e))},nv.prototype.setMap=function(a){this.a&&(this.a.forEach(ya),this.a=null),lg.prototype.setMap.call(this,a),a&&(a=this.target?this.target:a.f,this.a=[B(a,"drop",ov,this),B(a,"dragenter",pv,this),B(a,"dragover",pv,this),B(a,"drop",pv,this)])};var rv="addfeatures";v(qv,Ia),v(sv,Bg),v(U,hm),k=U.prototype,k.gb=function(a){var b=x(a).toString();if(zv(this,b,a)){Av(this,b,a);var c=a.V();c?(b=c.G(),this.a&&this.a.Da(b,a)):this.i[b]=a,this.b(new Bv(Cv,a))}this.s()},k.Tc=function(a){xv(this,a),this.s()},k.clear=function(a){if(a){for(var b in this.v)this.v[b].forEach(ya);this.c||(this.v={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.$f,this);for(var c in this.i)this.$f(this.i[c])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.sa.clear(),this.i={},this.b(new Bv(Ev)),this.s()},k.Fg=function(a,b){return this.a?this.a.forEach(a,b):this.c?this.c.forEach(a,b):void 0},k.Qb=function(a,b,c){return this.a?pl(this.a,a,b,c):this.c?this.c.forEach(b,c):void 0},k.Gg=function(a,b,c){return this.Qb(a,function(d){return d.V().Ta(a)&&(d=b.call(c,d))?d:void 0})},k.Og=function(){return this.c},k.we=function(){var a;return this.c?a=this.c.a:this.a&&(a=ll(this.a),wa(this.i)||bb(a,va(this.i))),a},k.Ng=function(a){var b=[];return Fv(this,a,function(a){b.push(a)}),b},k.nf=function(a){return ml(this.a,a)},k.Jg=function(a,b){var c=a[0],d=a[1],e=null,f=[0/0,0/0],g=1/0,h=[-(1/0),-(1/0),1/0,1/0],l=b?b:mc;return pl(this.a,h,function(a){if(l(a)){var b=a.V(),n=g;g=b.Ab(c,d,f,g),n>g&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}}),e},k.G=function(){return this.a.G()},k.Mg=function(a){return a=this.l[a.toString()],void 0!==a?a:null},k.Kh=function(){return this.P},k.Lh=function(){return this.Z},k.Mh=function(a){a=a.target;var b=x(a).toString(),c=a.V();c?(c=c.G(),b in this.i?(delete this.i[b],this.a&&this.a.Da(c,a)):this.a&&kl(this.a,c,a)):b in this.i||(this.a&&this.a.remove(a),this.i[b]=a),c=a.f,void 0!==c?(c=c.toString(),b in this.o?(delete this.o[b],this.l[c]=a):this.l[c]!==a&&(Gv(this,a),this.l[c]=a)):b in this.o||(Gv(this,a),this.o[b]=a),this.s(),this.b(new Bv(Hv,a))},k.Ed=function(a,b,c){var d=this.sa;a=this.fc(a,b);var e,f;for(e=0,f=a.length;f>e;++e){var g=a[e];pl(d,g,function(a){return Ob(a.extent,g)})||(this.U.call(this,g,b,c),d.Da(g,{extent:g.slice()}))}},k.rb=function(a){var b=x(a).toString();b in this.i?delete this.i[b]:this.a&&this.a.remove(a),this.$f(a),this.s()},k.$f=function(a){var b=x(a).toString();this.v[b].forEach(ya),delete this.v[b];var c=a.f;void 0!==c?delete this.l[c.toString()]:delete this.o[b],this.b(new Bv(Dv,a))},v(Bv,Ia);var Cv="addfeature",Hv="changefeature",Ev="clear",Dv="removefeature";v(Iv,Bg),k=Iv.prototype,k.setMap=function(a){Bg.prototype.setMap.call(this,a),this.Li()},k.Vo=function(){var b,c,a=this.j.V();this.i===Pv?(b=this.a,b.splice(-2,1),this.D(b,a)):this.i===Nv&&(b=this.a[0],b.splice(-2,1),c=this.C.V(),c.qa(b),this.D(this.a,a)),0===b.length&&(this.o=null),Wv(this)},k.zd=function(){var a=Zv(this),b=this.a,c=a.V();this.i===Pv?(b.pop(),this.D(b,c)):this.i===Nv&&(b[0].pop(),this.D(b,c),b=c.$()),"MultiPoint"===this.U?a.Pa(new R([b])):"MultiLineString"===this.U?a.Pa(new Q([b])):"MultiPolygon"===this.U&&a.Pa(new S([b])),this.b(new Xv($v,a)),this.xa&&this.xa.push(a),this.Ua&&this.Ua.gb(a)},k.vm=function(a){var b=a.V();this.j=a,this.a=b.$(),a=this.a[this.a.length-1],this.o=a.slice(),this.a.push(a.slice()),Wv(this),this.b(new Xv(Yv,this.j))},k.Qc=nc,k.Li=function(){var a=this.v,b=this.f();a&&b||Zv(this),this.sa.setMap(b?a:null)};var Ov="Point",Pv="LineString",Nv="Polygon",Uv="Circle";v(Xv,Ia);var Yv="drawstart",$v="drawend";v(aw,Bg),aw.prototype.setMap=function(a){this.u.setMap(a),this.L.setMap(a),Bg.prototype.setMap.call(this,a)},aw.prototype.G=function(){return this.j},aw.prototype.i=function(a){this.j=a?a:null;var b=this.o;b?b.Pa(a?Cd(a):void 0):(this.o=b=new J(a?Cd(a):{}),this.u.la().gb(b)),this.b(new lw(this.j))},v(lw,Ia);var mw="extentchanged";v(nw,Bg),k=nw.prototype,k.Gf=function(a){var b=a.V();b&&b.Y()in this.U&&this.U[b.Y()].call(this,a,b),(b=this.v)&&b.a&&tw(this,this.sa,b),B(a,"change",this.th,this)},k.Ea=function(a){this.a&&!a&&(this.D.la().rb(this.a),this.a=null),Bg.prototype.Ea.call(this,a)},k.setMap=function(a){this.D.setMap(a),Bg.prototype.setMap.call(this,a)},k.wm=function(a){this.Gf(a.element)},k.th=function(a){this.o||(a=a.target,xw(this,a),this.Gf(a))},k.xm=function(a){xw(this,a.element)},k.Cm=function(a,b){var c=b.$(),c={feature:a,geometry:b,ta:[c,c]};this.i.Da(b.G(),c)},k.Am=function(a,b){var d,e,f,c=b.$();for(e=0,f=c.length;f>e;++e)d=c[e],d={feature:a,geometry:b,depth:[e],index:e,ta:[d,d]},this.i.Da(b.G(),d)},k.uh=function(a,b){var d,e,f,g,c=b.$();for(d=0,e=c.length-1;e>d;++d)f=c.slice(d,d+2),g={feature:a,geometry:b,index:d,ta:f},this.i.Da(Gb(f),g)},k.zm=function(a,b){var d,e,f,g,h,l,m,c=b.$();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,ta:l},this.i.Da(Gb(l),m)},k.Dm=function(a,b){var d,e,f,g,h,l,m,c=b.$();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,ta:l},this.i.Da(Gb(l),m)},k.Bm=function(a,b){var d,e,f,g,h,l,m,p,n,q,c=b.$();for(l=0,m=c.length;m>l;++l)for(p=c[l],g=0,h=p.length;h>g;++g)for(d=p[g],e=0,f=d.length-1;f>e;++e)n=d.slice(e,e+2),q={feature:a,geometry:b,depth:[g,l],index:e,ta:n},this.i.Da(Gb(n),q)},k.ym=function(a,b){var c,d=b.f;for(c=0;c<d.length;++c)this.U[d[c].Y()].call(this,a,d[c])},k.pl=function(a,b){for(var h,c=a.ta,d=a.feature,e=a.geometry,f=a.depth,g=a.index;b.length<e.pa();)b.push(0);switch(e.Y()){case"MultiLineString":h=e.$(),h[f[0]].splice(g+1,0,b);break;case"Polygon":h=e.$(),h[f[0]].splice(g+1,0,b);break;case"MultiPolygon":h=e.$(),h[f[1]][f[0]].splice(g+1,0,b);break;case"LineString":h=e.$(),h.splice(g+1,0,b);break;default:return}this.o=!0,e.qa(h),this.o=!1,h=this.i,h.remove(a),Cw(this,e,g,f,1);var l={ta:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Da(Gb(l.ta),l),this.j.push([l,1]),c={ta:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1},h.Da(Gb(c.ta),c),this.j.push([c,0]),this.L=!0},k.ki=function(){if(this.P&&"pointerdrag"!=this.P.type){var a=this.P;uw(this,a);var d,e,f,g,h,l,m,p,n,b=this.j,c={};for(h=b.length-1;h>=0;--h)g=b[h],p=g[0],n=x(p.feature),p.depth&&(n+="-"+p.depth.join("-")),n in c||(c[n]={}),0===g[1]?(c[n].right=p,c[n].index=p.index):1==g[1]&&(c[n].left=p,c[n].index=p.index+1);for(n in c){switch(m=c[n].right,h=c[n].left,g=c[n].index,l=g-1,p=void 0!==h?h:m,0>l&&(l=0),b=p.geometry,e=f=b.$(),d=!1,b.Y()){case"MultiLineString":2<f[p.depth[0]].length&&(f[p.depth[0]].splice(g,1),d=!0);break;case"LineString":2<f.length&&(f.splice(g,1),d=!0);break;case"MultiPolygon":e=e[p.depth[1]];case"Polygon":e=e[p.depth[0]],4<e.length&&(g==e.length-1&&(g=0),e.splice(g,1),d=!0,0===g&&(e.pop(),e.push(e[0]),l=e.length-1))}d&&(d=b,this.o=!0,d.qa(f),this.o=!1,f=[],void 0!==h&&(this.i.remove(h),f.push(h.ta[0])),void 0!==m&&(this.i.remove(m),f.push(m.ta[1])),void 0!==h&&void 0!==m&&(h={depth:p.depth,feature:p.feature,geometry:p.geometry,index:l,ta:f},this.i.Da(Gb(h.ta),h)),Cw(this,b,g,p.depth,-1),this.a&&(this.D.la().rb(this.a),this.a=null))}return this.b(new vw(Bw,this.u,a)),this.C=!1,!0}return!1},v(vw,Ia);var ww="modifystart",Bw="modifyend";v(Dw,lg),k=Dw.prototype,k.Fm=function(){return this.i.la().c},k.Gm=function(){return this.j},k.Hm=function(a){return a=x(a),this.a[a]},k.Jm=function(a){this.j=a},k.setMap=function(a){var b=this.v,c=this.i.la().c;b&&c.forEach(b.Ji,b),lg.prototype.setMap.call(this,a),this.i.setMap(a),a&&c.forEach(a.Di,a)},k.Em=function(a){var b=this.v;b&&b.Di(a.element)},k.Im=function(a){var b=this.v;b&&b.Ji(a.element)},v(Gw,Ia);var Hw="select";v(Iw,Bg),k=Iw.prototype,k.gb=function(a,b){var c=void 0!==b?b:!0,d=x(a),e=a.V();if(e){var f=this.fa[e.Y()];f&&(this.U[d]=e.G(Hb()),f.call(this,a,e),c&&(this.D[d]=B(e,"change",this.Pk.bind(this,a),this)))}c&&(this.C[d]=B(a,Ua(a.a),this.Km,this))},k.Qj=function(a){this.gb(a)},k.Rj=function(a){this.rb(a)},k.vh=function(a){var b;a instanceof Bv?b=a.feature:a instanceof te&&(b=a.element),this.gb(b)},k.wh=function(a){var b;a instanceof Bv?b=a.feature:a instanceof te&&(b=a.element),this.rb(b)},k.Km=function(a){a=a.target,this.rb(a,!0),this.gb(a,!0)},k.Pk=function(a){if(this.A){var b=x(a);b in this.u||(this.u[b]=a)}else this.Ki(a)},k.rb=function(a,b){var c=void 0!==b?b:!0,d=x(a),e=this.U[d];if(e){var f=this.a,g=[];for(pl(f,e,function(b){a===b.feature&&g.push(b)}),e=g.length-1;e>=0;--e)f.remove(g[e]);c&&(Qa(this.D[d]),delete this.D[d])}c&&(Qa(this.C[d]),delete this.C[d])},k.setMap=function(a){var d,b=this.v,c=this.na;this.j?d=this.j:this.o&&(d=this.o.we()),b&&(c.forEach(Qa),c.length=0,d.forEach(this.Rj,this)),Bg.prototype.setMap.call(this,a),a&&(this.j?c.push(B(this.j,ue,this.vh,this),B(this.j,ve,this.wh,this)):this.o&&c.push(B(this.o,Cv,this.vh,this),B(this.o,Dv,this.wh,this)),d.forEach(this.Qj,this))},k.Qc=nc,k.Ki=function(a){this.rb(a,!1),this.gb(a,!1)},k.Lm=function(a,b){var c,d=b.f;for(c=0;c<d.length;++c)this.fa[d[c].Y()].call(this,a,d[c])},k.xh=function(a,b){var d,e,f,g,c=b.$();for(d=0,e=c.length-1;e>d;++d)f=c.slice(d,d+2),g={feature:a,ta:f},this.a.Da(Gb(f),g)},k.Mm=function(a,b){var d,e,f,g,h,l,m,c=b.$();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,ta:l},this.a.Da(Gb(l),m)},k.Nm=function(a,b){var d,e,f,c=b.$();for(e=0,f=c.length;f>e;++e)d=c[e],d={feature:a,ta:[d,d]},this.a.Da(b.G(),d)},k.Om=function(a,b){var d,e,f,g,h,l,m,p,n,q,c=b.$();for(l=0,m=c.length;m>l;++l)for(p=c[l],g=0,h=p.length;h>g;++g)for(d=p[g],e=0,f=d.length-1;f>e;++e)n=d.slice(e,e+2),q={feature:a,ta:n},this.a.Da(Gb(n),q)},k.Pm=function(a,b){var c=b.$(),c={feature:a,ta:[c,c]};this.a.Da(b.G(),c)},k.Qm=function(a,b){var d,e,f,g,h,l,m,c=b.$();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,ta:l},this.a.Da(Gb(l),m)},v(Mw,Bg),Mw.prototype.D=function(){return this.u},Mw.prototype.L=function(a){this.u=a},v(Sw,Ia);var Tw="translatestart",Vw="translating",Uw="translateend";v(V,G);var Xw=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype,k.Ig=function(){return this.get(Yw)},k.Pg=function(){return this.get(Ww)},k.zh=function(){return this.get(Zw)},k.Qk=function(){for(var a=this.Pg(),b=De(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;f>e;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c,b.fillRect(0,0,1,256),this.f=b.getImageData(0,0,1,256).data},k.xf=function(){var a=this.zh(),b=this.Ig(),c=a+b+1,d=2*c,d=De(d,d);d.shadowOffsetX=d.shadowOffsetY=this.U,d.shadowBlur=b,d.shadowColor="#000",d.beginPath(),b=c-this.U,d.arc(b,b,a,0,2*Math.PI,!0),d.fill(),this.P=d.canvas.toDataURL(),this.c=Array(256),this.s()},k.gl=function(a){a=a.context;var d,e,f,b=a.canvas,b=a.getImageData(0,0,b.width,b.height),c=b.data;for(d=0,e=c.length;e>d;d+=4)(f=4*c[d+3])&&(c[d]=this.f[f],c[d+1]=this.f[f+1],c[d+2]=this.f[f+2]);a.putImageData(b,0,0)},k.ni=function(a){this.set(Yw,a)},k.ui=function(a){this.set(Ww,a)},k.Ah=function(a){this.set(Zw,a)};var Yw="blur",Ww="gradient",Zw="radius";v(ax,ag),ax.prototype.oa=function(){1==this.state&&(this.kd.forEach(ya),this.kd=null),ag.prototype.oa.call(this)},ax.prototype.ub=function(){return this.H},ax.prototype.Ld=function(){var a=[];if(this.g.forEach(function(b){b&&b.W()==cg&&a.push({extent:this.f.Na(b.Ca),image:b.ub()})},this),this.g.length=0,0===a.length)this.state=3;else{var b=this.o[0],c=this.l.Za(b),d="number"==typeof c?c:c[0],c="number"==typeof c?c:c[1],b=this.l.Ha(b),e=this.f.Ha(this.i),f=this.l.Na(this.o);this.H=cm(d,c,this.A,e,this.f.G(),b,f,this.v,a,this.u,this.C),this.state=cg}this.s()},ax.prototype.load=function(){if(0==this.state){this.state=1,this.s();var a=0;this.kd=[],this.g.forEach(function(b){var c=b.W();if(0==c||1==c){a++;var d;d=B(b,"change",function(){var c=b.W();(c==cg||3==c||4==c)&&(ya(d),a--,0===a&&(this.kd.forEach(ya),this.kd=null,this.Ld()))},this),this.kd.push(d)}},this),this.g.forEach(function(a){0==a.W()&&a.load()}),0===a&&setTimeout(this.Ld.bind(this),0)}},v(gx,Fm),gx.prototype.Wc=function(a){for(var b,c;hx(this);){b=this.a.Rc,c=b.Ca[0].toString();var d;if((d=c in a)&&(b=b.Ca,d=Ud(a[c],b[1],b[2])),d)break;Ha(this.pop())}},v(ix,hm),k=ix.prototype,k.Ih=function(){return hx(this.a)},k.Wc=function(a,b){var c=this.Cd(a);c&&c.Wc(b)},k.qf=function(){return 0},k.Lb=function(a,b,c){return a+"/"+b+"/"+c},k.tf=function(){return this.sa},k.Va=function(){return this.tileGrid},k.Db=function(a){return this.tileGrid?this.tileGrid:le(a)},k.Cd=function(a){var b=this.f;return b&&!Mc(b,a)?null:this.a},k.jb=function(){return this.xa},k.Dd=function(a,b,c){return c=this.Db(c),b=this.jb(b),a=Zd(c.Za(a),this.l),1==b?a:Yd(a,b,this.l)},k.wa=function(){this.a.clear(),this.s()},k.ig=ea,v(lx,Ia),v(mx,ix),k=mx.prototype,k.ib=function(){return this.tileLoadFunction},k.kb=function(){return this.tileUrlFunction},k.lb=function(){return this.urls},k.Jh=function(a){switch(a=a.target,a.W()){case 1:this.b(new lx("tileloadstart",a));break;case cg:this.b(new lx("tileloadend",a));break;case 3:this.b(new lx("tileloaderror",a))}},k.sb=function(a){this.a.clear(),this.tileLoadFunction=a,this.s()},k.Xa=function(a,b){this.tileUrlFunction=a,"undefined"!=typeof b?jx(this,b):this.s()},k.cb=function(a){var b=this.urls=fx(a);this.Xa(this.zc?this.zc.bind(this):cx(b,this.tileGrid),a)},k.Ya=function(a){this.urls=a;var b=a.join("\n");this.Xa(this.zc?this.zc.bind(this):cx(a,this.tileGrid),b)},k.ig=function(a,b,c){a=this.Lb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(X,mx),k=X.prototype,k.Ih=function(){if(hx(this.a))return!0;for(var a in this.i)if(hx(this.i[a]))return!0;return!1},k.Wc=function(a,b){var c=this.Cd(a);this.a.Wc(this.a==c?b:{});for(var d in this.i){var e=this.i[d];e.Wc(e==c?b:{})}},k.qf=function(a){return this.f&&a&&!Mc(this.f,a)?0:this.rf()},k.rf=function(){return 0},k.tf=function(a){return this.f&&a&&!Mc(this.f,a)?!1:mx.prototype.tf.call(this,a)},k.Db=function(a){var b=this.f;return!this.tileGrid||b&&!Mc(b,a)?(b=x(a).toString(),b in this.v||(this.v[b]=le(a)),this.v[b]):this.tileGrid},k.Cd=function(a){var b=this.f;return!b||Mc(b,a)?this.a:(a=x(a).toString(),a in this.i||(this.i[a]=new gx),this.i[a])},k.Dc=function(a,b,c,d,e){if(this.f&&e&&!Mc(this.f,e)){var f=this.Cd(e);c=[a,b,c];var g;if(a=this.Lb.apply(this,c),f.b.hasOwnProperty(a)&&(g=f.get(a)),b=this.jc,g&&g.key==b)return g;var h=this.f,l=this.Db(h),m=this.Db(e),p=kx(this,c,e);return d=new ax(h,l,e,m,c,p,this.jb(d),this.rf(),function(a,b,c,d){return px(this,a,b,c,d,h)}.bind(this),this.na,this.C),d.key=b,g?(d.a=g,f.replace(a,d)):f.set(a,d),d}return px(this,a,b,c,d,e)},k.Hb=function(a){if(this.C!=a){this.C=a;for(var b in this.i)this.i[b].clear();this.s()}},k.Ib=function(a,b){var c=zc(a);c&&(c=x(c).toString(),c in this.v||(this.v[c]=b))},v(qx,X);var rx=new pe({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});qx.prototype.U=function(){return this.c},qx.prototype.Z=function(){return this.o},qx.prototype.fa=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)jm(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.u?c.zoomMax:this.u;a=me(this.f);var e=oe({extent:a,minZoom:c.zoomMin,maxZoom:d,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/this.jb()});this.tileGrid=e;var f=this.P,g=this.A;if(this.tileUrlFunction=dx(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){return a?($d(a[0],a[1],-a[2]-1,b),a=d,g&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",ae(b))):void 0}})),c.imageryProviders){var h=yc(zc("EPSG:4326"),this.f);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox,a=lc([a[1],a[0],a[3],a[2]],h);var g,l;for(g=b;f>=g;++g)l=g.toString(),b=fe(e,a,g),l in c?c[l].push(b):c[l]=[b]}),new pe({html:b,tileRanges:c})}),a.push(rx),this.ua(a)}this.L=b,jm(this,"ready")}},v(sx,X),v(tx,sx),k=tx.prototype,k.$j=function(){return this.c},k.wp=function(a){ta(this.c,a),ux(this)},k.fp=function(a){this.c=a||{},ux(this)},k.Sk=function(a,b){var c=b.target;if(!c.status||200<=c.status&&300>c.status){var d;try{d=JSON.parse(c.responseText)}catch(e){return void jm(this,"error")}vx(this,d),this.o[a]=d,jm(this,"ready")}else jm(this,"error")},k.Rk=function(){jm(this,"error")},v(Y,U),Y.prototype.Ua=function(){return this.u},Y.prototype.Ed=function(a,b,c){this.u.Ed(a,b,c),b!==this.C&&(this.clear(),this.C=b,wx(this),this.Tc(this.A))},Y.prototype.Ob=function(a){this.fa=a,this.Ja()},Y.prototype.Ja=function(){this.clear(),wx(this),this.Tc(this.A),this.s()},v(zx,km),k=zx.prototype,k.Xm=function(){return this.u},k.Xc=function(a,b,c,d){if(void 0===this.i)return null;b=lm(this,b);var e=this.c;if(e&&this.P==this.g&&e.resolution==b&&e.f==c&&Ob(e.G(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},ta(e,this.u),a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.C){var h=this.C*dc(a)/2,l=this.C*ec(a)/2;a[0]=f-h,a[1]=g-l,a[2]=f+h,a[3]=g+l}var h=b/c,l=Math.ceil(dc(a)/h),m=Math.ceil(ec(a)/h);return a[0]=f-h*l/2,a[2]=f+h*l/2,a[1]=g-h*m/2,a[3]=g+h*m/2,this.v[0]=l,this.v[1]=m,f=a,g=this.v,d=d.hb.split(":").pop(),e.SIZE=g[0]+","+g[1],e.BBOX=f.join(","),e.BBOXSR=d,e.IMAGESR=d,e.DPI=90*c,d=this.i,f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),f==d&&ha(!1,50),e=yx(f,e),this.c=new ii(a,b,c,this.j,e,this.Z,this.l),this.P=this.g,B(this.c,"change",this.o,this),this.c},k.Wm=function(){return this.l},k.Ym=function(){return this.i},k.Zm=function(a){this.c=null,this.l=a,this.s()},k.$m=function(a){a!=this.i&&(this.i=a,this.c=null,this.s())},k.an=function(a){ta(this.u,a),this.c=null,this.s()},v(Ax,km),k=Ax.prototype,k.cn=function(){return this.l},k.Xc=function(a,b,c){b=lm(this,b),c=this.fa?c:1;var d=this.i;if(d&&this.C==this.g&&d.resolution==b&&d.f==c&&Ob(d.G(),a))return d;1!=this.u&&(a=a.slice(),kc(a,this.u));var e=[dc(a)/b*c,ec(a)/b*c];if(void 0!==this.P){var d=this.P,f=gc(a),g=this.na,h=dc(a),l=ec(a),m=e[0],p=e[1],n=.0254/this.v,e={OPERATION:this.xa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.v,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:p*h>m*l?h*g/(m*n):l*g/(p*n),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};ta(e,this.l),d=yx(d,e),d=new ii(a,b,c,this.j,d,this.Z,this.c),B(d,"change",this.o,this)}else d=null;return this.i=d,this.C=this.g,d},k.bn=function(){return this.c},k.en=function(a){ta(this.l,a),this.s()},k.dn=function(a){this.i=null,this.c=a,this.s()},v(Bx,km),Bx.prototype.Xc=function(a){return jc(a,this.c.G())?this.c:null},Bx.prototype.o=function(a){if(this.c.W()==li){var d,e,b=this.c.G(),c=this.c.a();if(this.i?(d=this.i[0],e=this.i[1]):(d=c.width,e=c.height),b=Math.ceil(dc(b)/(ec(b)/e)),b!=d){var b=De(b,e),f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height),this.c.g=f}}km.prototype.o.call(this,a)},v(Cx,km);var Ex=[101,101];k=Cx.prototype,k.ln=function(a,b,c,d){if(void 0!==this.l){var e=hc(a,b,0,Ex),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return ta(f,this.i,d),d=Math.floor((e[3]-a[1])/b),f[this.u?"I":"X"]=Math.floor((a[0]-e[0])/b),f[this.u?"J":"Y"]=d,Fx(this,e,Ex,1,zc(c),f)}},k.nn=function(){return this.i},k.Xc=function(a,b,c,d){if(void 0===this.l)return null;b=lm(this,b),1==c||this.xa&&void 0!==this.fa||(c=1),a=a.slice();var e=(a[0]+a[2])/2,f=(a[1]+a[3])/2,g=b/c,h=dc(a)/g,g=ec(a)/g,l=this.c;if(l&&this.Z==this.g&&l.resolution==b&&l.f==c&&Ob(l.G(),a))return l;if(1!=this.v){var l=this.v*dc(a)/2,m=this.v*ec(a)/2;a[0]=e-l,a[1]=f-m,a[2]=e+l,a[3]=f+m}return e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},ta(e,this.i),this.P[0]=Math.ceil(h*this.v),this.P[1]=Math.ceil(g*this.v),d=Fx(this,a,this.P,c,d,e),this.c=new ii(a,b,c,this.j,d,this.na,this.C),this.Z=this.g,B(this.c,"change",this.o,this),this.c},k.mn=function(){return this.C},k.pn=function(){return this.l},k.qn=function(a){this.c=null,this.C=a,this.s()},k.rn=function(a){a!=this.l&&(this.l=a,this.c=null,this.s())},k.sn=function(a){ta(this.i,a),Dx(this),this.c=null,this.s()},v(Gx,sx);var Hx=new pe({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var a={},b={ma:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ma=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Sp=c()}}(function(){return function d(a,b,g){function h(m,n){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!n&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ma:{}},a[m][0].call(q.ma,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ma,d,a,b,g)}return b[m].ma}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b,f){a=a("./processor"),f.ij=a},{"./processor":2}],2:[function(a,b){function f(a){var b=!0;try{new ImageData(10,10)}catch(d){b=!1}return function(d){var e=d.buffers,f=d.meta,g=d.width,h=d.height,l=e.length,m=e[0].byteLength;if(d.imageOps){for(m=Array(l),d=0;l>d;++d){var ca,O=m,Ja=d;ca=new Uint8ClampedArray(e[d]);var Ma=g,D=h;ca=b?new ImageData(ca,Ma,D):{data:ca,width:Ma,height:D},O[Ja]=ca}g=a(m,f).data}else{for(g=new Uint8ClampedArray(m),h=Array(l),O=Array(l),d=0;l>d;++d)h[d]=new Uint8ClampedArray(e[d]),O[d]=[0,0,0,0];for(e=0;m>e;e+=4){for(d=0;l>d;++d)Ja=h[d],O[d][0]=Ja[e],O[d][1]=Ja[e+1],O[d][2]=Ja[e+2],O[d][3]=Ja[e+3];d=a(O,f),g[e]=d[0],g[e+1]=d[1],g[e+2]=d[2],g[e+3]=d[3]}}return g.buffer}}function g(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+f.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);return d.addEventListener("message",b),d}function h(a,b){var d=f(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function l(a){this.Ze=!!a.nl;var b;b=0===a.threads?0:this.Ze?1:a.threads||1;var d=[];if(b)for(var e=0;b>e;++e)d[e]=g(a,this.sg.bind(this,e));else d[0]=h(a,this.sg.bind(this,0));this.Wd=d,this.qd=[],this.wj=a.yo||1/0,this.Ud=0,this.Sc={},this.$e=null}var m=a("./util").Hl;l.prototype.wo=function(a,b,d){this.uj({Fc:a,hh:b,Vc:d}),this.pg()},l.prototype.uj=function(a){for(this.qd.push(a);this.qd.length>this.wj;)this.qd.shift().Vc(null,null)},l.prototype.pg=function(){if(0===this.Ud&&0<this.qd.length){var a=this.$e=this.qd.shift(),b=a.Fc[0].width,d=a.Fc[0].height,e=a.Fc.map(function(a){return a.data.buffer}),f=this.Wd.length;if(this.Ud=f,1===f)this.Wd[0].postMessage({buffers:e,meta:a.hh,imageOps:this.Ze,width:b,height:d},e);else for(var g=4*Math.ceil(a.Fc[0].data.length/4/f),h=0;f>h;++h){for(var l=h*g,m=[],O=0,Ja=e.length;Ja>O;++O)m.push(e[h].slice(l,l+g));this.Wd[h].postMessage({buffers:m,meta:a.hh,imageOps:this.Ze,width:b,height:d},m)}}},l.prototype.sg=function(a,b){this.Qp||(this.Sc[a]=b.data,--this.Ud,0===this.Ud&&this.xj())},l.prototype.xj=function(){var d,e,a=this.$e,b=this.Wd.length;if(1===b)d=new Uint8ClampedArray(this.Sc[0].buffer),e=this.Sc[0].meta;else{var f=a.Fc[0].data.length;d=new Uint8ClampedArray(f),e=Array(f);for(var f=4*Math.ceil(f/4/b),g=0;b>g;++g){var h=g*f;d.set(new Uint8ClampedArray(this.Sc[g].buffer),h),e[g]=this.Sc[g].meta}}this.$e=null,this.Sc={},
a.Vc(null,m(d,a.Fc[0].width,a.Fc[0].height),e),this.pg()},b.ma=l},{"./util":3}],3:[function(a,b,f){var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.Hl=function(a,b,d){return g?new ImageData(a,b,d):(b=h.createImageData(b,d),b.data.set(a),b)}},{}]},{},[1])(1)}),il=b.ma}(),v(Ix,km),Ix.prototype.u=function(a,b){this.C=new il.ij({operation:a,nl:this.xa===Mx,yo:1,lib:b,threads:this.Ja}),this.s()},Ix.prototype.U=function(a,b,c,d){c=!0;for(var e,f=0,g=this.c.length;g>f;++f)if(e=this.c[f].a.la(),"ready"!==e.W()){c=!1;break}if(!c)return null;if(a=a.slice(),!Nx(this,a,b))return this.l;c=this.i.canvas,e=Math.round(dc(a)/b),f=Math.round(ec(a)/b),(e!==c.width||f!==c.height)&&(c.width=e,c.height=f),e=ta({},this.Z),e.viewState=ta({},e.viewState);var f=gc(a),g=Math.round(dc(a)/b),h=Math.round(ec(a)/b);return e.extent=a,e.focus=gc(a),e.size[0]=g,e.size[1]=h,g=e.viewState,g.center=f,g.projection=d,g.resolution=b,this.l=d=new Xl(a,b,1,this.j,c,this.P.bind(this,e)),this.v={extent:a,resolution:b,bp:this.g},d},Ix.prototype.P=function(a,b){for(var c=this.c.length,d=Array(c),e=0;c>e;++e){var f;f=this.c[e];var g=a,h=a.layerStatesArray[e];if(f.o(g,h)){var l=g.size[0],m=g.size[1];if(Ox){var p=Ox.canvas;p.width!==l||p.height!==m?Ox=De(l,m):Ox.clearRect(0,0,l,m)}else Ox=De(l,m);f.D(g,h,Ox),f=Ox.getImageData(0,0,l,m)}else f=null;if(!f){d=null;break}d[e]=f}d&&(c={},this.b(new Px(Qx,a,c)),this.C.wo(d,c,this.na.bind(this,a,b))),jg(a.tileQueue,16,16)},Ix.prototype.na=function(a,b,c,d,e){c?b(c):d&&(this.b(new Px(Rx,a,e)),Nx(this,a.extent,a.viewState.resolution/a.pixelRatio)||this.i.putImageData(d,0,0),b(null))};var Ox=null;v(Px,Ia);var Qx="beforeoperations",Rx="afteroperations",Jx="pixel",Mx="image";v(Sx,sx);var Vx=[new pe({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Hx],Ux={terrain:{Bb:"jpg",opaque:!0},"terrain-background":{Bb:"jpg",opaque:!0},"terrain-labels":{Bb:"png",opaque:!1},"terrain-lines":{Bb:"png",opaque:!1},"toner-background":{Bb:"png",opaque:!0},toner:{Bb:"png",opaque:!0},"toner-hybrid":{Bb:"png",opaque:!1},"toner-labels":{Bb:"png",opaque:!1},"toner-lines":{Bb:"png",opaque:!1},"toner-lite":{Bb:"png",opaque:!0},watercolor:{Bb:"jpg",opaque:!0}},Tx={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};v(Wx,X),Wx.prototype.u=function(){return this.c},Wx.prototype.jb=function(a){return a},Wx.prototype.zc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Db(c)),!(d.b.length<=a[0])){var e=d.Na(a,this.o),f=Zd(d.Za(a[0]),this.l);1!=b&&(f=Yd(f,b,this.l)),d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},ta(d,this.c);var g=this.urls;return g?(c=c.hb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[oa((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),a=yx(a,d)):a=void 0,a}},Wx.prototype.A=function(a){ta(this.c,a),jx(this,Xx(this))},v(Yx,ix),Yx.prototype.Dc=function(a,b,c){var d=this.Lb(a,b,c);if(this.a.b.hasOwnProperty(d))return this.a.get(d);var e=Zd(this.tileGrid.Za(a));return a=[a,b,c],b=(b=kx(this,a))?kx(this,b).toString():"",e=new Zx(a,e,b),this.a.set(d,e),e},v(Zx,ag),Zx.prototype.ub=function(){if(this.g)return this.g;var a=this.i,b=De(a[0],a[1]);return b.strokeStyle="black",b.strokeRect(.5,.5,a[0]+.5,a[1]+.5),b.fillStyle="black",b.textAlign="center",b.textBaseline="middle",b.font="24px sans-serif",b.fillText(this.f,a[0]/2,a[1]/2),this.g=b.canvas},v($x,X),k=$x.prototype,k.vn=function(a){if(a=a.target,!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.ue()}this.Gh(b)}else this.ue()},k.tn=function(){this.ue()},k.Fk=function(){return this.c},k.Gh=function(a){var d,b=zc("EPSG:4326"),c=this.f;if(void 0!==a.bounds){var e=yc(b,c);d=lc(a.bounds,e)}var f=a.minzoom||0,e=a.maxzoom||22;if(this.tileGrid=c=oe({extent:me(c),maxZoom:e,minZoom:f}),this.tileUrlFunction=cx(a.tiles,c),void 0!==a.attribution&&!this.j){b=void 0!==d?d:b.G(),d={};for(var g;e>=f;++f)g=f.toString(),d[g]=[fe(c,b,f)];this.ua([new pe({html:a.attribution,tileRanges:d})])}this.c=a,jm(this,"ready")},k.ue=function(){jm(this,"error")},v(ay,ix),k=ay.prototype,k.zn=function(a){if(a=a.target,!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.ve()}this.Kf(b)}else this.ve()},k.yn=function(){this.ve()},k.Ck=function(){return this.i},k.Pj=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.fe(a,b),by(this.Dc(b[0],b[1],b[2],1,this.f),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)},k.ve=function(){jm(this,"error")},k.Kf=function(a){var d,b=zc("EPSG:4326"),c=this.f;if(void 0!==a.bounds){var e=yc(b,c);d=lc(a.bounds,e)}var f=a.minzoom||0,e=a.maxzoom||22;this.tileGrid=c=oe({extent:me(c),maxZoom:e,minZoom:f}),this.i=a.template;var g=a.grids;if(g){if(this.o=cx(g,c),void 0!==a.attribution){for(b=void 0!==d?d:b.G(),d={};e>=f;++f)g=f.toString(),d[g]=[fe(c,b,f)];this.ua([new pe({html:a.attribution,tileRanges:d})])}jm(this,"ready")}else jm(this,"error")},k.Dc=function(a,b,c,d,e){var f=this.Lb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],b=kx(this,a,e),d=this.o(b,d,e),d=new cy(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Na(a),this.v,this.c),this.a.set(f,d),d)},k.ig=function(a,b,c){a=this.Lb(a,b,c),this.a.b.hasOwnProperty(a)&&this.a.get(a)},v(cy,ag),k=cy.prototype,k.ub=function(){return null},k.getData=function(a){if(!this.i||!this.l)return null;var b=this.i[Math.floor((1-(a[1]-this.g[1])/(this.g[3]-this.g[1]))*this.i.length)];return"string"!=typeof b?null:(b=b.charCodeAt(Math.floor((a[0]-this.g[0])/(this.g[2]-this.g[0])*b.length)),b>=93&&b--,b>=35&&b--,b-=32,a=null,b in this.l&&(b=this.l[b],a=this.f&&b in this.f?this.f[b]:b),a)},k.bb=function(){return this.o},k.ge=function(){this.state=3,this.s()},k.Hh=function(a){this.i=a.grid,this.l=a.keys,this.f=a.data,this.state=4,this.s()},k.xn=function(a){if(a=a.target,!a.status||200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.ge()}this.Hh(b)}else this.ge()},k.wn=function(){this.ge()},k.load=function(){this.H&&dy(this)},v(ey,X),k=ey.prototype,k.An=function(a,b,c,d){c=zc(c);var e=this.tileGrid;if(e||(e=this.Db(c)),b=e.fe(a,b),!(e.b.length<=b[0])){var f=e.Ha(b[0]),g=e.Na(b,this.Z),e=Zd(e.Za(b[0]),this.l),h=this.u;return 0!==h&&(e=Xd(e,h,this.l),g=Jb(g,f*h,g)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS},ta(h,this.c,d),d=Math.floor((g[3]-a[1])/f),h[this.o?"I":"X"]=Math.floor((a[0]-g[0])/f),h[this.o?"J":"Y"]=d,iy(this,b,e,g,1,c,h)}},k.rf=function(){return this.u},k.Lb=function(a,b,c){return this.P+X.prototype.Lb.call(this,a,b,c)},k.Bn=function(){return this.c},k.jb=function(a){return this.U&&void 0!==this.A?a:1},k.zc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.Db(c)),!(d.b.length<=a[0])){1==b||this.U&&void 0!==this.A||(b=1);var e=d.Ha(a[0]),f=d.Na(a,this.Z),d=Zd(d.Za(a[0]),this.l),g=this.u;return 0!==g&&(d=Xd(d,g,this.l),f=Jb(f,e*g,f)),1!=b&&(d=Yd(d,b,this.l)),e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},ta(e,this.c),iy(this,a,d,f,b,c,e)}},k.Ya=function(a){X.prototype.Ya.call(this,a),fy(this)},k.Cn=function(a){ta(this.c,a),fy(this),gy(this),jx(this,hy(this))},v(jy,ag),k=jy.prototype,k.ub=function(){return-1==this.g.cg?null:this.f.canvas},k.Yl=function(){return this.l},k.bb=function(){return this.o},k.load=function(){0==this.state&&(this.state=1,this.s(),this.H(this,this.o),this.v(null,0/0,null))},k.ho=function(a,b){this.Ff(b),this.ri(a)},k.fo=function(){this.state=3,this.s()},k.ri=function(a){this.i=a,this.state=cg,this.s()},k.Ff=function(a){this.j=a},k.wi=function(a){this.v=a},v(ly,mx),ly.prototype.Dc=function(a,b,c,d,e){var f=this.Lb(a,b,c);return this.a.b.hasOwnProperty(f)?this.a.get(f):(a=[a,b,c],d=(b=kx(this,a,e))?this.tileUrlFunction(b,d,e):void 0,d=new this.tileClass(a,void 0!==d?0:4,void 0!==d?d:"",this.c,this.tileLoadFunction),B(d,"change",this.Jh,this),this.a.set(f,d),d)},ly.prototype.jb=function(a){return void 0==a?mx.prototype.jb.call(this,a):a},ly.prototype.Dd=function(a,b){var c=Zd(this.tileGrid.Za(a));return[Math.round(c[0]*b),Math.round(c[1]*b)]},v(my,be),my.prototype.o=function(){return this.l},v(Z,X),k=Z.prototype,k.bk=function(){return this.c},k.Dn=function(){return this.u},k.En=function(){return this.A},k.pk=function(){return this.o},k.Ak=function(){return this.U},k.Fn=function(){return this.P},k.Hk=function(){return this.Z},k.xp=function(a){ta(this.c,a),jx(this,py(this))};var oy="KVP";v(qy,X),v(ty,lv),ty.prototype.ub=function(){if(this.f)return this.f;var a=lv.prototype.ub.call(this);if(this.state==cg){if(256==a.width&&256==a.height)return this.f=a;var b=De(256,256);return b.drawImage(a,0,0),this.f=b.canvas}return a};var ry="default",sy="truncated";return uy.prototype.get=function(a){return this.f[a]||null},uy.prototype.add=function(a,b,c,d,e){var f,g,h;for(g=0,h=this.a.length;h>g;++g)if(f=this.a[g],f.width>=b+this.b&&f.height>=c+this.b)return h={offsetX:f.x+this.b,offsetY:f.y+this.b,image:this.c},this.f[a]=h,d.call(e,this.g,f.x+this.b,f.y+this.b),a=g,b+=this.b,d=c+this.b,f.width-b>f.height-d?(c={x:f.x+b,y:f.y,width:f.width-b,height:f.height},b={x:f.x,y:f.y+d,width:b,height:f.height-d},vy(this,a,c,b)):(c={x:f.x+b,y:f.y,width:f.width-b,height:d},b={x:f.x,y:f.y+d,width:f.width,height:f.height-d},vy(this,a,c,b)),h;return null},wy.prototype.add=function(a,b,c,d,e,f){return b+this.b>this.g||c+this.b>this.g?null:(d=xy(this,!1,a,b,c,d,f))?(a=xy(this,!0,a,b,c,void 0!==e?e:ea,f),{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,yf:a.image}):null},t("ol.animation.bounce",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Fb;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[Kd]+=1,!0;if(g.time<c+d){var h=e((g.time-c)/d),l=b-g.viewState.resolution;return g.animate=!0,g.viewState.resolution+=h*l,g.viewHints[Kd]+=1,!0}return!1}}),t("ol.animation.pan",function(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],f=void 0!==a.duration?a.duration:1e3,g=a.easing?a.easing:Db;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[Kd]+=1,!0;if(b.time<c+f){var m=1-g((b.time-c)/f),p=d-b.viewState.center[0],n=e-b.viewState.center[1];return b.animate=!0,b.viewState.center[0]+=m*p,b.viewState.center[1]+=m*n,b.viewHints[Kd]+=1,!0}return!1}}),t("ol.animation.rotate",function(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Db,f=a.anchor?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[Kd]+=1,!0;if(h.time<c+d){var l=1-e((h.time-c)/d),l=(b-h.viewState.rotation)*l;if(h.animate=!0,h.viewState.rotation+=l,f){var m=h.viewState.center;m[0]-=f[0],m[1]-=f[1],wb(m,l),rb(m,f)}return h.viewHints[Kd]+=1,!0}return!1}}),t("ol.animation.zoom",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:Db;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[Kd]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.viewState.resolution;return g.animate=!0,g.viewState.resolution+=h*l,g.viewHints[Kd]+=1,!0}return!1}}),ga.prototype.code=ga.prototype.code,t("ol.Attribution",pe),pe.prototype.getHTML=pe.prototype.g,t("ol.Collection",qe),qe.prototype.clear=qe.prototype.clear,qe.prototype.extend=qe.prototype.Bf,qe.prototype.forEach=qe.prototype.forEach,qe.prototype.getArray=qe.prototype.Il,qe.prototype.item=qe.prototype.item,qe.prototype.getLength=qe.prototype.Ub,qe.prototype.insertAt=qe.prototype.ke,qe.prototype.pop=qe.prototype.pop,qe.prototype.push=qe.prototype.push,qe.prototype.remove=qe.prototype.remove,qe.prototype.removeAt=qe.prototype.Zf,qe.prototype.setAt=qe.prototype.ep,te.prototype.element=te.prototype.element,t("ol.color.asArray",ye),t("ol.color.asString",Ae),t("ol.colorlike.asColorLike",Ce),t("ol.coordinate.add",rb),t("ol.coordinate.createStringXY",function(a){return function(b){return Ab(b,a)}}),t("ol.coordinate.format",ub),t("ol.coordinate.rotate",wb),t("ol.coordinate.toStringHDMS",function(a,b){return a?tb(a[1],"NS",b)+" "+tb(a[0],"EW",b):""}),t("ol.coordinate.toStringXY",Ab),t("ol.DeviceOrientation",Cn),Cn.prototype.getAlpha=Cn.prototype.Vj,Cn.prototype.getBeta=Cn.prototype.Yj,Cn.prototype.getGamma=Cn.prototype.ek,Cn.prototype.getHeading=Cn.prototype.Jl,Cn.prototype.getTracking=Cn.prototype.kh,Cn.prototype.setTracking=Cn.prototype.Cf,t("ol.easing.easeIn",Bb),t("ol.easing.easeOut",Cb),t("ol.easing.inAndOut",Db),t("ol.easing.linear",Eb),t("ol.easing.upAndDown",Fb),t("ol.Feature",J),J.prototype.clone=J.prototype.clone,J.prototype.getGeometry=J.prototype.V,J.prototype.getId=J.prototype.Ll,J.prototype.getGeometryName=J.prototype.gk,J.prototype.getStyle=J.prototype.Ml,J.prototype.getStyleFunction=J.prototype.Gc,J.prototype.setGeometry=J.prototype.Pa,J.prototype.setStyle=J.prototype.Df,J.prototype.setId=J.prototype.cc,J.prototype.setGeometryName=J.prototype.Nc,t("ol.featureloader.xhr",bo),t("ol.Geolocation",Ru),Ru.prototype.getAccuracy=Ru.prototype.Tj,Ru.prototype.getAccuracyGeometry=Ru.prototype.Uj,Ru.prototype.getAltitude=Ru.prototype.Wj,Ru.prototype.getAltitudeAccuracy=Ru.prototype.Xj,Ru.prototype.getHeading=Ru.prototype.Ol,Ru.prototype.getPosition=Ru.prototype.Pl,Ru.prototype.getProjection=Ru.prototype.lh,Ru.prototype.getSpeed=Ru.prototype.Bk,Ru.prototype.getTracking=Ru.prototype.mh,Ru.prototype.getTrackingOptions=Ru.prototype.Wg,Ru.prototype.setProjection=Ru.prototype.nh,Ru.prototype.setTracking=Ru.prototype.ne,Ru.prototype.setTrackingOptions=Ru.prototype.Ci,t("ol.Graticule",gv),gv.prototype.getMap=gv.prototype.Sl,gv.prototype.getMeridians=gv.prototype.qk,gv.prototype.getParallels=gv.prototype.xk,gv.prototype.setMap=gv.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",mf),t("ol.has.CANVAS",of),t("ol.has.DEVICE_ORIENTATION",pf),t("ol.has.GEOLOCATION",qf),t("ol.has.TOUCH",rf),t("ol.has.WEBGL",ff),ii.prototype.getImage=ii.prototype.a,ii.prototype.load=ii.prototype.load,lv.prototype.getImage=lv.prototype.ub,lv.prototype.load=lv.prototype.load,t("ol.inherits",v),t("ol.Kinetic",kg),t("ol.loadingstrategy.all",wv),t("ol.loadingstrategy.bbox",function(a){return[a]}),t("ol.loadingstrategy.tile",function(a){return function(b,c){var d=a.Ec(c),e=fe(a,b,d),f=[],d=[d,0,0];for(d[1]=e.ea;d[1]<=e.ca;++d[1])for(d[2]=e.ga;d[2]<=e.ja;++d[2])f.push(a.Na(d));return f}}),t("ol.Map",I),I.prototype.addControl=I.prototype.Bj,I.prototype.addInteraction=I.prototype.Cj,I.prototype.addLayer=I.prototype.ug,I.prototype.addOverlay=I.prototype.vg,I.prototype.beforeRender=I.prototype.Ij,I.prototype.forEachFeatureAtPixel=I.prototype.ae,I.prototype.forEachLayerAtPixel=I.prototype.Wl,I.prototype.hasFeatureAtPixel=I.prototype.ml,I.prototype.getEventCoordinate=I.prototype.ck,I.prototype.getEventPixel=I.prototype.ce,I.prototype.getTarget=I.prototype.vf,I.prototype.getTargetElement=I.prototype.Cc,I.prototype.getCoordinateFromPixel=I.prototype.Sa,I.prototype.getControls=I.prototype.ak,I.prototype.getOverlays=I.prototype.vk,I.prototype.getOverlayById=I.prototype.uk,I.prototype.getInteractions=I.prototype.hk,I.prototype.getLayerGroup=I.prototype.Bc,I.prototype.getLayers=I.prototype.oh,I.prototype.getPixelFromCoordinate=I.prototype.Ga,I.prototype.getSize=I.prototype.nb,I.prototype.getView=I.prototype.aa,I.prototype.getViewport=I.prototype.Ik,I.prototype.renderSync=I.prototype.$o,I.prototype.render=I.prototype.render,I.prototype.removeControl=I.prototype.To,I.prototype.removeInteraction=I.prototype.Uo,I.prototype.removeLayer=I.prototype.Wo,I.prototype.removeOverlay=I.prototype.Xo,I.prototype.setLayerGroup=I.prototype.vi,I.prototype.setSize=I.prototype.eg,I.prototype.setTarget=I.prototype.ph,I.prototype.setView=I.prototype.mp,I.prototype.updateSize=I.prototype.ld,$e.prototype.originalEvent=$e.prototype.originalEvent,$e.prototype.pixel=$e.prototype.pixel,$e.prototype.coordinate=$e.prototype.coordinate,$e.prototype.dragging=$e.prototype.dragging,Ge.prototype.map=Ge.prototype.map,Ge.prototype.frameState=Ge.prototype.frameState,t("ol.Object",Sa),Sa.prototype.get=Sa.prototype.get,Sa.prototype.getKeys=Sa.prototype.S,Sa.prototype.getProperties=Sa.prototype.R,Sa.prototype.set=Sa.prototype.set,Sa.prototype.setProperties=Sa.prototype.I,Sa.prototype.unset=Sa.prototype.T,Wa.prototype.key=Wa.prototype.key,Wa.prototype.oldValue=Wa.prototype.oldValue,t("ol.Observable",Pa),t("ol.Observable.unByKey",Qa),Pa.prototype.changed=Pa.prototype.s,Pa.prototype.dispatchEvent=Pa.prototype.b,Pa.prototype.getRevision=Pa.prototype.M,Pa.prototype.on=Pa.prototype.J,Pa.prototype.once=Pa.prototype.N,Pa.prototype.un=Pa.prototype.K,Pa.prototype.unByKey=Pa.prototype.O,t("ol.Overlay",Pm),Pm.prototype.getElement=Pm.prototype.be,Pm.prototype.getId=Pm.prototype.Xl,Pm.prototype.getMap=Pm.prototype.oe,Pm.prototype.getOffset=Pm.prototype.Tg,Pm.prototype.getPosition=Pm.prototype.qh,Pm.prototype.getPositioning=Pm.prototype.Ug,Pm.prototype.setElement=Pm.prototype.pi,Pm.prototype.setMap=Pm.prototype.setMap,Pm.prototype.setOffset=Pm.prototype.xi,Pm.prototype.setPosition=Pm.prototype.Ef,Pm.prototype.setPositioning=Pm.prototype.Ai,t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{},e=d.pixelRatio||mf;return(d=d.size)&&(c.width=d[0]*e,c.height=d[1]*e,c.style.width=d[0]+"px",c.style.height=d[1]+"px"),c=[0,0,c.width,c.height],d=Wh(Ph(),e,e),new Ji(a,e,c,d,0)}),t("ol.size.toSize",Zd),ag.prototype.getTileCoord=ag.prototype.c,ag.prototype.load=ag.prototype.load,jy.prototype.getFormat=jy.prototype.Yl,jy.prototype.setFeatures=jy.prototype.ri,jy.prototype.setProjection=jy.prototype.Ff,jy.prototype.setLoader=jy.prototype.wi,t("ol.View",Fd),Fd.prototype.animate=Fd.prototype.animate,Fd.prototype.constrainCenter=Fd.prototype.Zd,Fd.prototype.constrainResolution=Fd.prototype.constrainResolution,Fd.prototype.constrainRotation=Fd.prototype.constrainRotation,Fd.prototype.getCenter=Fd.prototype.fb,Fd.prototype.calculateExtent=Fd.prototype.Uc,Fd.prototype.getMaxResolution=Fd.prototype.Zl,Fd.prototype.getMinResolution=Fd.prototype.$l,Fd.prototype.getProjection=Fd.prototype.am,Fd.prototype.getResolution=Fd.prototype.Oa,Fd.prototype.getResolutions=Fd.prototype.bm,Fd.prototype.getRotation=Fd.prototype.Ra,Fd.prototype.getZoom=Fd.prototype.Kk,Fd.prototype.fit=Fd.prototype.lf,Fd.prototype.centerOn=Fd.prototype.Kj,Fd.prototype.rotate=Fd.prototype.rotate,Fd.prototype.setCenter=Fd.prototype.Mb,Fd.prototype.setResolution=Fd.prototype.Oc,Fd.prototype.setRotation=Fd.prototype.pe,Fd.prototype.setZoom=Fd.prototype.pp,t("ol.xml.getAllTextContent",Ln),t("ol.xml.parse",Pn),xk.prototype.getGL=xk.prototype.bo,xk.prototype.useProgram=xk.prototype.Lc,t("ol.tilegrid.createXYZ",oe),t("ol.tilegrid.TileGrid",be),be.prototype.forEachTileCoord=be.prototype.Hg,be.prototype.getMaxZoom=be.prototype.Rg,be.prototype.getMinZoom=be.prototype.Sg,be.prototype.getOrigin=be.prototype.Kc,be.prototype.getResolution=be.prototype.Ha,be.prototype.getResolutions=be.prototype.Wh,be.prototype.getTileCoordExtent=be.prototype.Na,be.prototype.getTileCoordForCoordAndResolution=be.prototype.fe,be.prototype.getTileCoordForCoordAndZ=be.prototype.wf,be.prototype.getTileSize=be.prototype.Za,be.prototype.getZForResolution=be.prototype.Ec,t("ol.tilegrid.WMTS",my),my.prototype.getMatrixIds=my.prototype.o,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ny),t("ol.style.AtlasManager",wy),t("ol.style.Circle",ui),ui.prototype.clone=ui.prototype.clone,ui.prototype.setRadius=ui.prototype.Qa,t("ol.style.Fill",vi),vi.prototype.clone=vi.prototype.clone,vi.prototype.getColor=vi.prototype.g,vi.prototype.setColor=vi.prototype.f,t("ol.style.Icon",xq),xq.prototype.clone=xq.prototype.clone,xq.prototype.getAnchor=xq.prototype.Ac,xq.prototype.getColor=xq.prototype.Gn,xq.prototype.getImage=xq.prototype.Ic,xq.prototype.getOrigin=xq.prototype.Jc,xq.prototype.getSrc=xq.prototype.Hn,xq.prototype.getSize=xq.prototype.ac,xq.prototype.load=xq.prototype.load,t("ol.style.Image",ri),ri.prototype.getOpacity=ri.prototype.ye,ri.prototype.getRotateWithView=ri.prototype.ze,ri.prototype.getRotation=ri.prototype.Ae,ri.prototype.getScale=ri.prototype.Be,ri.prototype.getSnapToPixel=ri.prototype.ee,ri.prototype.setOpacity=ri.prototype.dd,ri.prototype.setRotation=ri.prototype.Ce,ri.prototype.setScale=ri.prototype.ed,t("ol.style.RegularShape",si),si.prototype.clone=si.prototype.clone,si.prototype.getAnchor=si.prototype.Ac,si.prototype.getAngle=si.prototype.Nh,si.prototype.getFill=si.prototype.Oh,si.prototype.getImage=si.prototype.Ic,si.prototype.getOrigin=si.prototype.Jc,si.prototype.getPoints=si.prototype.Ph,si.prototype.getRadius=si.prototype.Qh,si.prototype.getRadius2=si.prototype.Vg,si.prototype.getSize=si.prototype.ac,si.prototype.getStroke=si.prototype.Rh,t("ol.style.Stroke",wi),wi.prototype.clone=wi.prototype.clone,wi.prototype.getColor=wi.prototype.In,wi.prototype.getLineCap=wi.prototype.kk,wi.prototype.getLineDash=wi.prototype.Jn,wi.prototype.getLineJoin=wi.prototype.lk,wi.prototype.getMiterLimit=wi.prototype.rk,wi.prototype.getWidth=wi.prototype.Kn,wi.prototype.setColor=wi.prototype.Ln,wi.prototype.setLineCap=wi.prototype.ip,wi.prototype.setLineDash=wi.prototype.setLineDash,wi.prototype.setLineJoin=wi.prototype.jp,wi.prototype.setMiterLimit=wi.prototype.kp,wi.prototype.setWidth=wi.prototype.np,t("ol.style.Style",xi),xi.prototype.clone=xi.prototype.clone,xi.prototype.getGeometry=xi.prototype.V,xi.prototype.getGeometryFunction=xi.prototype.fk,xi.prototype.getFill=xi.prototype.Mn,xi.prototype.setFill=xi.prototype.Qn,xi.prototype.getImage=xi.prototype.Nn,xi.prototype.setImage=xi.prototype.Rn,xi.prototype.getStroke=xi.prototype.On,xi.prototype.setStroke=xi.prototype.Sn,xi.prototype.getText=xi.prototype.Ka,xi.prototype.setText=xi.prototype.Tn,xi.prototype.getZIndex=xi.prototype.Pn,xi.prototype.setGeometry=xi.prototype.Pa,xi.prototype.setZIndex=xi.prototype.Un,t("ol.style.Text",Dq),Dq.prototype.clone=Dq.prototype.clone,Dq.prototype.getFont=Dq.prototype.dk,Dq.prototype.getOffsetX=Dq.prototype.sk,Dq.prototype.getOffsetY=Dq.prototype.tk,Dq.prototype.getFill=Dq.prototype.Vn,Dq.prototype.getRotateWithView=Dq.prototype.Wn,Dq.prototype.getRotation=Dq.prototype.Xn,Dq.prototype.getScale=Dq.prototype.Yn,Dq.prototype.getStroke=Dq.prototype.Zn,Dq.prototype.getText=Dq.prototype.Ka,Dq.prototype.getTextAlign=Dq.prototype.Dk,Dq.prototype.getTextBaseline=Dq.prototype.Ek,Dq.prototype.setFont=Dq.prototype.si,Dq.prototype.setOffsetX=Dq.prototype.yi,Dq.prototype.setOffsetY=Dq.prototype.zi,Dq.prototype.setFill=Dq.prototype.Sh,Dq.prototype.setRotation=Dq.prototype.$n,Dq.prototype.setScale=Dq.prototype.Th,Dq.prototype.setStroke=Dq.prototype.Uh,Dq.prototype.setText=Dq.prototype.Vh,Dq.prototype.setTextAlign=Dq.prototype.Bi,Dq.prototype.setTextBaseline=Dq.prototype.lp,t("ol.Sphere",oc),oc.prototype.geodesicArea=oc.prototype.a,oc.prototype.haversineDistance=oc.prototype.b,t("ol.source.BingMaps",qx),t("ol.source.BingMaps.TOS_ATTRIBUTION",rx),qx.prototype.getApiKey=qx.prototype.U,qx.prototype.getImagerySet=qx.prototype.Z,t("ol.source.CartoDB",tx),tx.prototype.getConfig=tx.prototype.$j,tx.prototype.updateConfig=tx.prototype.wp,tx.prototype.setConfig=tx.prototype.fp,t("ol.source.Cluster",Y),Y.prototype.getSource=Y.prototype.Ua,Y.prototype.setDistance=Y.prototype.Ob,t("ol.source.Image",km),mm.prototype.image=mm.prototype.image,t("ol.source.ImageArcGISRest",zx),zx.prototype.getParams=zx.prototype.Xm,zx.prototype.getImageLoadFunction=zx.prototype.Wm,zx.prototype.getUrl=zx.prototype.Ym,zx.prototype.setImageLoadFunction=zx.prototype.Zm,zx.prototype.setUrl=zx.prototype.$m,zx.prototype.updateParams=zx.prototype.an,t("ol.source.ImageCanvas",rm),t("ol.source.ImageMapGuide",Ax),Ax.prototype.getParams=Ax.prototype.cn,Ax.prototype.getImageLoadFunction=Ax.prototype.bn,Ax.prototype.updateParams=Ax.prototype.en,Ax.prototype.setImageLoadFunction=Ax.prototype.dn,t("ol.source.ImageStatic",Bx),t("ol.source.ImageVector",sm),sm.prototype.getSource=sm.prototype.fn,sm.prototype.getStyle=sm.prototype.gn,sm.prototype.getStyleFunction=sm.prototype.hn,sm.prototype.setStyle=sm.prototype.Fh,t("ol.source.ImageWMS",Cx),Cx.prototype.getGetFeatureInfoUrl=Cx.prototype.ln,Cx.prototype.getParams=Cx.prototype.nn,Cx.prototype.getImageLoadFunction=Cx.prototype.mn,Cx.prototype.getUrl=Cx.prototype.pn,Cx.prototype.setImageLoadFunction=Cx.prototype.qn,Cx.prototype.setUrl=Cx.prototype.rn,Cx.prototype.updateParams=Cx.prototype.sn,t("ol.source.OSM",Gx),t("ol.source.OSM.ATTRIBUTION",Hx),t("ol.source.Raster",Ix),Ix.prototype.setOperation=Ix.prototype.u,Px.prototype.extent=Px.prototype.extent,Px.prototype.resolution=Px.prototype.resolution,Px.prototype.data=Px.prototype.data,t("ol.source.Source",hm),hm.prototype.getAttributions=hm.prototype.za,hm.prototype.getLogo=hm.prototype.ya,hm.prototype.getProjection=hm.prototype.Aa,hm.prototype.getState=hm.prototype.W,hm.prototype.refresh=hm.prototype.wa,hm.prototype.setAttributions=hm.prototype.ua,t("ol.source.Stamen",Sx),t("ol.source.Tile",ix),ix.prototype.getTileGrid=ix.prototype.Va,lx.prototype.tile=lx.prototype.tile,t("ol.source.TileArcGISRest",Wx),Wx.prototype.getParams=Wx.prototype.u,Wx.prototype.updateParams=Wx.prototype.A,t("ol.source.TileDebug",Yx),t("ol.source.TileImage",X),X.prototype.setRenderReprojectionEdges=X.prototype.Hb,X.prototype.setTileGridForProjection=X.prototype.Ib,t("ol.source.TileJSON",$x),$x.prototype.getTileJSON=$x.prototype.Fk,t("ol.source.TileUTFGrid",ay),ay.prototype.getTemplate=ay.prototype.Ck,ay.prototype.forDataAtCoordinateAndResolution=ay.prototype.Pj,t("ol.source.TileWMS",ey),ey.prototype.getGetFeatureInfoUrl=ey.prototype.An,ey.prototype.getParams=ey.prototype.Bn,ey.prototype.updateParams=ey.prototype.Cn,mx.prototype.getTileLoadFunction=mx.prototype.ib,mx.prototype.getTileUrlFunction=mx.prototype.kb,mx.prototype.getUrls=mx.prototype.lb,mx.prototype.setTileLoadFunction=mx.prototype.sb,mx.prototype.setTileUrlFunction=mx.prototype.Xa,mx.prototype.setUrl=mx.prototype.cb,mx.prototype.setUrls=mx.prototype.Ya,t("ol.source.Vector",U),U.prototype.addFeature=U.prototype.gb,U.prototype.addFeatures=U.prototype.Tc,U.prototype.clear=U.prototype.clear,U.prototype.forEachFeature=U.prototype.Fg,U.prototype.forEachFeatureInExtent=U.prototype.Qb,U.prototype.forEachFeatureIntersectingExtent=U.prototype.Gg,U.prototype.getFeaturesCollection=U.prototype.Og,U.prototype.getFeatures=U.prototype.we,U.prototype.getFeaturesAtCoordinate=U.prototype.Ng,U.prototype.getFeaturesInExtent=U.prototype.nf,U.prototype.getClosestFeatureToCoordinate=U.prototype.Jg,U.prototype.getExtent=U.prototype.G,U.prototype.getFeatureById=U.prototype.Mg,U.prototype.getFormat=U.prototype.Kh,U.prototype.getUrl=U.prototype.Lh,U.prototype.removeFeature=U.prototype.rb,Bv.prototype.feature=Bv.prototype.feature,t("ol.source.VectorTile",ly),t("ol.source.WMTS",Z),Z.prototype.getDimensions=Z.prototype.bk,Z.prototype.getFormat=Z.prototype.Dn,Z.prototype.getLayer=Z.prototype.En,Z.prototype.getMatrixSet=Z.prototype.pk,Z.prototype.getRequestEncoding=Z.prototype.Ak,Z.prototype.getStyle=Z.prototype.Fn,Z.prototype.getVersion=Z.prototype.Hk,Z.prototype.updateDimensions=Z.prototype.xp,t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var e,f,g,c=cb(a.Contents.Layer,function(a){return a.Identifier==b.layer}),d=a.Contents.TileMatrixSet;e=1<c.TileMatrixSetLink.length?"projection"in b?gb(c.TileMatrixSetLink,function(a){var c=cb(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),e=zc(c),f=zc(b.projection);return e&&f?Mc(e,f):c==b.projection}):gb(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0,0>e&&(e=0),f=c.TileMatrixSetLink[e].TileMatrixSet,g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format),e=gb(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault}),0>e&&(e=0),e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]),l[b]=c});var p,m=cb(a.Contents.TileMatrixSet,function(a){return a.Identifier==f});p=zc("projection"in b?b.projection:m.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var q,r,n=c.WGS84BoundingBox;void 0!==n&&(r=zc("EPSG:4326").G(),r=n[0]==r[0]&&n[2]==r[2],q=Qc(n,"EPSG:4326",p),(n=p.G())&&(Ob(n,q)||(q=void 0))),g=ny(m,q,g);var u=[],m=b.requestEncoding,m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata){q=a.OperationsMetadata.GetTile.DCP.HTTP.Get;for(var n=0,w=q.length;w>n;++n){var y=cb(q[n].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;if(""===m&&(m=y[0]),m!==oy)break;Za(y,oy)&&u.push(q[n].href)}}return 0===u.length&&(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))})),{urls:u,layer:b.layer,matrixSet:f,format:h,projection:p,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:r}}),t("ol.source.XYZ",sx),t("ol.source.Zoomify",qy),Jh.prototype.vectorContext=Jh.prototype.vectorContext,Jh.prototype.frameState=Jh.prototype.frameState,Jh.prototype.context=Jh.prototype.context,Jh.prototype.glContext=Jh.prototype.glContext,Is.prototype.get=Is.prototype.get,Is.prototype.getExtent=Is.prototype.G,Is.prototype.getGeometry=Is.prototype.V,Is.prototype.getProperties=Is.prototype.Tm,Is.prototype.getType=Is.prototype.Y,t("ol.render.VectorContext",Ii),Ol.prototype.setStyle=Ol.prototype.Gd,Ol.prototype.drawGeometry=Ol.prototype.tc,Ol.prototype.drawFeature=Ol.prototype.jf,Ji.prototype.drawCircle=Ji.prototype.hc,Ji.prototype.setStyle=Ji.prototype.Gd,Ji.prototype.drawGeometry=Ji.prototype.tc,Ji.prototype.drawFeature=Ji.prototype.jf,t("ol.proj.common.add",Ih),t("ol.proj.METERS_PER_UNIT",qc),t("ol.proj.setProj4",function(a){rc=a}),t("ol.proj.getPointResolution",xc),t("ol.proj.addEquivalentProjections",Ac),t("ol.proj.addProjection",Ic),t("ol.proj.addCoordinateTransforms",Kc),t("ol.proj.fromLonLat",function(a,b){return Pc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")}),t("ol.proj.toLonLat",function(a,b){return Pc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",zc),t("ol.proj.equivalent",Mc),t("ol.proj.getTransform",Nc),t("ol.proj.transform",Pc),t("ol.proj.transformExtent",Qc),t("ol.proj.Projection",sc),sc.prototype.getCode=sc.prototype.Zj,sc.prototype.getExtent=sc.prototype.G,sc.prototype.getUnits=sc.prototype.Eb,sc.prototype.getMetersPerUnit=sc.prototype.ic,sc.prototype.getWorldExtent=sc.prototype.Jk,sc.prototype.isGlobal=sc.prototype.rl,sc.prototype.setGlobal=sc.prototype.hp,sc.prototype.setExtent=sc.prototype.Sm,sc.prototype.setWorldExtent=sc.prototype.op,sc.prototype.setGetPointResolution=sc.prototype.gp,t("ol.proj.Units.METERS_PER_UNIT",qc),t("ol.layer.Base",qh),qh.prototype.getExtent=qh.prototype.G,qh.prototype.getMaxResolution=qh.prototype.Wb,qh.prototype.getMinResolution=qh.prototype.Xb,qh.prototype.getOpacity=qh.prototype.Yb,qh.prototype.getVisible=qh.prototype.Fb,qh.prototype.getZIndex=qh.prototype.Zb,qh.prototype.setExtent=qh.prototype.kc,qh.prototype.setMaxResolution=qh.prototype.pc,qh.prototype.setMinResolution=qh.prototype.qc,qh.prototype.setOpacity=qh.prototype.lc,qh.prototype.setVisible=qh.prototype.mc,qh.prototype.setZIndex=qh.prototype.nc,t("ol.layer.Group",yh),yh.prototype.getLayers=yh.prototype.cd,yh.prototype.setLayers=yh.prototype.yh,t("ol.layer.Heatmap",V),V.prototype.getBlur=V.prototype.Ig,V.prototype.getGradient=V.prototype.Pg,V.prototype.getRadius=V.prototype.zh,V.prototype.setBlur=V.prototype.ni,V.prototype.setGradient=V.prototype.ui,V.prototype.setRadius=V.prototype.Ah,t("ol.layer.Image",ei),ei.prototype.getSource=ei.prototype.la,t("ol.layer.Layer",Kh),Kh.prototype.getSource=Kh.prototype.la,Kh.prototype.setMap=Kh.prototype.setMap,Kh.prototype.setSource=Kh.prototype.Pc,
t("ol.layer.Tile",F),F.prototype.getPreload=F.prototype.f,F.prototype.getSource=F.prototype.la,F.prototype.setPreload=F.prototype.l,F.prototype.getUseInterimTilesOnError=F.prototype.c,F.prototype.setUseInterimTilesOnError=F.prototype.C,t("ol.layer.Vector",G),G.prototype.getSource=G.prototype.la,G.prototype.getStyle=G.prototype.D,G.prototype.getStyleFunction=G.prototype.L,G.prototype.setStyle=G.prototype.l,t("ol.layer.VectorTile",H),H.prototype.getPreload=H.prototype.f,H.prototype.getUseInterimTilesOnError=H.prototype.c,H.prototype.setPreload=H.prototype.P,H.prototype.setUseInterimTilesOnError=H.prototype.U,t("ol.interaction.DoubleClickZoom",qg),t("ol.interaction.DoubleClickZoom.handleEvent",rg),t("ol.interaction.DragAndDrop",nv),t("ol.interaction.DragAndDrop.handleEvent",mc),qv.prototype.features=qv.prototype.features,qv.prototype.file=qv.prototype.file,qv.prototype.projection=qv.prototype.projection,t("ol.interaction.DragBox",Pg),Pg.prototype.getGeometry=Pg.prototype.V,Ug.prototype.coordinate=Ug.prototype.coordinate,Ug.prototype.mapBrowserEvent=Ug.prototype.mapBrowserEvent,t("ol.interaction.DragPan",Eg),t("ol.interaction.DragRotate",Ig),t("ol.interaction.DragRotateAndZoom",sv),t("ol.interaction.DragZoom",Yg),t("ol.interaction.Draw",Iv),t("ol.interaction.Draw.handleEvent",Kv),Iv.prototype.removeLastPoint=Iv.prototype.Vo,Iv.prototype.finishDrawing=Iv.prototype.zd,Iv.prototype.extend=Iv.prototype.vm,t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0],f=c[1],g=Math.sqrt(yb(e,f)),h=d?d:Dd(new bv(e),a);return Ed(h,e,g,b?b:Math.atan((f[1]-e[1])/(f[0]-e[0]))),h}}),t("ol.interaction.Draw.createBox",function(){return function(a,b){var c=Gb(a),d=b||new E(null);return d.qa([[Yb(c),Zb(c),$b(c),ac(c),Yb(c)]]),d}}),Xv.prototype.feature=Xv.prototype.feature,t("ol.interaction.Extent",aw),aw.prototype.getExtent=aw.prototype.G,aw.prototype.setExtent=aw.prototype.i,lw.prototype.extent_=lw.prototype.b,t("ol.interaction.defaults",ph),t("ol.interaction.Interaction",lg),lg.prototype.getActive=lg.prototype.f,lg.prototype.getMap=lg.prototype.c,lg.prototype.setActive=lg.prototype.Ea,t("ol.interaction.KeyboardPan",Zg),t("ol.interaction.KeyboardPan.handleEvent",$g),t("ol.interaction.KeyboardZoom",ah),t("ol.interaction.KeyboardZoom.handleEvent",bh),t("ol.interaction.Modify",nw),t("ol.interaction.Modify.handleEvent",qw),nw.prototype.removePoint=nw.prototype.ki,vw.prototype.features=vw.prototype.features,vw.prototype.mapBrowserEvent=vw.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",ch),t("ol.interaction.MouseWheelZoom.handleEvent",dh),ch.prototype.setMouseAnchor=ch.prototype.P,t("ol.interaction.PinchRotate",gh),t("ol.interaction.PinchZoom",kh),t("ol.interaction.Pointer",Bg),t("ol.interaction.Pointer.handleEvent",Cg),t("ol.interaction.Select",Dw),Dw.prototype.getFeatures=Dw.prototype.Fm,Dw.prototype.getHitTolerance=Dw.prototype.Gm,Dw.prototype.getLayer=Dw.prototype.Hm,t("ol.interaction.Select.handleEvent",Ew),Dw.prototype.setHitTolerance=Dw.prototype.Jm,Dw.prototype.setMap=Dw.prototype.setMap,Gw.prototype.selected=Gw.prototype.selected,Gw.prototype.deselected=Gw.prototype.deselected,Gw.prototype.mapBrowserEvent=Gw.prototype.mapBrowserEvent,t("ol.interaction.Snap",Iw),Iw.prototype.addFeature=Iw.prototype.gb,Iw.prototype.removeFeature=Iw.prototype.rb,t("ol.interaction.Translate",Mw),Mw.prototype.getHitTolerance=Mw.prototype.D,Mw.prototype.setHitTolerance=Mw.prototype.L,Sw.prototype.features=Sw.prototype.features,Sw.prototype.coordinate=Sw.prototype.coordinate,t("ol.geom.Circle",bv),bv.prototype.clone=bv.prototype.clone,bv.prototype.getCenter=bv.prototype.Fd,bv.prototype.getRadius=bv.prototype.qe,bv.prototype.getType=bv.prototype.Y,bv.prototype.intersectsExtent=bv.prototype.Ta,bv.prototype.setCenter=bv.prototype.nm,bv.prototype.setCenterAndRadius=bv.prototype.dg,bv.prototype.setRadius=bv.prototype.om,bv.prototype.transform=bv.prototype.ob,t("ol.geom.Geometry",Rc),Rc.prototype.getClosestPoint=Rc.prototype.Cb,Rc.prototype.intersectsCoordinate=Rc.prototype.mb,Rc.prototype.getExtent=Rc.prototype.G,Rc.prototype.rotate=Rc.prototype.rotate,Rc.prototype.scale=Rc.prototype.scale,Rc.prototype.simplify=Rc.prototype.Jb,Rc.prototype.transform=Rc.prototype.ob,t("ol.geom.GeometryCollection",Vo),Vo.prototype.clone=Vo.prototype.clone,Vo.prototype.getGeometries=Vo.prototype.pf,Vo.prototype.getType=Vo.prototype.Y,Vo.prototype.intersectsExtent=Vo.prototype.Ta,Vo.prototype.setGeometries=Vo.prototype.ti,Vo.prototype.applyTransform=Vo.prototype.sc,Vo.prototype.translate=Vo.prototype.translate,t("ol.geom.LinearRing",md),md.prototype.clone=md.prototype.clone,md.prototype.getArea=md.prototype.rm,md.prototype.getCoordinates=md.prototype.$,md.prototype.getType=md.prototype.Y,md.prototype.setCoordinates=md.prototype.qa,t("ol.geom.LineString",P),P.prototype.appendCoordinate=P.prototype.Dj,P.prototype.clone=P.prototype.clone,P.prototype.forEachSegment=P.prototype.Sj,P.prototype.getCoordinateAtM=P.prototype.pm,P.prototype.getCoordinates=P.prototype.$,P.prototype.getCoordinateAt=P.prototype.Kg,P.prototype.getLength=P.prototype.qm,P.prototype.getType=P.prototype.Y,P.prototype.intersectsExtent=P.prototype.Ta,P.prototype.setCoordinates=P.prototype.qa,t("ol.geom.MultiLineString",Q),Q.prototype.appendLineString=Q.prototype.Ej,Q.prototype.clone=Q.prototype.clone,Q.prototype.getCoordinateAtM=Q.prototype.sm,Q.prototype.getCoordinates=Q.prototype.$,Q.prototype.getLineString=Q.prototype.mk,Q.prototype.getLineStrings=Q.prototype.Yc,Q.prototype.getType=Q.prototype.Y,Q.prototype.intersectsExtent=Q.prototype.Ta,Q.prototype.setCoordinates=Q.prototype.qa,t("ol.geom.MultiPoint",R),R.prototype.appendPoint=R.prototype.Gj,R.prototype.clone=R.prototype.clone,R.prototype.getCoordinates=R.prototype.$,R.prototype.getPoint=R.prototype.yk,R.prototype.getPoints=R.prototype.re,R.prototype.getType=R.prototype.Y,R.prototype.intersectsExtent=R.prototype.Ta,R.prototype.setCoordinates=R.prototype.qa,t("ol.geom.MultiPolygon",S),S.prototype.appendPolygon=S.prototype.Hj,S.prototype.clone=S.prototype.clone,S.prototype.getArea=S.prototype.tm,S.prototype.getCoordinates=S.prototype.$,S.prototype.getInteriorPoints=S.prototype.jk,S.prototype.getPolygon=S.prototype.zk,S.prototype.getPolygons=S.prototype.Ad,S.prototype.getType=S.prototype.Y,S.prototype.intersectsExtent=S.prototype.Ta,S.prototype.setCoordinates=S.prototype.qa,t("ol.geom.Point",C),C.prototype.clone=C.prototype.clone,C.prototype.getCoordinates=C.prototype.$,C.prototype.getType=C.prototype.Y,C.prototype.intersectsExtent=C.prototype.Ta,C.prototype.setCoordinates=C.prototype.qa,t("ol.geom.Polygon",E),E.prototype.appendLinearRing=E.prototype.Fj,E.prototype.clone=E.prototype.clone,E.prototype.getArea=E.prototype.um,E.prototype.getCoordinates=E.prototype.$,E.prototype.getInteriorPoint=E.prototype.ik,E.prototype.getLinearRingCount=E.prototype.nk,E.prototype.getLinearRing=E.prototype.Qg,E.prototype.getLinearRings=E.prototype.Zc,E.prototype.getType=E.prototype.Y,E.prototype.intersectsExtent=E.prototype.Ta,E.prototype.setCoordinates=E.prototype.qa,t("ol.geom.Polygon.circular",Bd),t("ol.geom.Polygon.fromExtent",Cd),t("ol.geom.Polygon.fromCircle",Dd),t("ol.geom.SimpleGeometry",Uc),Uc.prototype.getFirstCoordinate=Uc.prototype.Rb,Uc.prototype.getLastCoordinate=Uc.prototype.Sb,Uc.prototype.getLayout=Uc.prototype.Tb,Uc.prototype.applyTransform=Uc.prototype.sc,Uc.prototype.translate=Uc.prototype.translate,t("ol.format.EsriJSON",po),po.prototype.readFeature=po.prototype.bc,po.prototype.readFeatures=po.prototype.La,po.prototype.readGeometry=po.prototype.hd,po.prototype.readProjection=po.prototype.Wa,po.prototype.writeGeometry=po.prototype.od,po.prototype.writeGeometryObject=po.prototype.Te,po.prototype.writeFeature=po.prototype.Od,po.prototype.writeFeatureObject=po.prototype.md,po.prototype.writeFeatures=po.prototype.ec,po.prototype.writeFeaturesObject=po.prototype.Se,t("ol.format.Feature",co),t("ol.format.GeoJSON",Zo),Zo.prototype.readFeature=Zo.prototype.bc,Zo.prototype.readFeatures=Zo.prototype.La,Zo.prototype.readGeometry=Zo.prototype.hd,Zo.prototype.readProjection=Zo.prototype.Wa,Zo.prototype.writeFeature=Zo.prototype.Od,Zo.prototype.writeFeatureObject=Zo.prototype.md,Zo.prototype.writeFeatures=Zo.prototype.ec,Zo.prototype.writeFeaturesObject=Zo.prototype.Se,Zo.prototype.writeGeometry=Zo.prototype.od,Zo.prototype.writeGeometryObject=Zo.prototype.Te,t("ol.format.GML",tp),tp.prototype.writeFeatures=tp.prototype.ec,tp.prototype.writeFeaturesNode=tp.prototype.a,t("ol.format.GML2",Cp),t("ol.format.GML3",tp),tp.prototype.writeGeometryNode=tp.prototype.H,tp.prototype.writeFeatures=tp.prototype.ec,tp.prototype.writeFeaturesNode=tp.prototype.a,gp.prototype.readFeatures=gp.prototype.La,t("ol.format.GPX",Dp),Dp.prototype.readFeature=Dp.prototype.bc,Dp.prototype.readFeatures=Dp.prototype.La,Dp.prototype.readProjection=Dp.prototype.Wa,Dp.prototype.writeFeatures=Dp.prototype.ec,Dp.prototype.writeFeaturesNode=Dp.prototype.a,t("ol.format.IGC",nq),nq.prototype.readFeature=nq.prototype.bc,nq.prototype.readFeatures=nq.prototype.La,nq.prototype.readProjection=nq.prototype.Wa,t("ol.format.KML",Eq),Eq.prototype.readFeature=Eq.prototype.bc,Eq.prototype.readFeatures=Eq.prototype.La,Eq.prototype.readName=Eq.prototype.Jo,Eq.prototype.readNetworkLinks=Eq.prototype.Ko,Eq.prototype.readRegion=Eq.prototype.No,Eq.prototype.readRegionFromNode=Eq.prototype.Ie,Eq.prototype.readProjection=Eq.prototype.Wa,Eq.prototype.writeFeatures=Eq.prototype.ec,Eq.prototype.writeFeaturesNode=Eq.prototype.a,t("ol.format.MVT",Js),Js.prototype.readFeatures=Js.prototype.La,Js.prototype.readProjection=Js.prototype.Wa,Js.prototype.setLayers=Js.prototype.c,t("ol.format.OSMXML",Ls),Ls.prototype.readFeatures=Ls.prototype.La,Ls.prototype.readProjection=Ls.prototype.Wa,t("ol.format.Polyline",jt),t("ol.format.Polyline.encodeDeltas",kt),t("ol.format.Polyline.decodeDeltas",mt),t("ol.format.Polyline.encodeFloats",lt),t("ol.format.Polyline.decodeFloats",nt),jt.prototype.readFeature=jt.prototype.bc,jt.prototype.readFeatures=jt.prototype.La,jt.prototype.readGeometry=jt.prototype.hd,jt.prototype.readProjection=jt.prototype.Wa,jt.prototype.writeGeometry=jt.prototype.od,t("ol.format.TopoJSON",ot),ot.prototype.readFeatures=ot.prototype.La,ot.prototype.readProjection=ot.prototype.Wa,t("ol.format.WFS",ut),ut.prototype.readFeatures=ut.prototype.La,ut.prototype.readTransactionResponse=ut.prototype.o,ut.prototype.readFeatureCollectionMetadata=ut.prototype.l,ut.prototype.writeGetFeature=ut.prototype.v,ut.prototype.writeTransaction=ut.prototype.A,ut.prototype.readProjection=ut.prototype.Wa,t("ol.format.WKT",Mt),Mt.prototype.readFeature=Mt.prototype.bc,Mt.prototype.readFeatures=Mt.prototype.La,Mt.prototype.readGeometry=Mt.prototype.hd,Mt.prototype.writeFeature=Mt.prototype.Od,Mt.prototype.writeFeatures=Mt.prototype.ec,Mt.prototype.writeGeometry=Mt.prototype.od,t("ol.format.WMSCapabilities",eu),eu.prototype.read=eu.prototype.read,t("ol.format.WMSGetFeatureInfo",Bu),Bu.prototype.readFeatures=Bu.prototype.La,t("ol.format.WMTSCapabilities",Cu),Cu.prototype.read=Cu.prototype.read,t("ol.format.filter.And",Bo),t("ol.format.filter.Bbox",Co),t("ol.format.filter.Comparison",Do),t("ol.format.filter.ComparisonBinary",Eo),t("ol.format.filter.EqualTo",Fo),t("ol.format.filter.Filter",wo),t("ol.format.filter.GreaterThan",Go),t("ol.format.filter.GreaterThanOrEqualTo",Ho),t("ol.format.filter.and",To),t("ol.format.filter.or",function(a,b){return new Ro(a,b)}),t("ol.format.filter.not",function(a){return new Po(a)}),t("ol.format.filter.bbox",Uo),t("ol.format.filter.intersects",function(a,b,c){return new Jo(a,b,c)}),t("ol.format.filter.within",function(a,b,c){return new So(a,b,c)}),t("ol.format.filter.equalTo",function(a,b,c){return new Fo(a,b,c)}),t("ol.format.filter.notEqualTo",function(a,b,c){return new Qo(a,b,c)}),t("ol.format.filter.lessThan",function(a,b){return new No(a,b)}),t("ol.format.filter.lessThanOrEqualTo",function(a,b){return new Oo(a,b)}),t("ol.format.filter.greaterThan",function(a,b){return new Go(a,b)}),t("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new Ho(a,b)}),t("ol.format.filter.isNull",function(a){return new Mo(a)}),t("ol.format.filter.between",function(a,b,c){return new Ko(a,b,c)}),t("ol.format.filter.like",function(a,b,c,d,e,f){return new Lo(a,b,c,d,e,f)}),t("ol.format.filter.Intersects",Jo),t("ol.format.filter.IsBetween",Ko),t("ol.format.filter.IsLike",Lo),t("ol.format.filter.IsNull",Mo),t("ol.format.filter.LessThan",No),t("ol.format.filter.LessThanOrEqualTo",Oo),t("ol.format.filter.Not",Po),t("ol.format.filter.NotEqualTo",Qo),t("ol.format.filter.Or",Ro),t("ol.format.filter.Spatial",Io),t("ol.format.filter.Within",So),t("ol.extent.boundingExtent",Gb),t("ol.extent.buffer",Jb),t("ol.extent.containsCoordinate",Mb),t("ol.extent.containsExtent",Ob),t("ol.extent.containsXY",Nb),t("ol.extent.createEmpty",Hb),t("ol.extent.equals",Vb),t("ol.extent.extend",Wb),t("ol.extent.getBottomLeft",Yb),t("ol.extent.getBottomRight",Zb),t("ol.extent.getCenter",gc),t("ol.extent.getHeight",ec),t("ol.extent.getIntersection",ic),t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]}),t("ol.extent.getTopLeft",ac),t("ol.extent.getTopRight",$b),t("ol.extent.getWidth",dc),t("ol.extent.intersects",jc),t("ol.extent.isEmpty",cc),t("ol.extent.applyTransform",lc),t("ol.events.condition.altKeyOnly",function(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}),t("ol.events.condition.altShiftKeysOnly",sg),t("ol.events.condition.always",mc),t("ol.events.condition.click",function(a){return"click"==a.type}),t("ol.events.condition.never",nc),t("ol.events.condition.pointerMove",ug),t("ol.events.condition.singleClick",vg),t("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type}),t("ol.events.condition.noModifierKeys",wg),t("ol.events.condition.platformModifierKeyOnly",function(a){return a=a.originalEvent,!a.altKey&&(lf?a.metaKey:a.ctrlKey)&&!a.shiftKey}),t("ol.events.condition.shiftKeyOnly",xg),t("ol.events.condition.targetNotEditable",yg),t("ol.events.condition.mouseOnly",zg),t("ol.events.condition.primaryAction",Ag),Ia.prototype.type=Ia.prototype.type,Ia.prototype.target=Ia.prototype.target,Ia.prototype.preventDefault=Ia.prototype.preventDefault,Ia.prototype.stopPropagation=Ia.prototype.stopPropagation,t("ol.control.Attribution",Je),t("ol.control.Attribution.render",Ke),Je.prototype.getCollapsible=Je.prototype.dm,Je.prototype.setCollapsible=Je.prototype.gm,Je.prototype.setCollapsed=Je.prototype.fm,Je.prototype.getCollapsed=Je.prototype.cm,t("ol.control.Control",Ie),Ie.prototype.getMap=Ie.prototype.i,Ie.prototype.setMap=Ie.prototype.setMap,Ie.prototype.setTarget=Ie.prototype.c,t("ol.control.FullScreen",Me),t("ol.control.defaults",Ue),t("ol.control.MousePosition",Ve),t("ol.control.MousePosition.render",We),Ve.prototype.getCoordinateFormat=Ve.prototype.Lg,Ve.prototype.getProjection=Ve.prototype.rh,Ve.prototype.setCoordinateFormat=Ve.prototype.oi,Ve.prototype.setProjection=Ve.prototype.sh,t("ol.control.OverviewMap",gn),t("ol.control.OverviewMap.render",hn),gn.prototype.getCollapsible=gn.prototype.jm,gn.prototype.setCollapsible=gn.prototype.mm,gn.prototype.setCollapsed=gn.prototype.lm,gn.prototype.getCollapsed=gn.prototype.im,gn.prototype.getOverviewMap=gn.prototype.wk,t("ol.control.Rotate",Re),t("ol.control.Rotate.render",Se),t("ol.control.ScaleLine",mn),mn.prototype.getUnits=mn.prototype.Eb,t("ol.control.ScaleLine.render",nn),mn.prototype.setUnits=mn.prototype.D,t("ol.control.Zoom",Te),t("ol.control.ZoomSlider",wn),t("ol.control.ZoomSlider.render",yn),t("ol.control.ZoomToExtent",Bn),Sa.prototype.changed=Sa.prototype.s,Sa.prototype.dispatchEvent=Sa.prototype.b,Sa.prototype.getRevision=Sa.prototype.M,Sa.prototype.on=Sa.prototype.J,Sa.prototype.once=Sa.prototype.N,Sa.prototype.un=Sa.prototype.K,Sa.prototype.unByKey=Sa.prototype.O,qe.prototype.get=qe.prototype.get,qe.prototype.getKeys=qe.prototype.S,qe.prototype.getProperties=qe.prototype.R,qe.prototype.set=qe.prototype.set,qe.prototype.setProperties=qe.prototype.I,qe.prototype.unset=qe.prototype.T,qe.prototype.changed=qe.prototype.s,qe.prototype.dispatchEvent=qe.prototype.b,qe.prototype.getRevision=qe.prototype.M,qe.prototype.on=qe.prototype.J,qe.prototype.once=qe.prototype.N,qe.prototype.un=qe.prototype.K,qe.prototype.unByKey=qe.prototype.O,te.prototype.type=te.prototype.type,te.prototype.target=te.prototype.target,te.prototype.preventDefault=te.prototype.preventDefault,te.prototype.stopPropagation=te.prototype.stopPropagation,Cn.prototype.get=Cn.prototype.get,Cn.prototype.getKeys=Cn.prototype.S,Cn.prototype.getProperties=Cn.prototype.R,Cn.prototype.set=Cn.prototype.set,Cn.prototype.setProperties=Cn.prototype.I,Cn.prototype.unset=Cn.prototype.T,Cn.prototype.changed=Cn.prototype.s,Cn.prototype.dispatchEvent=Cn.prototype.b,Cn.prototype.getRevision=Cn.prototype.M,Cn.prototype.on=Cn.prototype.J,Cn.prototype.once=Cn.prototype.N,Cn.prototype.un=Cn.prototype.K,Cn.prototype.unByKey=Cn.prototype.O,J.prototype.get=J.prototype.get,J.prototype.getKeys=J.prototype.S,J.prototype.getProperties=J.prototype.R,J.prototype.set=J.prototype.set,J.prototype.setProperties=J.prototype.I,J.prototype.unset=J.prototype.T,J.prototype.changed=J.prototype.s,J.prototype.dispatchEvent=J.prototype.b,J.prototype.getRevision=J.prototype.M,J.prototype.on=J.prototype.J,J.prototype.once=J.prototype.N,J.prototype.un=J.prototype.K,J.prototype.unByKey=J.prototype.O,Ru.prototype.get=Ru.prototype.get,Ru.prototype.getKeys=Ru.prototype.S,Ru.prototype.getProperties=Ru.prototype.R,Ru.prototype.set=Ru.prototype.set,Ru.prototype.setProperties=Ru.prototype.I,Ru.prototype.unset=Ru.prototype.T,Ru.prototype.changed=Ru.prototype.s,Ru.prototype.dispatchEvent=Ru.prototype.b,Ru.prototype.getRevision=Ru.prototype.M,Ru.prototype.on=Ru.prototype.J,Ru.prototype.once=Ru.prototype.N,Ru.prototype.un=Ru.prototype.K,Ru.prototype.unByKey=Ru.prototype.O,lv.prototype.getTileCoord=lv.prototype.c,I.prototype.get=I.prototype.get,I.prototype.getKeys=I.prototype.S,I.prototype.getProperties=I.prototype.R,I.prototype.set=I.prototype.set,I.prototype.setProperties=I.prototype.I,I.prototype.unset=I.prototype.T,I.prototype.changed=I.prototype.s,I.prototype.dispatchEvent=I.prototype.b,I.prototype.getRevision=I.prototype.M,I.prototype.on=I.prototype.J,I.prototype.once=I.prototype.N,I.prototype.un=I.prototype.K,I.prototype.unByKey=I.prototype.O,Ge.prototype.type=Ge.prototype.type,Ge.prototype.target=Ge.prototype.target,Ge.prototype.preventDefault=Ge.prototype.preventDefault,Ge.prototype.stopPropagation=Ge.prototype.stopPropagation,$e.prototype.map=$e.prototype.map,$e.prototype.frameState=$e.prototype.frameState,$e.prototype.type=$e.prototype.type,$e.prototype.target=$e.prototype.target,$e.prototype.preventDefault=$e.prototype.preventDefault,$e.prototype.stopPropagation=$e.prototype.stopPropagation,cf.prototype.originalEvent=cf.prototype.originalEvent,cf.prototype.pixel=cf.prototype.pixel,cf.prototype.coordinate=cf.prototype.coordinate,cf.prototype.dragging=cf.prototype.dragging,cf.prototype.preventDefault=cf.prototype.preventDefault,cf.prototype.stopPropagation=cf.prototype.stopPropagation,cf.prototype.map=cf.prototype.map,cf.prototype.frameState=cf.prototype.frameState,cf.prototype.type=cf.prototype.type,cf.prototype.target=cf.prototype.target,Wa.prototype.type=Wa.prototype.type,Wa.prototype.target=Wa.prototype.target,Wa.prototype.preventDefault=Wa.prototype.preventDefault,Wa.prototype.stopPropagation=Wa.prototype.stopPropagation,Pm.prototype.get=Pm.prototype.get,Pm.prototype.getKeys=Pm.prototype.S,Pm.prototype.getProperties=Pm.prototype.R,Pm.prototype.set=Pm.prototype.set,Pm.prototype.setProperties=Pm.prototype.I,Pm.prototype.unset=Pm.prototype.T,Pm.prototype.changed=Pm.prototype.s,Pm.prototype.dispatchEvent=Pm.prototype.b,Pm.prototype.getRevision=Pm.prototype.M,Pm.prototype.on=Pm.prototype.J,Pm.prototype.once=Pm.prototype.N,Pm.prototype.un=Pm.prototype.K,Pm.prototype.unByKey=Pm.prototype.O,jy.prototype.getTileCoord=jy.prototype.c,Fd.prototype.get=Fd.prototype.get,Fd.prototype.getKeys=Fd.prototype.S,Fd.prototype.getProperties=Fd.prototype.R,Fd.prototype.set=Fd.prototype.set,Fd.prototype.setProperties=Fd.prototype.I,Fd.prototype.unset=Fd.prototype.T,Fd.prototype.changed=Fd.prototype.s,Fd.prototype.dispatchEvent=Fd.prototype.b,Fd.prototype.getRevision=Fd.prototype.M,Fd.prototype.on=Fd.prototype.J,Fd.prototype.once=Fd.prototype.N,Fd.prototype.un=Fd.prototype.K,Fd.prototype.unByKey=Fd.prototype.O,my.prototype.forEachTileCoord=my.prototype.Hg,my.prototype.getMaxZoom=my.prototype.Rg,my.prototype.getMinZoom=my.prototype.Sg,my.prototype.getOrigin=my.prototype.Kc,my.prototype.getResolution=my.prototype.Ha,my.prototype.getResolutions=my.prototype.Wh,my.prototype.getTileCoordExtent=my.prototype.Na,my.prototype.getTileCoordForCoordAndResolution=my.prototype.fe,my.prototype.getTileCoordForCoordAndZ=my.prototype.wf,my.prototype.getTileSize=my.prototype.Za,my.prototype.getZForResolution=my.prototype.Ec,si.prototype.getOpacity=si.prototype.ye,si.prototype.getRotateWithView=si.prototype.ze,si.prototype.getRotation=si.prototype.Ae,si.prototype.getScale=si.prototype.Be,si.prototype.getSnapToPixel=si.prototype.ee,si.prototype.setOpacity=si.prototype.dd,si.prototype.setRotation=si.prototype.Ce,si.prototype.setScale=si.prototype.ed,ui.prototype.getAngle=ui.prototype.Nh,ui.prototype.getFill=ui.prototype.Oh,ui.prototype.getPoints=ui.prototype.Ph,ui.prototype.getRadius=ui.prototype.Qh,ui.prototype.getRadius2=ui.prototype.Vg,ui.prototype.getStroke=ui.prototype.Rh,ui.prototype.getOpacity=ui.prototype.ye,ui.prototype.getRotateWithView=ui.prototype.ze,ui.prototype.getRotation=ui.prototype.Ae,ui.prototype.getScale=ui.prototype.Be,ui.prototype.getSnapToPixel=ui.prototype.ee,ui.prototype.setOpacity=ui.prototype.dd,ui.prototype.setRotation=ui.prototype.Ce,ui.prototype.setScale=ui.prototype.ed,xq.prototype.getOpacity=xq.prototype.ye,xq.prototype.getRotateWithView=xq.prototype.ze,xq.prototype.getRotation=xq.prototype.Ae,xq.prototype.getScale=xq.prototype.Be,xq.prototype.getSnapToPixel=xq.prototype.ee,xq.prototype.setOpacity=xq.prototype.dd,xq.prototype.setRotation=xq.prototype.Ce,xq.prototype.setScale=xq.prototype.ed,hm.prototype.get=hm.prototype.get,hm.prototype.getKeys=hm.prototype.S,hm.prototype.getProperties=hm.prototype.R,hm.prototype.set=hm.prototype.set,hm.prototype.setProperties=hm.prototype.I,hm.prototype.unset=hm.prototype.T,hm.prototype.changed=hm.prototype.s,hm.prototype.dispatchEvent=hm.prototype.b,hm.prototype.getRevision=hm.prototype.M,hm.prototype.on=hm.prototype.J,hm.prototype.once=hm.prototype.N,hm.prototype.un=hm.prototype.K,hm.prototype.unByKey=hm.prototype.O,ix.prototype.getAttributions=ix.prototype.za,ix.prototype.getLogo=ix.prototype.ya,ix.prototype.getProjection=ix.prototype.Aa,ix.prototype.getState=ix.prototype.W,ix.prototype.refresh=ix.prototype.wa,ix.prototype.setAttributions=ix.prototype.ua,ix.prototype.get=ix.prototype.get,ix.prototype.getKeys=ix.prototype.S,ix.prototype.getProperties=ix.prototype.R,ix.prototype.set=ix.prototype.set,ix.prototype.setProperties=ix.prototype.I,ix.prototype.unset=ix.prototype.T,ix.prototype.changed=ix.prototype.s,ix.prototype.dispatchEvent=ix.prototype.b,ix.prototype.getRevision=ix.prototype.M,ix.prototype.on=ix.prototype.J,ix.prototype.once=ix.prototype.N,ix.prototype.un=ix.prototype.K,ix.prototype.unByKey=ix.prototype.O,mx.prototype.getTileGrid=mx.prototype.Va,mx.prototype.refresh=mx.prototype.wa,mx.prototype.getAttributions=mx.prototype.za,mx.prototype.getLogo=mx.prototype.ya,mx.prototype.getProjection=mx.prototype.Aa,mx.prototype.getState=mx.prototype.W,mx.prototype.setAttributions=mx.prototype.ua,mx.prototype.get=mx.prototype.get,mx.prototype.getKeys=mx.prototype.S,mx.prototype.getProperties=mx.prototype.R,mx.prototype.set=mx.prototype.set,mx.prototype.setProperties=mx.prototype.I,mx.prototype.unset=mx.prototype.T,mx.prototype.changed=mx.prototype.s,mx.prototype.dispatchEvent=mx.prototype.b,mx.prototype.getRevision=mx.prototype.M,mx.prototype.on=mx.prototype.J,mx.prototype.once=mx.prototype.N,mx.prototype.un=mx.prototype.K,mx.prototype.unByKey=mx.prototype.O,X.prototype.getTileLoadFunction=X.prototype.ib,X.prototype.getTileUrlFunction=X.prototype.kb,X.prototype.getUrls=X.prototype.lb,X.prototype.setTileLoadFunction=X.prototype.sb,X.prototype.setTileUrlFunction=X.prototype.Xa,X.prototype.setUrl=X.prototype.cb,X.prototype.setUrls=X.prototype.Ya,X.prototype.getTileGrid=X.prototype.Va,X.prototype.refresh=X.prototype.wa,X.prototype.getAttributions=X.prototype.za,X.prototype.getLogo=X.prototype.ya,X.prototype.getProjection=X.prototype.Aa,X.prototype.getState=X.prototype.W,X.prototype.setAttributions=X.prototype.ua,X.prototype.get=X.prototype.get,X.prototype.getKeys=X.prototype.S,X.prototype.getProperties=X.prototype.R,X.prototype.set=X.prototype.set,X.prototype.setProperties=X.prototype.I,X.prototype.unset=X.prototype.T,X.prototype.changed=X.prototype.s,X.prototype.dispatchEvent=X.prototype.b,X.prototype.getRevision=X.prototype.M,X.prototype.on=X.prototype.J,X.prototype.once=X.prototype.N,X.prototype.un=X.prototype.K,X.prototype.unByKey=X.prototype.O,qx.prototype.setRenderReprojectionEdges=qx.prototype.Hb,qx.prototype.setTileGridForProjection=qx.prototype.Ib,qx.prototype.getTileLoadFunction=qx.prototype.ib,qx.prototype.getTileUrlFunction=qx.prototype.kb,qx.prototype.getUrls=qx.prototype.lb,qx.prototype.setTileLoadFunction=qx.prototype.sb,qx.prototype.setTileUrlFunction=qx.prototype.Xa,qx.prototype.setUrl=qx.prototype.cb,qx.prototype.setUrls=qx.prototype.Ya,qx.prototype.getTileGrid=qx.prototype.Va,qx.prototype.refresh=qx.prototype.wa,qx.prototype.getAttributions=qx.prototype.za,qx.prototype.getLogo=qx.prototype.ya,qx.prototype.getProjection=qx.prototype.Aa,qx.prototype.getState=qx.prototype.W,qx.prototype.setAttributions=qx.prototype.ua,qx.prototype.get=qx.prototype.get,qx.prototype.getKeys=qx.prototype.S,qx.prototype.getProperties=qx.prototype.R,qx.prototype.set=qx.prototype.set,qx.prototype.setProperties=qx.prototype.I,qx.prototype.unset=qx.prototype.T,qx.prototype.changed=qx.prototype.s,qx.prototype.dispatchEvent=qx.prototype.b,qx.prototype.getRevision=qx.prototype.M,qx.prototype.on=qx.prototype.J,qx.prototype.once=qx.prototype.N,qx.prototype.un=qx.prototype.K,qx.prototype.unByKey=qx.prototype.O,sx.prototype.setRenderReprojectionEdges=sx.prototype.Hb,sx.prototype.setTileGridForProjection=sx.prototype.Ib,sx.prototype.getTileLoadFunction=sx.prototype.ib,sx.prototype.getTileUrlFunction=sx.prototype.kb,sx.prototype.getUrls=sx.prototype.lb,sx.prototype.setTileLoadFunction=sx.prototype.sb,sx.prototype.setTileUrlFunction=sx.prototype.Xa,sx.prototype.setUrl=sx.prototype.cb,sx.prototype.setUrls=sx.prototype.Ya,sx.prototype.getTileGrid=sx.prototype.Va,sx.prototype.refresh=sx.prototype.wa,sx.prototype.getAttributions=sx.prototype.za,sx.prototype.getLogo=sx.prototype.ya,sx.prototype.getProjection=sx.prototype.Aa,sx.prototype.getState=sx.prototype.W,sx.prototype.setAttributions=sx.prototype.ua,sx.prototype.get=sx.prototype.get,sx.prototype.getKeys=sx.prototype.S,sx.prototype.getProperties=sx.prototype.R,sx.prototype.set=sx.prototype.set,sx.prototype.setProperties=sx.prototype.I,sx.prototype.unset=sx.prototype.T,sx.prototype.changed=sx.prototype.s,sx.prototype.dispatchEvent=sx.prototype.b,sx.prototype.getRevision=sx.prototype.M,sx.prototype.on=sx.prototype.J,sx.prototype.once=sx.prototype.N,sx.prototype.un=sx.prototype.K,sx.prototype.unByKey=sx.prototype.O,tx.prototype.setRenderReprojectionEdges=tx.prototype.Hb,tx.prototype.setTileGridForProjection=tx.prototype.Ib,tx.prototype.getTileLoadFunction=tx.prototype.ib,tx.prototype.getTileUrlFunction=tx.prototype.kb,tx.prototype.getUrls=tx.prototype.lb,tx.prototype.setTileLoadFunction=tx.prototype.sb,tx.prototype.setTileUrlFunction=tx.prototype.Xa,tx.prototype.setUrl=tx.prototype.cb,tx.prototype.setUrls=tx.prototype.Ya,tx.prototype.getTileGrid=tx.prototype.Va,tx.prototype.refresh=tx.prototype.wa,tx.prototype.getAttributions=tx.prototype.za,tx.prototype.getLogo=tx.prototype.ya,tx.prototype.getProjection=tx.prototype.Aa,tx.prototype.getState=tx.prototype.W,tx.prototype.setAttributions=tx.prototype.ua,tx.prototype.get=tx.prototype.get,tx.prototype.getKeys=tx.prototype.S,tx.prototype.getProperties=tx.prototype.R,tx.prototype.set=tx.prototype.set,tx.prototype.setProperties=tx.prototype.I,tx.prototype.unset=tx.prototype.T,tx.prototype.changed=tx.prototype.s,tx.prototype.dispatchEvent=tx.prototype.b,tx.prototype.getRevision=tx.prototype.M,tx.prototype.on=tx.prototype.J,tx.prototype.once=tx.prototype.N,tx.prototype.un=tx.prototype.K,tx.prototype.unByKey=tx.prototype.O,U.prototype.getAttributions=U.prototype.za,U.prototype.getLogo=U.prototype.ya,U.prototype.getProjection=U.prototype.Aa,U.prototype.getState=U.prototype.W,U.prototype.refresh=U.prototype.wa,U.prototype.setAttributions=U.prototype.ua,U.prototype.get=U.prototype.get,U.prototype.getKeys=U.prototype.S,U.prototype.getProperties=U.prototype.R,U.prototype.set=U.prototype.set,U.prototype.setProperties=U.prototype.I,U.prototype.unset=U.prototype.T,U.prototype.changed=U.prototype.s,U.prototype.dispatchEvent=U.prototype.b,U.prototype.getRevision=U.prototype.M,U.prototype.on=U.prototype.J,U.prototype.once=U.prototype.N,U.prototype.un=U.prototype.K,U.prototype.unByKey=U.prototype.O,Y.prototype.addFeature=Y.prototype.gb,Y.prototype.addFeatures=Y.prototype.Tc,Y.prototype.clear=Y.prototype.clear,Y.prototype.forEachFeature=Y.prototype.Fg,Y.prototype.forEachFeatureInExtent=Y.prototype.Qb,Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.Gg,Y.prototype.getFeaturesCollection=Y.prototype.Og,Y.prototype.getFeatures=Y.prototype.we,Y.prototype.getFeaturesAtCoordinate=Y.prototype.Ng,Y.prototype.getFeaturesInExtent=Y.prototype.nf,Y.prototype.getClosestFeatureToCoordinate=Y.prototype.Jg,Y.prototype.getExtent=Y.prototype.G,Y.prototype.getFeatureById=Y.prototype.Mg,Y.prototype.getFormat=Y.prototype.Kh,Y.prototype.getUrl=Y.prototype.Lh,Y.prototype.removeFeature=Y.prototype.rb,Y.prototype.getAttributions=Y.prototype.za,Y.prototype.getLogo=Y.prototype.ya,Y.prototype.getProjection=Y.prototype.Aa,Y.prototype.getState=Y.prototype.W,Y.prototype.refresh=Y.prototype.wa,Y.prototype.setAttributions=Y.prototype.ua,Y.prototype.get=Y.prototype.get,Y.prototype.getKeys=Y.prototype.S,Y.prototype.getProperties=Y.prototype.R,Y.prototype.set=Y.prototype.set,Y.prototype.setProperties=Y.prototype.I,Y.prototype.unset=Y.prototype.T,Y.prototype.changed=Y.prototype.s,Y.prototype.dispatchEvent=Y.prototype.b,Y.prototype.getRevision=Y.prototype.M,Y.prototype.on=Y.prototype.J,Y.prototype.once=Y.prototype.N,Y.prototype.un=Y.prototype.K,Y.prototype.unByKey=Y.prototype.O,km.prototype.getAttributions=km.prototype.za,km.prototype.getLogo=km.prototype.ya,km.prototype.getProjection=km.prototype.Aa,km.prototype.getState=km.prototype.W,km.prototype.refresh=km.prototype.wa,km.prototype.setAttributions=km.prototype.ua,km.prototype.get=km.prototype.get,km.prototype.getKeys=km.prototype.S,km.prototype.getProperties=km.prototype.R,km.prototype.set=km.prototype.set,km.prototype.setProperties=km.prototype.I,km.prototype.unset=km.prototype.T,km.prototype.changed=km.prototype.s,km.prototype.dispatchEvent=km.prototype.b,km.prototype.getRevision=km.prototype.M,km.prototype.on=km.prototype.J,km.prototype.once=km.prototype.N,km.prototype.un=km.prototype.K,km.prototype.unByKey=km.prototype.O,mm.prototype.type=mm.prototype.type,mm.prototype.target=mm.prototype.target,mm.prototype.preventDefault=mm.prototype.preventDefault,mm.prototype.stopPropagation=mm.prototype.stopPropagation,zx.prototype.getAttributions=zx.prototype.za,zx.prototype.getLogo=zx.prototype.ya,zx.prototype.getProjection=zx.prototype.Aa,zx.prototype.getState=zx.prototype.W,zx.prototype.refresh=zx.prototype.wa,zx.prototype.setAttributions=zx.prototype.ua,zx.prototype.get=zx.prototype.get,zx.prototype.getKeys=zx.prototype.S,zx.prototype.getProperties=zx.prototype.R,zx.prototype.set=zx.prototype.set,
zx.prototype.setProperties=zx.prototype.I,zx.prototype.unset=zx.prototype.T,zx.prototype.changed=zx.prototype.s,zx.prototype.dispatchEvent=zx.prototype.b,zx.prototype.getRevision=zx.prototype.M,zx.prototype.on=zx.prototype.J,zx.prototype.once=zx.prototype.N,zx.prototype.un=zx.prototype.K,zx.prototype.unByKey=zx.prototype.O,rm.prototype.getAttributions=rm.prototype.za,rm.prototype.getLogo=rm.prototype.ya,rm.prototype.getProjection=rm.prototype.Aa,rm.prototype.getState=rm.prototype.W,rm.prototype.refresh=rm.prototype.wa,rm.prototype.setAttributions=rm.prototype.ua,rm.prototype.get=rm.prototype.get,rm.prototype.getKeys=rm.prototype.S,rm.prototype.getProperties=rm.prototype.R,rm.prototype.set=rm.prototype.set,rm.prototype.setProperties=rm.prototype.I,rm.prototype.unset=rm.prototype.T,rm.prototype.changed=rm.prototype.s,rm.prototype.dispatchEvent=rm.prototype.b,rm.prototype.getRevision=rm.prototype.M,rm.prototype.on=rm.prototype.J,rm.prototype.once=rm.prototype.N,rm.prototype.un=rm.prototype.K,rm.prototype.unByKey=rm.prototype.O,Ax.prototype.getAttributions=Ax.prototype.za,Ax.prototype.getLogo=Ax.prototype.ya,Ax.prototype.getProjection=Ax.prototype.Aa,Ax.prototype.getState=Ax.prototype.W,Ax.prototype.refresh=Ax.prototype.wa,Ax.prototype.setAttributions=Ax.prototype.ua,Ax.prototype.get=Ax.prototype.get,Ax.prototype.getKeys=Ax.prototype.S,Ax.prototype.getProperties=Ax.prototype.R,Ax.prototype.set=Ax.prototype.set,Ax.prototype.setProperties=Ax.prototype.I,Ax.prototype.unset=Ax.prototype.T,Ax.prototype.changed=Ax.prototype.s,Ax.prototype.dispatchEvent=Ax.prototype.b,Ax.prototype.getRevision=Ax.prototype.M,Ax.prototype.on=Ax.prototype.J,Ax.prototype.once=Ax.prototype.N,Ax.prototype.un=Ax.prototype.K,Ax.prototype.unByKey=Ax.prototype.O,Bx.prototype.getAttributions=Bx.prototype.za,Bx.prototype.getLogo=Bx.prototype.ya,Bx.prototype.getProjection=Bx.prototype.Aa,Bx.prototype.getState=Bx.prototype.W,Bx.prototype.refresh=Bx.prototype.wa,Bx.prototype.setAttributions=Bx.prototype.ua,Bx.prototype.get=Bx.prototype.get,Bx.prototype.getKeys=Bx.prototype.S,Bx.prototype.getProperties=Bx.prototype.R,Bx.prototype.set=Bx.prototype.set,Bx.prototype.setProperties=Bx.prototype.I,Bx.prototype.unset=Bx.prototype.T,Bx.prototype.changed=Bx.prototype.s,Bx.prototype.dispatchEvent=Bx.prototype.b,Bx.prototype.getRevision=Bx.prototype.M,Bx.prototype.on=Bx.prototype.J,Bx.prototype.once=Bx.prototype.N,Bx.prototype.un=Bx.prototype.K,Bx.prototype.unByKey=Bx.prototype.O,sm.prototype.getAttributions=sm.prototype.za,sm.prototype.getLogo=sm.prototype.ya,sm.prototype.getProjection=sm.prototype.Aa,sm.prototype.getState=sm.prototype.W,sm.prototype.refresh=sm.prototype.wa,sm.prototype.setAttributions=sm.prototype.ua,sm.prototype.get=sm.prototype.get,sm.prototype.getKeys=sm.prototype.S,sm.prototype.getProperties=sm.prototype.R,sm.prototype.set=sm.prototype.set,sm.prototype.setProperties=sm.prototype.I,sm.prototype.unset=sm.prototype.T,sm.prototype.changed=sm.prototype.s,sm.prototype.dispatchEvent=sm.prototype.b,sm.prototype.getRevision=sm.prototype.M,sm.prototype.on=sm.prototype.J,sm.prototype.once=sm.prototype.N,sm.prototype.un=sm.prototype.K,sm.prototype.unByKey=sm.prototype.O,Cx.prototype.getAttributions=Cx.prototype.za,Cx.prototype.getLogo=Cx.prototype.ya,Cx.prototype.getProjection=Cx.prototype.Aa,Cx.prototype.getState=Cx.prototype.W,Cx.prototype.refresh=Cx.prototype.wa,Cx.prototype.setAttributions=Cx.prototype.ua,Cx.prototype.get=Cx.prototype.get,Cx.prototype.getKeys=Cx.prototype.S,Cx.prototype.getProperties=Cx.prototype.R,Cx.prototype.set=Cx.prototype.set,Cx.prototype.setProperties=Cx.prototype.I,Cx.prototype.unset=Cx.prototype.T,Cx.prototype.changed=Cx.prototype.s,Cx.prototype.dispatchEvent=Cx.prototype.b,Cx.prototype.getRevision=Cx.prototype.M,Cx.prototype.on=Cx.prototype.J,Cx.prototype.once=Cx.prototype.N,Cx.prototype.un=Cx.prototype.K,Cx.prototype.unByKey=Cx.prototype.O,Gx.prototype.setRenderReprojectionEdges=Gx.prototype.Hb,Gx.prototype.setTileGridForProjection=Gx.prototype.Ib,Gx.prototype.getTileLoadFunction=Gx.prototype.ib,Gx.prototype.getTileUrlFunction=Gx.prototype.kb,Gx.prototype.getUrls=Gx.prototype.lb,Gx.prototype.setTileLoadFunction=Gx.prototype.sb,Gx.prototype.setTileUrlFunction=Gx.prototype.Xa,Gx.prototype.setUrl=Gx.prototype.cb,Gx.prototype.setUrls=Gx.prototype.Ya,Gx.prototype.getTileGrid=Gx.prototype.Va,Gx.prototype.refresh=Gx.prototype.wa,Gx.prototype.getAttributions=Gx.prototype.za,Gx.prototype.getLogo=Gx.prototype.ya,Gx.prototype.getProjection=Gx.prototype.Aa,Gx.prototype.getState=Gx.prototype.W,Gx.prototype.setAttributions=Gx.prototype.ua,Gx.prototype.get=Gx.prototype.get,Gx.prototype.getKeys=Gx.prototype.S,Gx.prototype.getProperties=Gx.prototype.R,Gx.prototype.set=Gx.prototype.set,Gx.prototype.setProperties=Gx.prototype.I,Gx.prototype.unset=Gx.prototype.T,Gx.prototype.changed=Gx.prototype.s,Gx.prototype.dispatchEvent=Gx.prototype.b,Gx.prototype.getRevision=Gx.prototype.M,Gx.prototype.on=Gx.prototype.J,Gx.prototype.once=Gx.prototype.N,Gx.prototype.un=Gx.prototype.K,Gx.prototype.unByKey=Gx.prototype.O,Ix.prototype.getAttributions=Ix.prototype.za,Ix.prototype.getLogo=Ix.prototype.ya,Ix.prototype.getProjection=Ix.prototype.Aa,Ix.prototype.getState=Ix.prototype.W,Ix.prototype.refresh=Ix.prototype.wa,Ix.prototype.setAttributions=Ix.prototype.ua,Ix.prototype.get=Ix.prototype.get,Ix.prototype.getKeys=Ix.prototype.S,Ix.prototype.getProperties=Ix.prototype.R,Ix.prototype.set=Ix.prototype.set,Ix.prototype.setProperties=Ix.prototype.I,Ix.prototype.unset=Ix.prototype.T,Ix.prototype.changed=Ix.prototype.s,Ix.prototype.dispatchEvent=Ix.prototype.b,Ix.prototype.getRevision=Ix.prototype.M,Ix.prototype.on=Ix.prototype.J,Ix.prototype.once=Ix.prototype.N,Ix.prototype.un=Ix.prototype.K,Ix.prototype.unByKey=Ix.prototype.O,Px.prototype.type=Px.prototype.type,Px.prototype.target=Px.prototype.target,Px.prototype.preventDefault=Px.prototype.preventDefault,Px.prototype.stopPropagation=Px.prototype.stopPropagation,Sx.prototype.setRenderReprojectionEdges=Sx.prototype.Hb,Sx.prototype.setTileGridForProjection=Sx.prototype.Ib,Sx.prototype.getTileLoadFunction=Sx.prototype.ib,Sx.prototype.getTileUrlFunction=Sx.prototype.kb,Sx.prototype.getUrls=Sx.prototype.lb,Sx.prototype.setTileLoadFunction=Sx.prototype.sb,Sx.prototype.setTileUrlFunction=Sx.prototype.Xa,Sx.prototype.setUrl=Sx.prototype.cb,Sx.prototype.setUrls=Sx.prototype.Ya,Sx.prototype.getTileGrid=Sx.prototype.Va,Sx.prototype.refresh=Sx.prototype.wa,Sx.prototype.getAttributions=Sx.prototype.za,Sx.prototype.getLogo=Sx.prototype.ya,Sx.prototype.getProjection=Sx.prototype.Aa,Sx.prototype.getState=Sx.prototype.W,Sx.prototype.setAttributions=Sx.prototype.ua,Sx.prototype.get=Sx.prototype.get,Sx.prototype.getKeys=Sx.prototype.S,Sx.prototype.getProperties=Sx.prototype.R,Sx.prototype.set=Sx.prototype.set,Sx.prototype.setProperties=Sx.prototype.I,Sx.prototype.unset=Sx.prototype.T,Sx.prototype.changed=Sx.prototype.s,Sx.prototype.dispatchEvent=Sx.prototype.b,Sx.prototype.getRevision=Sx.prototype.M,Sx.prototype.on=Sx.prototype.J,Sx.prototype.once=Sx.prototype.N,Sx.prototype.un=Sx.prototype.K,Sx.prototype.unByKey=Sx.prototype.O,lx.prototype.type=lx.prototype.type,lx.prototype.target=lx.prototype.target,lx.prototype.preventDefault=lx.prototype.preventDefault,lx.prototype.stopPropagation=lx.prototype.stopPropagation,Wx.prototype.setRenderReprojectionEdges=Wx.prototype.Hb,Wx.prototype.setTileGridForProjection=Wx.prototype.Ib,Wx.prototype.getTileLoadFunction=Wx.prototype.ib,Wx.prototype.getTileUrlFunction=Wx.prototype.kb,Wx.prototype.getUrls=Wx.prototype.lb,Wx.prototype.setTileLoadFunction=Wx.prototype.sb,Wx.prototype.setTileUrlFunction=Wx.prototype.Xa,Wx.prototype.setUrl=Wx.prototype.cb,Wx.prototype.setUrls=Wx.prototype.Ya,Wx.prototype.getTileGrid=Wx.prototype.Va,Wx.prototype.refresh=Wx.prototype.wa,Wx.prototype.getAttributions=Wx.prototype.za,Wx.prototype.getLogo=Wx.prototype.ya,Wx.prototype.getProjection=Wx.prototype.Aa,Wx.prototype.getState=Wx.prototype.W,Wx.prototype.setAttributions=Wx.prototype.ua,Wx.prototype.get=Wx.prototype.get,Wx.prototype.getKeys=Wx.prototype.S,Wx.prototype.getProperties=Wx.prototype.R,Wx.prototype.set=Wx.prototype.set,Wx.prototype.setProperties=Wx.prototype.I,Wx.prototype.unset=Wx.prototype.T,Wx.prototype.changed=Wx.prototype.s,Wx.prototype.dispatchEvent=Wx.prototype.b,Wx.prototype.getRevision=Wx.prototype.M,Wx.prototype.on=Wx.prototype.J,Wx.prototype.once=Wx.prototype.N,Wx.prototype.un=Wx.prototype.K,Wx.prototype.unByKey=Wx.prototype.O,Yx.prototype.getTileGrid=Yx.prototype.Va,Yx.prototype.refresh=Yx.prototype.wa,Yx.prototype.getAttributions=Yx.prototype.za,Yx.prototype.getLogo=Yx.prototype.ya,Yx.prototype.getProjection=Yx.prototype.Aa,Yx.prototype.getState=Yx.prototype.W,Yx.prototype.setAttributions=Yx.prototype.ua,Yx.prototype.get=Yx.prototype.get,Yx.prototype.getKeys=Yx.prototype.S,Yx.prototype.getProperties=Yx.prototype.R,Yx.prototype.set=Yx.prototype.set,Yx.prototype.setProperties=Yx.prototype.I,Yx.prototype.unset=Yx.prototype.T,Yx.prototype.changed=Yx.prototype.s,Yx.prototype.dispatchEvent=Yx.prototype.b,Yx.prototype.getRevision=Yx.prototype.M,Yx.prototype.on=Yx.prototype.J,Yx.prototype.once=Yx.prototype.N,Yx.prototype.un=Yx.prototype.K,Yx.prototype.unByKey=Yx.prototype.O,$x.prototype.setRenderReprojectionEdges=$x.prototype.Hb,$x.prototype.setTileGridForProjection=$x.prototype.Ib,$x.prototype.getTileLoadFunction=$x.prototype.ib,$x.prototype.getTileUrlFunction=$x.prototype.kb,$x.prototype.getUrls=$x.prototype.lb,$x.prototype.setTileLoadFunction=$x.prototype.sb,$x.prototype.setTileUrlFunction=$x.prototype.Xa,$x.prototype.setUrl=$x.prototype.cb,$x.prototype.setUrls=$x.prototype.Ya,$x.prototype.getTileGrid=$x.prototype.Va,$x.prototype.refresh=$x.prototype.wa,$x.prototype.getAttributions=$x.prototype.za,$x.prototype.getLogo=$x.prototype.ya,$x.prototype.getProjection=$x.prototype.Aa,$x.prototype.getState=$x.prototype.W,$x.prototype.setAttributions=$x.prototype.ua,$x.prototype.get=$x.prototype.get,$x.prototype.getKeys=$x.prototype.S,$x.prototype.getProperties=$x.prototype.R,$x.prototype.set=$x.prototype.set,$x.prototype.setProperties=$x.prototype.I,$x.prototype.unset=$x.prototype.T,$x.prototype.changed=$x.prototype.s,$x.prototype.dispatchEvent=$x.prototype.b,$x.prototype.getRevision=$x.prototype.M,$x.prototype.on=$x.prototype.J,$x.prototype.once=$x.prototype.N,$x.prototype.un=$x.prototype.K,$x.prototype.unByKey=$x.prototype.O,ay.prototype.getTileGrid=ay.prototype.Va,ay.prototype.refresh=ay.prototype.wa,ay.prototype.getAttributions=ay.prototype.za,ay.prototype.getLogo=ay.prototype.ya,ay.prototype.getProjection=ay.prototype.Aa,ay.prototype.getState=ay.prototype.W,ay.prototype.setAttributions=ay.prototype.ua,ay.prototype.get=ay.prototype.get,ay.prototype.getKeys=ay.prototype.S,ay.prototype.getProperties=ay.prototype.R,ay.prototype.set=ay.prototype.set,ay.prototype.setProperties=ay.prototype.I,ay.prototype.unset=ay.prototype.T,ay.prototype.changed=ay.prototype.s,ay.prototype.dispatchEvent=ay.prototype.b,ay.prototype.getRevision=ay.prototype.M,ay.prototype.on=ay.prototype.J,ay.prototype.once=ay.prototype.N,ay.prototype.un=ay.prototype.K,ay.prototype.unByKey=ay.prototype.O,ey.prototype.setRenderReprojectionEdges=ey.prototype.Hb,ey.prototype.setTileGridForProjection=ey.prototype.Ib,ey.prototype.getTileLoadFunction=ey.prototype.ib,ey.prototype.getTileUrlFunction=ey.prototype.kb,ey.prototype.getUrls=ey.prototype.lb,ey.prototype.setTileLoadFunction=ey.prototype.sb,ey.prototype.setTileUrlFunction=ey.prototype.Xa,ey.prototype.setUrl=ey.prototype.cb,ey.prototype.setUrls=ey.prototype.Ya,ey.prototype.getTileGrid=ey.prototype.Va,ey.prototype.refresh=ey.prototype.wa,ey.prototype.getAttributions=ey.prototype.za,ey.prototype.getLogo=ey.prototype.ya,ey.prototype.getProjection=ey.prototype.Aa,ey.prototype.getState=ey.prototype.W,ey.prototype.setAttributions=ey.prototype.ua,ey.prototype.get=ey.prototype.get,ey.prototype.getKeys=ey.prototype.S,ey.prototype.getProperties=ey.prototype.R,ey.prototype.set=ey.prototype.set,ey.prototype.setProperties=ey.prototype.I,ey.prototype.unset=ey.prototype.T,ey.prototype.changed=ey.prototype.s,ey.prototype.dispatchEvent=ey.prototype.b,ey.prototype.getRevision=ey.prototype.M,ey.prototype.on=ey.prototype.J,ey.prototype.once=ey.prototype.N,ey.prototype.un=ey.prototype.K,ey.prototype.unByKey=ey.prototype.O,Bv.prototype.type=Bv.prototype.type,Bv.prototype.target=Bv.prototype.target,Bv.prototype.preventDefault=Bv.prototype.preventDefault,Bv.prototype.stopPropagation=Bv.prototype.stopPropagation,ly.prototype.getTileLoadFunction=ly.prototype.ib,ly.prototype.getTileUrlFunction=ly.prototype.kb,ly.prototype.getUrls=ly.prototype.lb,ly.prototype.setTileLoadFunction=ly.prototype.sb,ly.prototype.setTileUrlFunction=ly.prototype.Xa,ly.prototype.setUrl=ly.prototype.cb,ly.prototype.setUrls=ly.prototype.Ya,ly.prototype.getTileGrid=ly.prototype.Va,ly.prototype.refresh=ly.prototype.wa,ly.prototype.getAttributions=ly.prototype.za,ly.prototype.getLogo=ly.prototype.ya,ly.prototype.getProjection=ly.prototype.Aa,ly.prototype.getState=ly.prototype.W,ly.prototype.setAttributions=ly.prototype.ua,ly.prototype.get=ly.prototype.get,ly.prototype.getKeys=ly.prototype.S,ly.prototype.getProperties=ly.prototype.R,ly.prototype.set=ly.prototype.set,ly.prototype.setProperties=ly.prototype.I,ly.prototype.unset=ly.prototype.T,ly.prototype.changed=ly.prototype.s,ly.prototype.dispatchEvent=ly.prototype.b,ly.prototype.getRevision=ly.prototype.M,ly.prototype.on=ly.prototype.J,ly.prototype.once=ly.prototype.N,ly.prototype.un=ly.prototype.K,ly.prototype.unByKey=ly.prototype.O,Z.prototype.setRenderReprojectionEdges=Z.prototype.Hb,Z.prototype.setTileGridForProjection=Z.prototype.Ib,Z.prototype.getTileLoadFunction=Z.prototype.ib,Z.prototype.getTileUrlFunction=Z.prototype.kb,Z.prototype.getUrls=Z.prototype.lb,Z.prototype.setTileLoadFunction=Z.prototype.sb,Z.prototype.setTileUrlFunction=Z.prototype.Xa,Z.prototype.setUrl=Z.prototype.cb,Z.prototype.setUrls=Z.prototype.Ya,Z.prototype.getTileGrid=Z.prototype.Va,Z.prototype.refresh=Z.prototype.wa,Z.prototype.getAttributions=Z.prototype.za,Z.prototype.getLogo=Z.prototype.ya,Z.prototype.getProjection=Z.prototype.Aa,Z.prototype.getState=Z.prototype.W,Z.prototype.setAttributions=Z.prototype.ua,Z.prototype.get=Z.prototype.get,Z.prototype.getKeys=Z.prototype.S,Z.prototype.getProperties=Z.prototype.R,Z.prototype.set=Z.prototype.set,Z.prototype.setProperties=Z.prototype.I,Z.prototype.unset=Z.prototype.T,Z.prototype.changed=Z.prototype.s,Z.prototype.dispatchEvent=Z.prototype.b,Z.prototype.getRevision=Z.prototype.M,Z.prototype.on=Z.prototype.J,Z.prototype.once=Z.prototype.N,Z.prototype.un=Z.prototype.K,Z.prototype.unByKey=Z.prototype.O,qy.prototype.setRenderReprojectionEdges=qy.prototype.Hb,qy.prototype.setTileGridForProjection=qy.prototype.Ib,qy.prototype.getTileLoadFunction=qy.prototype.ib,qy.prototype.getTileUrlFunction=qy.prototype.kb,qy.prototype.getUrls=qy.prototype.lb,qy.prototype.setTileLoadFunction=qy.prototype.sb,qy.prototype.setTileUrlFunction=qy.prototype.Xa,qy.prototype.setUrl=qy.prototype.cb,qy.prototype.setUrls=qy.prototype.Ya,qy.prototype.getTileGrid=qy.prototype.Va,qy.prototype.refresh=qy.prototype.wa,qy.prototype.getAttributions=qy.prototype.za,qy.prototype.getLogo=qy.prototype.ya,qy.prototype.getProjection=qy.prototype.Aa,qy.prototype.getState=qy.prototype.W,qy.prototype.setAttributions=qy.prototype.ua,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.S,qy.prototype.getProperties=qy.prototype.R,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.I,qy.prototype.unset=qy.prototype.T,qy.prototype.changed=qy.prototype.s,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.M,qy.prototype.on=qy.prototype.J,qy.prototype.once=qy.prototype.N,qy.prototype.un=qy.prototype.K,qy.prototype.unByKey=qy.prototype.O,ax.prototype.getTileCoord=ax.prototype.c,ax.prototype.load=ax.prototype.load,Ui.prototype.changed=Ui.prototype.s,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.M,Ui.prototype.on=Ui.prototype.J,Ui.prototype.once=Ui.prototype.N,Ui.prototype.un=Ui.prototype.K,Ui.prototype.unByKey=Ui.prototype.O,Ul.prototype.changed=Ul.prototype.s,Ul.prototype.dispatchEvent=Ul.prototype.b,Ul.prototype.getRevision=Ul.prototype.M,Ul.prototype.on=Ul.prototype.J,Ul.prototype.once=Ul.prototype.N,Ul.prototype.un=Ul.prototype.K,Ul.prototype.unByKey=Ul.prototype.O,um.prototype.changed=um.prototype.s,um.prototype.dispatchEvent=um.prototype.b,um.prototype.getRevision=um.prototype.M,um.prototype.on=um.prototype.J,um.prototype.once=um.prototype.N,um.prototype.un=um.prototype.K,um.prototype.unByKey=um.prototype.O,Cm.prototype.changed=Cm.prototype.s,Cm.prototype.dispatchEvent=Cm.prototype.b,Cm.prototype.getRevision=Cm.prototype.M,Cm.prototype.on=Cm.prototype.J,Cm.prototype.once=Cm.prototype.N,Cm.prototype.un=Cm.prototype.K,Cm.prototype.unByKey=Cm.prototype.O,Em.prototype.changed=Em.prototype.s,Em.prototype.dispatchEvent=Em.prototype.b,Em.prototype.getRevision=Em.prototype.M,Em.prototype.on=Em.prototype.J,Em.prototype.once=Em.prototype.N,Em.prototype.un=Em.prototype.K,Em.prototype.unByKey=Em.prototype.O,cj.prototype.changed=cj.prototype.s,cj.prototype.dispatchEvent=cj.prototype.b,cj.prototype.getRevision=cj.prototype.M,cj.prototype.on=cj.prototype.J,cj.prototype.once=cj.prototype.N,cj.prototype.un=cj.prototype.K,cj.prototype.unByKey=cj.prototype.O,gj.prototype.changed=gj.prototype.s,gj.prototype.dispatchEvent=gj.prototype.b,gj.prototype.getRevision=gj.prototype.M,gj.prototype.on=gj.prototype.J,gj.prototype.once=gj.prototype.N,gj.prototype.un=gj.prototype.K,gj.prototype.unByKey=gj.prototype.O,hj.prototype.changed=hj.prototype.s,hj.prototype.dispatchEvent=hj.prototype.b,hj.prototype.getRevision=hj.prototype.M,hj.prototype.on=hj.prototype.J,hj.prototype.once=hj.prototype.N,hj.prototype.un=hj.prototype.K,hj.prototype.unByKey=hj.prototype.O,ij.prototype.changed=ij.prototype.s,ij.prototype.dispatchEvent=ij.prototype.b,ij.prototype.getRevision=ij.prototype.M,ij.prototype.on=ij.prototype.J,ij.prototype.once=ij.prototype.N,ij.prototype.un=ij.prototype.K,ij.prototype.unByKey=ij.prototype.O,Nj.prototype.changed=Nj.prototype.s,Nj.prototype.dispatchEvent=Nj.prototype.b,Nj.prototype.getRevision=Nj.prototype.M,Nj.prototype.on=Nj.prototype.J,Nj.prototype.once=Nj.prototype.N,Nj.prototype.un=Nj.prototype.K,Nj.prototype.unByKey=Nj.prototype.O,Oj.prototype.changed=Oj.prototype.s,Oj.prototype.dispatchEvent=Oj.prototype.b,Oj.prototype.getRevision=Oj.prototype.M,Oj.prototype.on=Oj.prototype.J,Oj.prototype.once=Oj.prototype.N,Oj.prototype.un=Oj.prototype.K,Oj.prototype.unByKey=Oj.prototype.O,Jh.prototype.type=Jh.prototype.type,Jh.prototype.target=Jh.prototype.target,Jh.prototype.preventDefault=Jh.prototype.preventDefault,Jh.prototype.stopPropagation=Jh.prototype.stopPropagation,If.prototype.type=If.prototype.type,If.prototype.target=If.prototype.target,If.prototype.preventDefault=If.prototype.preventDefault,If.prototype.stopPropagation=If.prototype.stopPropagation,qh.prototype.get=qh.prototype.get,qh.prototype.getKeys=qh.prototype.S,qh.prototype.getProperties=qh.prototype.R,qh.prototype.set=qh.prototype.set,qh.prototype.setProperties=qh.prototype.I,qh.prototype.unset=qh.prototype.T,qh.prototype.changed=qh.prototype.s,qh.prototype.dispatchEvent=qh.prototype.b,qh.prototype.getRevision=qh.prototype.M,qh.prototype.on=qh.prototype.J,qh.prototype.once=qh.prototype.N,qh.prototype.un=qh.prototype.K,qh.prototype.unByKey=qh.prototype.O,yh.prototype.getExtent=yh.prototype.G,yh.prototype.getMaxResolution=yh.prototype.Wb,yh.prototype.getMinResolution=yh.prototype.Xb,yh.prototype.getOpacity=yh.prototype.Yb,yh.prototype.getVisible=yh.prototype.Fb,yh.prototype.getZIndex=yh.prototype.Zb,yh.prototype.setExtent=yh.prototype.kc,yh.prototype.setMaxResolution=yh.prototype.pc,yh.prototype.setMinResolution=yh.prototype.qc,yh.prototype.setOpacity=yh.prototype.lc,yh.prototype.setVisible=yh.prototype.mc,yh.prototype.setZIndex=yh.prototype.nc,yh.prototype.get=yh.prototype.get,yh.prototype.getKeys=yh.prototype.S,yh.prototype.getProperties=yh.prototype.R,yh.prototype.set=yh.prototype.set,yh.prototype.setProperties=yh.prototype.I,yh.prototype.unset=yh.prototype.T,yh.prototype.changed=yh.prototype.s,yh.prototype.dispatchEvent=yh.prototype.b,yh.prototype.getRevision=yh.prototype.M,yh.prototype.on=yh.prototype.J,yh.prototype.once=yh.prototype.N,yh.prototype.un=yh.prototype.K,yh.prototype.unByKey=yh.prototype.O,Kh.prototype.getExtent=Kh.prototype.G,Kh.prototype.getMaxResolution=Kh.prototype.Wb,Kh.prototype.getMinResolution=Kh.prototype.Xb,Kh.prototype.getOpacity=Kh.prototype.Yb,Kh.prototype.getVisible=Kh.prototype.Fb,Kh.prototype.getZIndex=Kh.prototype.Zb,Kh.prototype.setExtent=Kh.prototype.kc,Kh.prototype.setMaxResolution=Kh.prototype.pc,Kh.prototype.setMinResolution=Kh.prototype.qc,Kh.prototype.setOpacity=Kh.prototype.lc,Kh.prototype.setVisible=Kh.prototype.mc,Kh.prototype.setZIndex=Kh.prototype.nc,Kh.prototype.get=Kh.prototype.get,Kh.prototype.getKeys=Kh.prototype.S,Kh.prototype.getProperties=Kh.prototype.R,Kh.prototype.set=Kh.prototype.set,Kh.prototype.setProperties=Kh.prototype.I,Kh.prototype.unset=Kh.prototype.T,Kh.prototype.changed=Kh.prototype.s,Kh.prototype.dispatchEvent=Kh.prototype.b,Kh.prototype.getRevision=Kh.prototype.M,Kh.prototype.on=Kh.prototype.J,Kh.prototype.once=Kh.prototype.N,Kh.prototype.un=Kh.prototype.K,Kh.prototype.unByKey=Kh.prototype.O,G.prototype.setMap=G.prototype.setMap,G.prototype.setSource=G.prototype.Pc,G.prototype.getExtent=G.prototype.G,G.prototype.getMaxResolution=G.prototype.Wb,G.prototype.getMinResolution=G.prototype.Xb,G.prototype.getOpacity=G.prototype.Yb,G.prototype.getVisible=G.prototype.Fb,G.prototype.getZIndex=G.prototype.Zb,G.prototype.setExtent=G.prototype.kc,G.prototype.setMaxResolution=G.prototype.pc,G.prototype.setMinResolution=G.prototype.qc,G.prototype.setOpacity=G.prototype.lc,G.prototype.setVisible=G.prototype.mc,G.prototype.setZIndex=G.prototype.nc,G.prototype.get=G.prototype.get,G.prototype.getKeys=G.prototype.S,G.prototype.getProperties=G.prototype.R,G.prototype.set=G.prototype.set,G.prototype.setProperties=G.prototype.I,G.prototype.unset=G.prototype.T,G.prototype.changed=G.prototype.s,G.prototype.dispatchEvent=G.prototype.b,G.prototype.getRevision=G.prototype.M,G.prototype.on=G.prototype.J,G.prototype.once=G.prototype.N,G.prototype.un=G.prototype.K,G.prototype.unByKey=G.prototype.O,V.prototype.getSource=V.prototype.la,V.prototype.getStyle=V.prototype.D,V.prototype.getStyleFunction=V.prototype.L,V.prototype.setStyle=V.prototype.l,V.prototype.setMap=V.prototype.setMap,V.prototype.setSource=V.prototype.Pc,V.prototype.getExtent=V.prototype.G,V.prototype.getMaxResolution=V.prototype.Wb,V.prototype.getMinResolution=V.prototype.Xb,V.prototype.getOpacity=V.prototype.Yb,V.prototype.getVisible=V.prototype.Fb,V.prototype.getZIndex=V.prototype.Zb,V.prototype.setExtent=V.prototype.kc,V.prototype.setMaxResolution=V.prototype.pc,V.prototype.setMinResolution=V.prototype.qc,V.prototype.setOpacity=V.prototype.lc,V.prototype.setVisible=V.prototype.mc,V.prototype.setZIndex=V.prototype.nc,V.prototype.get=V.prototype.get,V.prototype.getKeys=V.prototype.S,V.prototype.getProperties=V.prototype.R,V.prototype.set=V.prototype.set,V.prototype.setProperties=V.prototype.I,V.prototype.unset=V.prototype.T,V.prototype.changed=V.prototype.s,V.prototype.dispatchEvent=V.prototype.b,V.prototype.getRevision=V.prototype.M,V.prototype.on=V.prototype.J,V.prototype.once=V.prototype.N,V.prototype.un=V.prototype.K,V.prototype.unByKey=V.prototype.O,ei.prototype.setMap=ei.prototype.setMap,ei.prototype.setSource=ei.prototype.Pc,ei.prototype.getExtent=ei.prototype.G,ei.prototype.getMaxResolution=ei.prototype.Wb,ei.prototype.getMinResolution=ei.prototype.Xb,ei.prototype.getOpacity=ei.prototype.Yb,ei.prototype.getVisible=ei.prototype.Fb,ei.prototype.getZIndex=ei.prototype.Zb,ei.prototype.setExtent=ei.prototype.kc,ei.prototype.setMaxResolution=ei.prototype.pc,ei.prototype.setMinResolution=ei.prototype.qc,ei.prototype.setOpacity=ei.prototype.lc,ei.prototype.setVisible=ei.prototype.mc,ei.prototype.setZIndex=ei.prototype.nc,ei.prototype.get=ei.prototype.get,ei.prototype.getKeys=ei.prototype.S,ei.prototype.getProperties=ei.prototype.R,ei.prototype.set=ei.prototype.set,ei.prototype.setProperties=ei.prototype.I,ei.prototype.unset=ei.prototype.T,ei.prototype.changed=ei.prototype.s,ei.prototype.dispatchEvent=ei.prototype.b,ei.prototype.getRevision=ei.prototype.M,ei.prototype.on=ei.prototype.J,ei.prototype.once=ei.prototype.N,ei.prototype.un=ei.prototype.K,ei.prototype.unByKey=ei.prototype.O,F.prototype.setMap=F.prototype.setMap,F.prototype.setSource=F.prototype.Pc,F.prototype.getExtent=F.prototype.G,F.prototype.getMaxResolution=F.prototype.Wb,F.prototype.getMinResolution=F.prototype.Xb,F.prototype.getOpacity=F.prototype.Yb,F.prototype.getVisible=F.prototype.Fb,F.prototype.getZIndex=F.prototype.Zb,F.prototype.setExtent=F.prototype.kc,F.prototype.setMaxResolution=F.prototype.pc,F.prototype.setMinResolution=F.prototype.qc,F.prototype.setOpacity=F.prototype.lc,F.prototype.setVisible=F.prototype.mc,F.prototype.setZIndex=F.prototype.nc,F.prototype.get=F.prototype.get,F.prototype.getKeys=F.prototype.S,F.prototype.getProperties=F.prototype.R,F.prototype.set=F.prototype.set,F.prototype.setProperties=F.prototype.I,F.prototype.unset=F.prototype.T,F.prototype.changed=F.prototype.s,F.prototype.dispatchEvent=F.prototype.b,F.prototype.getRevision=F.prototype.M,F.prototype.on=F.prototype.J,F.prototype.once=F.prototype.N,F.prototype.un=F.prototype.K,F.prototype.unByKey=F.prototype.O,H.prototype.getSource=H.prototype.la,H.prototype.getStyle=H.prototype.D,H.prototype.getStyleFunction=H.prototype.L,H.prototype.setStyle=H.prototype.l,H.prototype.setMap=H.prototype.setMap,H.prototype.setSource=H.prototype.Pc,H.prototype.getExtent=H.prototype.G,H.prototype.getMaxResolution=H.prototype.Wb,H.prototype.getMinResolution=H.prototype.Xb,H.prototype.getOpacity=H.prototype.Yb,H.prototype.getVisible=H.prototype.Fb,H.prototype.getZIndex=H.prototype.Zb,H.prototype.setExtent=H.prototype.kc,H.prototype.setMaxResolution=H.prototype.pc,H.prototype.setMinResolution=H.prototype.qc,H.prototype.setOpacity=H.prototype.lc,H.prototype.setVisible=H.prototype.mc,H.prototype.setZIndex=H.prototype.nc,H.prototype.get=H.prototype.get,H.prototype.getKeys=H.prototype.S,H.prototype.getProperties=H.prototype.R,H.prototype.set=H.prototype.set,H.prototype.setProperties=H.prototype.I,H.prototype.unset=H.prototype.T,H.prototype.changed=H.prototype.s,H.prototype.dispatchEvent=H.prototype.b,H.prototype.getRevision=H.prototype.M,H.prototype.on=H.prototype.J,H.prototype.once=H.prototype.N,H.prototype.un=H.prototype.K,H.prototype.unByKey=H.prototype.O,lg.prototype.get=lg.prototype.get,lg.prototype.getKeys=lg.prototype.S,lg.prototype.getProperties=lg.prototype.R,lg.prototype.set=lg.prototype.set,lg.prototype.setProperties=lg.prototype.I,lg.prototype.unset=lg.prototype.T,lg.prototype.changed=lg.prototype.s,lg.prototype.dispatchEvent=lg.prototype.b,lg.prototype.getRevision=lg.prototype.M,lg.prototype.on=lg.prototype.J,lg.prototype.once=lg.prototype.N,lg.prototype.un=lg.prototype.K,lg.prototype.unByKey=lg.prototype.O,qg.prototype.getActive=qg.prototype.f,qg.prototype.getMap=qg.prototype.c,qg.prototype.setActive=qg.prototype.Ea,qg.prototype.get=qg.prototype.get,qg.prototype.getKeys=qg.prototype.S,qg.prototype.getProperties=qg.prototype.R,qg.prototype.set=qg.prototype.set,qg.prototype.setProperties=qg.prototype.I,qg.prototype.unset=qg.prototype.T,qg.prototype.changed=qg.prototype.s,qg.prototype.dispatchEvent=qg.prototype.b,qg.prototype.getRevision=qg.prototype.M,qg.prototype.on=qg.prototype.J,qg.prototype.once=qg.prototype.N,qg.prototype.un=qg.prototype.K,qg.prototype.unByKey=qg.prototype.O,nv.prototype.getActive=nv.prototype.f,nv.prototype.getMap=nv.prototype.c,nv.prototype.setActive=nv.prototype.Ea,nv.prototype.get=nv.prototype.get,nv.prototype.getKeys=nv.prototype.S,nv.prototype.getProperties=nv.prototype.R,nv.prototype.set=nv.prototype.set,nv.prototype.setProperties=nv.prototype.I,nv.prototype.unset=nv.prototype.T,nv.prototype.changed=nv.prototype.s,nv.prototype.dispatchEvent=nv.prototype.b,nv.prototype.getRevision=nv.prototype.M,nv.prototype.on=nv.prototype.J,nv.prototype.once=nv.prototype.N,nv.prototype.un=nv.prototype.K,nv.prototype.unByKey=nv.prototype.O,qv.prototype.type=qv.prototype.type,qv.prototype.target=qv.prototype.target,qv.prototype.preventDefault=qv.prototype.preventDefault,qv.prototype.stopPropagation=qv.prototype.stopPropagation,Bg.prototype.getActive=Bg.prototype.f,Bg.prototype.getMap=Bg.prototype.c,Bg.prototype.setActive=Bg.prototype.Ea,Bg.prototype.get=Bg.prototype.get,Bg.prototype.getKeys=Bg.prototype.S,Bg.prototype.getProperties=Bg.prototype.R,Bg.prototype.set=Bg.prototype.set,Bg.prototype.setProperties=Bg.prototype.I,Bg.prototype.unset=Bg.prototype.T,Bg.prototype.changed=Bg.prototype.s,Bg.prototype.dispatchEvent=Bg.prototype.b,Bg.prototype.getRevision=Bg.prototype.M,Bg.prototype.on=Bg.prototype.J,Bg.prototype.once=Bg.prototype.N,Bg.prototype.un=Bg.prototype.K,Bg.prototype.unByKey=Bg.prototype.O,Pg.prototype.getActive=Pg.prototype.f,Pg.prototype.getMap=Pg.prototype.c,Pg.prototype.setActive=Pg.prototype.Ea,Pg.prototype.get=Pg.prototype.get,Pg.prototype.getKeys=Pg.prototype.S,Pg.prototype.getProperties=Pg.prototype.R,Pg.prototype.set=Pg.prototype.set,Pg.prototype.setProperties=Pg.prototype.I,Pg.prototype.unset=Pg.prototype.T,Pg.prototype.changed=Pg.prototype.s,Pg.prototype.dispatchEvent=Pg.prototype.b,Pg.prototype.getRevision=Pg.prototype.M,Pg.prototype.on=Pg.prototype.J,Pg.prototype.once=Pg.prototype.N,Pg.prototype.un=Pg.prototype.K,Pg.prototype.unByKey=Pg.prototype.O,Ug.prototype.type=Ug.prototype.type,Ug.prototype.target=Ug.prototype.target,Ug.prototype.preventDefault=Ug.prototype.preventDefault,Ug.prototype.stopPropagation=Ug.prototype.stopPropagation,Eg.prototype.getActive=Eg.prototype.f,Eg.prototype.getMap=Eg.prototype.c,Eg.prototype.setActive=Eg.prototype.Ea,Eg.prototype.get=Eg.prototype.get,Eg.prototype.getKeys=Eg.prototype.S,Eg.prototype.getProperties=Eg.prototype.R,Eg.prototype.set=Eg.prototype.set,Eg.prototype.setProperties=Eg.prototype.I,Eg.prototype.unset=Eg.prototype.T,Eg.prototype.changed=Eg.prototype.s,Eg.prototype.dispatchEvent=Eg.prototype.b,Eg.prototype.getRevision=Eg.prototype.M,Eg.prototype.on=Eg.prototype.J,Eg.prototype.once=Eg.prototype.N,Eg.prototype.un=Eg.prototype.K,Eg.prototype.unByKey=Eg.prototype.O,Ig.prototype.getActive=Ig.prototype.f,Ig.prototype.getMap=Ig.prototype.c,Ig.prototype.setActive=Ig.prototype.Ea,Ig.prototype.get=Ig.prototype.get,Ig.prototype.getKeys=Ig.prototype.S,Ig.prototype.getProperties=Ig.prototype.R,Ig.prototype.set=Ig.prototype.set,Ig.prototype.setProperties=Ig.prototype.I,Ig.prototype.unset=Ig.prototype.T,Ig.prototype.changed=Ig.prototype.s,Ig.prototype.dispatchEvent=Ig.prototype.b,Ig.prototype.getRevision=Ig.prototype.M,Ig.prototype.on=Ig.prototype.J,Ig.prototype.once=Ig.prototype.N,Ig.prototype.un=Ig.prototype.K,Ig.prototype.unByKey=Ig.prototype.O,sv.prototype.getActive=sv.prototype.f,sv.prototype.getMap=sv.prototype.c,sv.prototype.setActive=sv.prototype.Ea,sv.prototype.get=sv.prototype.get,sv.prototype.getKeys=sv.prototype.S,sv.prototype.getProperties=sv.prototype.R,sv.prototype.set=sv.prototype.set,sv.prototype.setProperties=sv.prototype.I,sv.prototype.unset=sv.prototype.T,sv.prototype.changed=sv.prototype.s,sv.prototype.dispatchEvent=sv.prototype.b,sv.prototype.getRevision=sv.prototype.M,sv.prototype.on=sv.prototype.J,sv.prototype.once=sv.prototype.N,sv.prototype.un=sv.prototype.K,sv.prototype.unByKey=sv.prototype.O,Yg.prototype.getGeometry=Yg.prototype.V,Yg.prototype.getActive=Yg.prototype.f,Yg.prototype.getMap=Yg.prototype.c,Yg.prototype.setActive=Yg.prototype.Ea,Yg.prototype.get=Yg.prototype.get,Yg.prototype.getKeys=Yg.prototype.S,Yg.prototype.getProperties=Yg.prototype.R,
Yg.prototype.set=Yg.prototype.set,Yg.prototype.setProperties=Yg.prototype.I,Yg.prototype.unset=Yg.prototype.T,Yg.prototype.changed=Yg.prototype.s,Yg.prototype.dispatchEvent=Yg.prototype.b,Yg.prototype.getRevision=Yg.prototype.M,Yg.prototype.on=Yg.prototype.J,Yg.prototype.once=Yg.prototype.N,Yg.prototype.un=Yg.prototype.K,Yg.prototype.unByKey=Yg.prototype.O,Iv.prototype.getActive=Iv.prototype.f,Iv.prototype.getMap=Iv.prototype.c,Iv.prototype.setActive=Iv.prototype.Ea,Iv.prototype.get=Iv.prototype.get,Iv.prototype.getKeys=Iv.prototype.S,Iv.prototype.getProperties=Iv.prototype.R,Iv.prototype.set=Iv.prototype.set,Iv.prototype.setProperties=Iv.prototype.I,Iv.prototype.unset=Iv.prototype.T,Iv.prototype.changed=Iv.prototype.s,Iv.prototype.dispatchEvent=Iv.prototype.b,Iv.prototype.getRevision=Iv.prototype.M,Iv.prototype.on=Iv.prototype.J,Iv.prototype.once=Iv.prototype.N,Iv.prototype.un=Iv.prototype.K,Iv.prototype.unByKey=Iv.prototype.O,Xv.prototype.type=Xv.prototype.type,Xv.prototype.target=Xv.prototype.target,Xv.prototype.preventDefault=Xv.prototype.preventDefault,Xv.prototype.stopPropagation=Xv.prototype.stopPropagation,aw.prototype.getActive=aw.prototype.f,aw.prototype.getMap=aw.prototype.c,aw.prototype.setActive=aw.prototype.Ea,aw.prototype.get=aw.prototype.get,aw.prototype.getKeys=aw.prototype.S,aw.prototype.getProperties=aw.prototype.R,aw.prototype.set=aw.prototype.set,aw.prototype.setProperties=aw.prototype.I,aw.prototype.unset=aw.prototype.T,aw.prototype.changed=aw.prototype.s,aw.prototype.dispatchEvent=aw.prototype.b,aw.prototype.getRevision=aw.prototype.M,aw.prototype.on=aw.prototype.J,aw.prototype.once=aw.prototype.N,aw.prototype.un=aw.prototype.K,aw.prototype.unByKey=aw.prototype.O,lw.prototype.type=lw.prototype.type,lw.prototype.target=lw.prototype.target,lw.prototype.preventDefault=lw.prototype.preventDefault,lw.prototype.stopPropagation=lw.prototype.stopPropagation,Zg.prototype.getActive=Zg.prototype.f,Zg.prototype.getMap=Zg.prototype.c,Zg.prototype.setActive=Zg.prototype.Ea,Zg.prototype.get=Zg.prototype.get,Zg.prototype.getKeys=Zg.prototype.S,Zg.prototype.getProperties=Zg.prototype.R,Zg.prototype.set=Zg.prototype.set,Zg.prototype.setProperties=Zg.prototype.I,Zg.prototype.unset=Zg.prototype.T,Zg.prototype.changed=Zg.prototype.s,Zg.prototype.dispatchEvent=Zg.prototype.b,Zg.prototype.getRevision=Zg.prototype.M,Zg.prototype.on=Zg.prototype.J,Zg.prototype.once=Zg.prototype.N,Zg.prototype.un=Zg.prototype.K,Zg.prototype.unByKey=Zg.prototype.O,ah.prototype.getActive=ah.prototype.f,ah.prototype.getMap=ah.prototype.c,ah.prototype.setActive=ah.prototype.Ea,ah.prototype.get=ah.prototype.get,ah.prototype.getKeys=ah.prototype.S,ah.prototype.getProperties=ah.prototype.R,ah.prototype.set=ah.prototype.set,ah.prototype.setProperties=ah.prototype.I,ah.prototype.unset=ah.prototype.T,ah.prototype.changed=ah.prototype.s,ah.prototype.dispatchEvent=ah.prototype.b,ah.prototype.getRevision=ah.prototype.M,ah.prototype.on=ah.prototype.J,ah.prototype.once=ah.prototype.N,ah.prototype.un=ah.prototype.K,ah.prototype.unByKey=ah.prototype.O,nw.prototype.getActive=nw.prototype.f,nw.prototype.getMap=nw.prototype.c,nw.prototype.setActive=nw.prototype.Ea,nw.prototype.get=nw.prototype.get,nw.prototype.getKeys=nw.prototype.S,nw.prototype.getProperties=nw.prototype.R,nw.prototype.set=nw.prototype.set,nw.prototype.setProperties=nw.prototype.I,nw.prototype.unset=nw.prototype.T,nw.prototype.changed=nw.prototype.s,nw.prototype.dispatchEvent=nw.prototype.b,nw.prototype.getRevision=nw.prototype.M,nw.prototype.on=nw.prototype.J,nw.prototype.once=nw.prototype.N,nw.prototype.un=nw.prototype.K,nw.prototype.unByKey=nw.prototype.O,vw.prototype.type=vw.prototype.type,vw.prototype.target=vw.prototype.target,vw.prototype.preventDefault=vw.prototype.preventDefault,vw.prototype.stopPropagation=vw.prototype.stopPropagation,ch.prototype.getActive=ch.prototype.f,ch.prototype.getMap=ch.prototype.c,ch.prototype.setActive=ch.prototype.Ea,ch.prototype.get=ch.prototype.get,ch.prototype.getKeys=ch.prototype.S,ch.prototype.getProperties=ch.prototype.R,ch.prototype.set=ch.prototype.set,ch.prototype.setProperties=ch.prototype.I,ch.prototype.unset=ch.prototype.T,ch.prototype.changed=ch.prototype.s,ch.prototype.dispatchEvent=ch.prototype.b,ch.prototype.getRevision=ch.prototype.M,ch.prototype.on=ch.prototype.J,ch.prototype.once=ch.prototype.N,ch.prototype.un=ch.prototype.K,ch.prototype.unByKey=ch.prototype.O,gh.prototype.getActive=gh.prototype.f,gh.prototype.getMap=gh.prototype.c,gh.prototype.setActive=gh.prototype.Ea,gh.prototype.get=gh.prototype.get,gh.prototype.getKeys=gh.prototype.S,gh.prototype.getProperties=gh.prototype.R,gh.prototype.set=gh.prototype.set,gh.prototype.setProperties=gh.prototype.I,gh.prototype.unset=gh.prototype.T,gh.prototype.changed=gh.prototype.s,gh.prototype.dispatchEvent=gh.prototype.b,gh.prototype.getRevision=gh.prototype.M,gh.prototype.on=gh.prototype.J,gh.prototype.once=gh.prototype.N,gh.prototype.un=gh.prototype.K,gh.prototype.unByKey=gh.prototype.O,kh.prototype.getActive=kh.prototype.f,kh.prototype.getMap=kh.prototype.c,kh.prototype.setActive=kh.prototype.Ea,kh.prototype.get=kh.prototype.get,kh.prototype.getKeys=kh.prototype.S,kh.prototype.getProperties=kh.prototype.R,kh.prototype.set=kh.prototype.set,kh.prototype.setProperties=kh.prototype.I,kh.prototype.unset=kh.prototype.T,kh.prototype.changed=kh.prototype.s,kh.prototype.dispatchEvent=kh.prototype.b,kh.prototype.getRevision=kh.prototype.M,kh.prototype.on=kh.prototype.J,kh.prototype.once=kh.prototype.N,kh.prototype.un=kh.prototype.K,kh.prototype.unByKey=kh.prototype.O,Dw.prototype.getActive=Dw.prototype.f,Dw.prototype.getMap=Dw.prototype.c,Dw.prototype.setActive=Dw.prototype.Ea,Dw.prototype.get=Dw.prototype.get,Dw.prototype.getKeys=Dw.prototype.S,Dw.prototype.getProperties=Dw.prototype.R,Dw.prototype.set=Dw.prototype.set,Dw.prototype.setProperties=Dw.prototype.I,Dw.prototype.unset=Dw.prototype.T,Dw.prototype.changed=Dw.prototype.s,Dw.prototype.dispatchEvent=Dw.prototype.b,Dw.prototype.getRevision=Dw.prototype.M,Dw.prototype.on=Dw.prototype.J,Dw.prototype.once=Dw.prototype.N,Dw.prototype.un=Dw.prototype.K,Dw.prototype.unByKey=Dw.prototype.O,Gw.prototype.type=Gw.prototype.type,Gw.prototype.target=Gw.prototype.target,Gw.prototype.preventDefault=Gw.prototype.preventDefault,Gw.prototype.stopPropagation=Gw.prototype.stopPropagation,Iw.prototype.getActive=Iw.prototype.f,Iw.prototype.getMap=Iw.prototype.c,Iw.prototype.setActive=Iw.prototype.Ea,Iw.prototype.get=Iw.prototype.get,Iw.prototype.getKeys=Iw.prototype.S,Iw.prototype.getProperties=Iw.prototype.R,Iw.prototype.set=Iw.prototype.set,Iw.prototype.setProperties=Iw.prototype.I,Iw.prototype.unset=Iw.prototype.T,Iw.prototype.changed=Iw.prototype.s,Iw.prototype.dispatchEvent=Iw.prototype.b,Iw.prototype.getRevision=Iw.prototype.M,Iw.prototype.on=Iw.prototype.J,Iw.prototype.once=Iw.prototype.N,Iw.prototype.un=Iw.prototype.K,Iw.prototype.unByKey=Iw.prototype.O,Mw.prototype.getActive=Mw.prototype.f,Mw.prototype.getMap=Mw.prototype.c,Mw.prototype.setActive=Mw.prototype.Ea,Mw.prototype.get=Mw.prototype.get,Mw.prototype.getKeys=Mw.prototype.S,Mw.prototype.getProperties=Mw.prototype.R,Mw.prototype.set=Mw.prototype.set,Mw.prototype.setProperties=Mw.prototype.I,Mw.prototype.unset=Mw.prototype.T,Mw.prototype.changed=Mw.prototype.s,Mw.prototype.dispatchEvent=Mw.prototype.b,Mw.prototype.getRevision=Mw.prototype.M,Mw.prototype.on=Mw.prototype.J,Mw.prototype.once=Mw.prototype.N,Mw.prototype.un=Mw.prototype.K,Mw.prototype.unByKey=Mw.prototype.O,Sw.prototype.type=Sw.prototype.type,Sw.prototype.target=Sw.prototype.target,Sw.prototype.preventDefault=Sw.prototype.preventDefault,Sw.prototype.stopPropagation=Sw.prototype.stopPropagation,Rc.prototype.get=Rc.prototype.get,Rc.prototype.getKeys=Rc.prototype.S,Rc.prototype.getProperties=Rc.prototype.R,Rc.prototype.set=Rc.prototype.set,Rc.prototype.setProperties=Rc.prototype.I,Rc.prototype.unset=Rc.prototype.T,Rc.prototype.changed=Rc.prototype.s,Rc.prototype.dispatchEvent=Rc.prototype.b,Rc.prototype.getRevision=Rc.prototype.M,Rc.prototype.on=Rc.prototype.J,Rc.prototype.once=Rc.prototype.N,Rc.prototype.un=Rc.prototype.K,Rc.prototype.unByKey=Rc.prototype.O,Uc.prototype.getClosestPoint=Uc.prototype.Cb,Uc.prototype.intersectsCoordinate=Uc.prototype.mb,Uc.prototype.getExtent=Uc.prototype.G,Uc.prototype.rotate=Uc.prototype.rotate,Uc.prototype.scale=Uc.prototype.scale,Uc.prototype.simplify=Uc.prototype.Jb,Uc.prototype.transform=Uc.prototype.ob,Uc.prototype.get=Uc.prototype.get,Uc.prototype.getKeys=Uc.prototype.S,Uc.prototype.getProperties=Uc.prototype.R,Uc.prototype.set=Uc.prototype.set,Uc.prototype.setProperties=Uc.prototype.I,Uc.prototype.unset=Uc.prototype.T,Uc.prototype.changed=Uc.prototype.s,Uc.prototype.dispatchEvent=Uc.prototype.b,Uc.prototype.getRevision=Uc.prototype.M,Uc.prototype.on=Uc.prototype.J,Uc.prototype.once=Uc.prototype.N,Uc.prototype.un=Uc.prototype.K,Uc.prototype.unByKey=Uc.prototype.O,bv.prototype.getFirstCoordinate=bv.prototype.Rb,bv.prototype.getLastCoordinate=bv.prototype.Sb,bv.prototype.getLayout=bv.prototype.Tb,bv.prototype.rotate=bv.prototype.rotate,bv.prototype.scale=bv.prototype.scale,bv.prototype.getClosestPoint=bv.prototype.Cb,bv.prototype.intersectsCoordinate=bv.prototype.mb,bv.prototype.getExtent=bv.prototype.G,bv.prototype.simplify=bv.prototype.Jb,bv.prototype.get=bv.prototype.get,bv.prototype.getKeys=bv.prototype.S,bv.prototype.getProperties=bv.prototype.R,bv.prototype.set=bv.prototype.set,bv.prototype.setProperties=bv.prototype.I,bv.prototype.unset=bv.prototype.T,bv.prototype.changed=bv.prototype.s,bv.prototype.dispatchEvent=bv.prototype.b,bv.prototype.getRevision=bv.prototype.M,bv.prototype.on=bv.prototype.J,bv.prototype.once=bv.prototype.N,bv.prototype.un=bv.prototype.K,bv.prototype.unByKey=bv.prototype.O,Vo.prototype.getClosestPoint=Vo.prototype.Cb,Vo.prototype.intersectsCoordinate=Vo.prototype.mb,Vo.prototype.getExtent=Vo.prototype.G,Vo.prototype.rotate=Vo.prototype.rotate,Vo.prototype.scale=Vo.prototype.scale,Vo.prototype.simplify=Vo.prototype.Jb,Vo.prototype.transform=Vo.prototype.ob,Vo.prototype.get=Vo.prototype.get,Vo.prototype.getKeys=Vo.prototype.S,Vo.prototype.getProperties=Vo.prototype.R,Vo.prototype.set=Vo.prototype.set,Vo.prototype.setProperties=Vo.prototype.I,Vo.prototype.unset=Vo.prototype.T,Vo.prototype.changed=Vo.prototype.s,Vo.prototype.dispatchEvent=Vo.prototype.b,Vo.prototype.getRevision=Vo.prototype.M,Vo.prototype.on=Vo.prototype.J,Vo.prototype.once=Vo.prototype.N,Vo.prototype.un=Vo.prototype.K,Vo.prototype.unByKey=Vo.prototype.O,md.prototype.getFirstCoordinate=md.prototype.Rb,md.prototype.getLastCoordinate=md.prototype.Sb,md.prototype.getLayout=md.prototype.Tb,md.prototype.rotate=md.prototype.rotate,md.prototype.scale=md.prototype.scale,md.prototype.getClosestPoint=md.prototype.Cb,md.prototype.intersectsCoordinate=md.prototype.mb,md.prototype.getExtent=md.prototype.G,md.prototype.simplify=md.prototype.Jb,md.prototype.transform=md.prototype.ob,md.prototype.get=md.prototype.get,md.prototype.getKeys=md.prototype.S,md.prototype.getProperties=md.prototype.R,md.prototype.set=md.prototype.set,md.prototype.setProperties=md.prototype.I,md.prototype.unset=md.prototype.T,md.prototype.changed=md.prototype.s,md.prototype.dispatchEvent=md.prototype.b,md.prototype.getRevision=md.prototype.M,md.prototype.on=md.prototype.J,md.prototype.once=md.prototype.N,md.prototype.un=md.prototype.K,md.prototype.unByKey=md.prototype.O,P.prototype.getFirstCoordinate=P.prototype.Rb,P.prototype.getLastCoordinate=P.prototype.Sb,P.prototype.getLayout=P.prototype.Tb,P.prototype.rotate=P.prototype.rotate,P.prototype.scale=P.prototype.scale,P.prototype.getClosestPoint=P.prototype.Cb,P.prototype.intersectsCoordinate=P.prototype.mb,P.prototype.getExtent=P.prototype.G,P.prototype.simplify=P.prototype.Jb,P.prototype.transform=P.prototype.ob,P.prototype.get=P.prototype.get,P.prototype.getKeys=P.prototype.S,P.prototype.getProperties=P.prototype.R,P.prototype.set=P.prototype.set,P.prototype.setProperties=P.prototype.I,P.prototype.unset=P.prototype.T,P.prototype.changed=P.prototype.s,P.prototype.dispatchEvent=P.prototype.b,P.prototype.getRevision=P.prototype.M,P.prototype.on=P.prototype.J,P.prototype.once=P.prototype.N,P.prototype.un=P.prototype.K,P.prototype.unByKey=P.prototype.O,Q.prototype.getFirstCoordinate=Q.prototype.Rb,Q.prototype.getLastCoordinate=Q.prototype.Sb,Q.prototype.getLayout=Q.prototype.Tb,Q.prototype.rotate=Q.prototype.rotate,Q.prototype.scale=Q.prototype.scale,Q.prototype.getClosestPoint=Q.prototype.Cb,Q.prototype.intersectsCoordinate=Q.prototype.mb,Q.prototype.getExtent=Q.prototype.G,Q.prototype.simplify=Q.prototype.Jb,Q.prototype.transform=Q.prototype.ob,Q.prototype.get=Q.prototype.get,Q.prototype.getKeys=Q.prototype.S,Q.prototype.getProperties=Q.prototype.R,Q.prototype.set=Q.prototype.set,Q.prototype.setProperties=Q.prototype.I,Q.prototype.unset=Q.prototype.T,Q.prototype.changed=Q.prototype.s,Q.prototype.dispatchEvent=Q.prototype.b,Q.prototype.getRevision=Q.prototype.M,Q.prototype.on=Q.prototype.J,Q.prototype.once=Q.prototype.N,Q.prototype.un=Q.prototype.K,Q.prototype.unByKey=Q.prototype.O,R.prototype.getFirstCoordinate=R.prototype.Rb,R.prototype.getLastCoordinate=R.prototype.Sb,R.prototype.getLayout=R.prototype.Tb,R.prototype.rotate=R.prototype.rotate,R.prototype.scale=R.prototype.scale,R.prototype.getClosestPoint=R.prototype.Cb,R.prototype.intersectsCoordinate=R.prototype.mb,R.prototype.getExtent=R.prototype.G,R.prototype.simplify=R.prototype.Jb,R.prototype.transform=R.prototype.ob,R.prototype.get=R.prototype.get,R.prototype.getKeys=R.prototype.S,R.prototype.getProperties=R.prototype.R,R.prototype.set=R.prototype.set,R.prototype.setProperties=R.prototype.I,R.prototype.unset=R.prototype.T,R.prototype.changed=R.prototype.s,R.prototype.dispatchEvent=R.prototype.b,R.prototype.getRevision=R.prototype.M,R.prototype.on=R.prototype.J,R.prototype.once=R.prototype.N,R.prototype.un=R.prototype.K,R.prototype.unByKey=R.prototype.O,S.prototype.getFirstCoordinate=S.prototype.Rb,S.prototype.getLastCoordinate=S.prototype.Sb,S.prototype.getLayout=S.prototype.Tb,S.prototype.rotate=S.prototype.rotate,S.prototype.scale=S.prototype.scale,S.prototype.getClosestPoint=S.prototype.Cb,S.prototype.intersectsCoordinate=S.prototype.mb,S.prototype.getExtent=S.prototype.G,S.prototype.simplify=S.prototype.Jb,S.prototype.transform=S.prototype.ob,S.prototype.get=S.prototype.get,S.prototype.getKeys=S.prototype.S,S.prototype.getProperties=S.prototype.R,S.prototype.set=S.prototype.set,S.prototype.setProperties=S.prototype.I,S.prototype.unset=S.prototype.T,S.prototype.changed=S.prototype.s,S.prototype.dispatchEvent=S.prototype.b,S.prototype.getRevision=S.prototype.M,S.prototype.on=S.prototype.J,S.prototype.once=S.prototype.N,S.prototype.un=S.prototype.K,S.prototype.unByKey=S.prototype.O,C.prototype.getFirstCoordinate=C.prototype.Rb,C.prototype.getLastCoordinate=C.prototype.Sb,C.prototype.getLayout=C.prototype.Tb,C.prototype.rotate=C.prototype.rotate,C.prototype.scale=C.prototype.scale,C.prototype.getClosestPoint=C.prototype.Cb,C.prototype.intersectsCoordinate=C.prototype.mb,C.prototype.getExtent=C.prototype.G,C.prototype.simplify=C.prototype.Jb,C.prototype.transform=C.prototype.ob,C.prototype.get=C.prototype.get,C.prototype.getKeys=C.prototype.S,C.prototype.getProperties=C.prototype.R,C.prototype.set=C.prototype.set,C.prototype.setProperties=C.prototype.I,C.prototype.unset=C.prototype.T,C.prototype.changed=C.prototype.s,C.prototype.dispatchEvent=C.prototype.b,C.prototype.getRevision=C.prototype.M,C.prototype.on=C.prototype.J,C.prototype.once=C.prototype.N,C.prototype.un=C.prototype.K,C.prototype.unByKey=C.prototype.O,E.prototype.getFirstCoordinate=E.prototype.Rb,E.prototype.getLastCoordinate=E.prototype.Sb,E.prototype.getLayout=E.prototype.Tb,E.prototype.rotate=E.prototype.rotate,E.prototype.scale=E.prototype.scale,E.prototype.getClosestPoint=E.prototype.Cb,E.prototype.intersectsCoordinate=E.prototype.mb,E.prototype.getExtent=E.prototype.G,E.prototype.simplify=E.prototype.Jb,E.prototype.transform=E.prototype.ob,E.prototype.get=E.prototype.get,E.prototype.getKeys=E.prototype.S,E.prototype.getProperties=E.prototype.R,E.prototype.set=E.prototype.set,E.prototype.setProperties=E.prototype.I,E.prototype.unset=E.prototype.T,E.prototype.changed=E.prototype.s,E.prototype.dispatchEvent=E.prototype.b,E.prototype.getRevision=E.prototype.M,E.prototype.on=E.prototype.J,E.prototype.once=E.prototype.N,E.prototype.un=E.prototype.K,E.prototype.unByKey=E.prototype.O,tp.prototype.readFeatures=tp.prototype.La,Cp.prototype.readFeatures=Cp.prototype.La,tp.prototype.readFeatures=tp.prototype.La,Ie.prototype.get=Ie.prototype.get,Ie.prototype.getKeys=Ie.prototype.S,Ie.prototype.getProperties=Ie.prototype.R,Ie.prototype.set=Ie.prototype.set,Ie.prototype.setProperties=Ie.prototype.I,Ie.prototype.unset=Ie.prototype.T,Ie.prototype.changed=Ie.prototype.s,Ie.prototype.dispatchEvent=Ie.prototype.b,Ie.prototype.getRevision=Ie.prototype.M,Ie.prototype.on=Ie.prototype.J,Ie.prototype.once=Ie.prototype.N,Ie.prototype.un=Ie.prototype.K,Ie.prototype.unByKey=Ie.prototype.O,Je.prototype.getMap=Je.prototype.i,Je.prototype.setMap=Je.prototype.setMap,Je.prototype.setTarget=Je.prototype.c,Je.prototype.get=Je.prototype.get,Je.prototype.getKeys=Je.prototype.S,Je.prototype.getProperties=Je.prototype.R,Je.prototype.set=Je.prototype.set,Je.prototype.setProperties=Je.prototype.I,Je.prototype.unset=Je.prototype.T,Je.prototype.changed=Je.prototype.s,Je.prototype.dispatchEvent=Je.prototype.b,Je.prototype.getRevision=Je.prototype.M,Je.prototype.on=Je.prototype.J,Je.prototype.once=Je.prototype.N,Je.prototype.un=Je.prototype.K,Je.prototype.unByKey=Je.prototype.O,Me.prototype.getMap=Me.prototype.i,Me.prototype.setMap=Me.prototype.setMap,Me.prototype.setTarget=Me.prototype.c,Me.prototype.get=Me.prototype.get,Me.prototype.getKeys=Me.prototype.S,Me.prototype.getProperties=Me.prototype.R,Me.prototype.set=Me.prototype.set,Me.prototype.setProperties=Me.prototype.I,Me.prototype.unset=Me.prototype.T,Me.prototype.changed=Me.prototype.s,Me.prototype.dispatchEvent=Me.prototype.b,Me.prototype.getRevision=Me.prototype.M,Me.prototype.on=Me.prototype.J,Me.prototype.once=Me.prototype.N,Me.prototype.un=Me.prototype.K,Me.prototype.unByKey=Me.prototype.O,Ve.prototype.getMap=Ve.prototype.i,Ve.prototype.setMap=Ve.prototype.setMap,Ve.prototype.setTarget=Ve.prototype.c,Ve.prototype.get=Ve.prototype.get,Ve.prototype.getKeys=Ve.prototype.S,Ve.prototype.getProperties=Ve.prototype.R,Ve.prototype.set=Ve.prototype.set,Ve.prototype.setProperties=Ve.prototype.I,Ve.prototype.unset=Ve.prototype.T,Ve.prototype.changed=Ve.prototype.s,Ve.prototype.dispatchEvent=Ve.prototype.b,Ve.prototype.getRevision=Ve.prototype.M,Ve.prototype.on=Ve.prototype.J,Ve.prototype.once=Ve.prototype.N,Ve.prototype.un=Ve.prototype.K,Ve.prototype.unByKey=Ve.prototype.O,gn.prototype.getMap=gn.prototype.i,gn.prototype.setMap=gn.prototype.setMap,gn.prototype.setTarget=gn.prototype.c,gn.prototype.get=gn.prototype.get,gn.prototype.getKeys=gn.prototype.S,gn.prototype.getProperties=gn.prototype.R,gn.prototype.set=gn.prototype.set,gn.prototype.setProperties=gn.prototype.I,gn.prototype.unset=gn.prototype.T,gn.prototype.changed=gn.prototype.s,gn.prototype.dispatchEvent=gn.prototype.b,gn.prototype.getRevision=gn.prototype.M,gn.prototype.on=gn.prototype.J,gn.prototype.once=gn.prototype.N,gn.prototype.un=gn.prototype.K,gn.prototype.unByKey=gn.prototype.O,Re.prototype.getMap=Re.prototype.i,Re.prototype.setMap=Re.prototype.setMap,Re.prototype.setTarget=Re.prototype.c,Re.prototype.get=Re.prototype.get,Re.prototype.getKeys=Re.prototype.S,Re.prototype.getProperties=Re.prototype.R,Re.prototype.set=Re.prototype.set,Re.prototype.setProperties=Re.prototype.I,Re.prototype.unset=Re.prototype.T,Re.prototype.changed=Re.prototype.s,Re.prototype.dispatchEvent=Re.prototype.b,Re.prototype.getRevision=Re.prototype.M,Re.prototype.on=Re.prototype.J,Re.prototype.once=Re.prototype.N,Re.prototype.un=Re.prototype.K,Re.prototype.unByKey=Re.prototype.O,mn.prototype.getMap=mn.prototype.i,mn.prototype.setMap=mn.prototype.setMap,mn.prototype.setTarget=mn.prototype.c,mn.prototype.get=mn.prototype.get,mn.prototype.getKeys=mn.prototype.S,mn.prototype.getProperties=mn.prototype.R,mn.prototype.set=mn.prototype.set,mn.prototype.setProperties=mn.prototype.I,mn.prototype.unset=mn.prototype.T,mn.prototype.changed=mn.prototype.s,mn.prototype.dispatchEvent=mn.prototype.b,mn.prototype.getRevision=mn.prototype.M,mn.prototype.on=mn.prototype.J,mn.prototype.once=mn.prototype.N,mn.prototype.un=mn.prototype.K,mn.prototype.unByKey=mn.prototype.O,Te.prototype.getMap=Te.prototype.i,Te.prototype.setMap=Te.prototype.setMap,Te.prototype.setTarget=Te.prototype.c,Te.prototype.get=Te.prototype.get,Te.prototype.getKeys=Te.prototype.S,Te.prototype.getProperties=Te.prototype.R,Te.prototype.set=Te.prototype.set,Te.prototype.setProperties=Te.prototype.I,Te.prototype.unset=Te.prototype.T,Te.prototype.changed=Te.prototype.s,Te.prototype.dispatchEvent=Te.prototype.b,Te.prototype.getRevision=Te.prototype.M,Te.prototype.on=Te.prototype.J,Te.prototype.once=Te.prototype.N,Te.prototype.un=Te.prototype.K,Te.prototype.unByKey=Te.prototype.O,wn.prototype.getMap=wn.prototype.i,wn.prototype.setMap=wn.prototype.setMap,wn.prototype.setTarget=wn.prototype.c,wn.prototype.get=wn.prototype.get,wn.prototype.getKeys=wn.prototype.S,wn.prototype.getProperties=wn.prototype.R,wn.prototype.set=wn.prototype.set,wn.prototype.setProperties=wn.prototype.I,wn.prototype.unset=wn.prototype.T,wn.prototype.changed=wn.prototype.s,wn.prototype.dispatchEvent=wn.prototype.b,wn.prototype.getRevision=wn.prototype.M,wn.prototype.on=wn.prototype.J,wn.prototype.once=wn.prototype.N,wn.prototype.un=wn.prototype.K,wn.prototype.unByKey=wn.prototype.O,Bn.prototype.getMap=Bn.prototype.i,Bn.prototype.setMap=Bn.prototype.setMap,Bn.prototype.setTarget=Bn.prototype.c,Bn.prototype.get=Bn.prototype.get,Bn.prototype.getKeys=Bn.prototype.S,Bn.prototype.getProperties=Bn.prototype.R,Bn.prototype.set=Bn.prototype.set,Bn.prototype.setProperties=Bn.prototype.I,Bn.prototype.unset=Bn.prototype.T,Bn.prototype.changed=Bn.prototype.s,Bn.prototype.dispatchEvent=Bn.prototype.b,Bn.prototype.getRevision=Bn.prototype.M,Bn.prototype.on=Bn.prototype.J,Bn.prototype.once=Bn.prototype.N,Bn.prototype.un=Bn.prototype.K,Bn.prototype.unByKey=Bn.prototype.O,OPENLAYERS.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.proj4=factory()}(this,function(){"use strict";function match(obj,key){if(obj[key])return obj[key];for(var testkey,processedKey,keys=Object.keys(obj),lkey=key.toLowerCase().replace(ignoredChar,""),i=-1;++i<keys.length;)if(testkey=keys[i],processedKey=testkey.toLowerCase().replace(ignoredChar,""),processedKey===lkey)return obj[testkey]}function Parser(text){if("string"!=typeof text)throw new Error("not a string");this.text=text.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=NEUTRAL}function parseString(txt){var parser=new Parser(txt);return parser.output()}function mapit(obj,key,value){Array.isArray(key)&&(value.unshift(key),key=null);var thing=key?{}:obj,out=value.reduce(function(newObj,item){return sExpr(item,newObj),newObj},thing);key&&(obj[key]=out)}function sExpr(v,obj){if(!Array.isArray(v))return void(obj[v]=!0);var key=v.shift();if("PARAMETER"===key&&(key=v.shift()),1===v.length)return Array.isArray(v[0])?(obj[key]={},void sExpr(v[0],obj[key])):void(obj[key]=v[0]);if(!v.length)return void(obj[key]=!0);if("TOWGS84"===key)return void(obj[key]=v);Array.isArray(key)||(obj[key]={});var i;switch(key){case"UNIT":case"PRIMEM":case"VERT_DATUM":return obj[key]={name:v[0].toLowerCase(),convert:v[1]},void(3===v.length&&sExpr(v[2],obj[key]));case"SPHEROID":case"ELLIPSOID":return obj[key]={name:v[0],a:v[1],rf:v[2]},void(4===v.length&&sExpr(v[3],obj[key]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return v[0]=["name",v[0]],void mapit(obj,key,v);default:for(i=-1;++i<v.length;)if(!Array.isArray(v[i]))return sExpr(v,obj[key]);return mapit(obj,key,v)}}function rename(obj,params){var outName=params[0],inName=params[1];!(outName in obj)&&inName in obj&&(obj[outName]=obj[inName],3===params.length&&(obj[outName]=params[2](obj[outName])))}function d2r(input){return input*D2R$1}function cleanWKT(wkt){function toMeter(input){var ratio=wkt.to_meter||1;return input*ratio}"GEOGCS"===wkt.type?wkt.projName="longlat":"LOCAL_CS"===wkt.type?(wkt.projName="identity",wkt.local=!0):wkt.projName="object"==typeof wkt.PROJECTION?Object.keys(wkt.PROJECTION)[0]:wkt.PROJECTION,wkt.UNIT&&(wkt.units=wkt.UNIT.name.toLowerCase(),"metre"===wkt.units&&(wkt.units="meter"),wkt.UNIT.convert&&("GEOGCS"===wkt.type?wkt.DATUM&&wkt.DATUM.SPHEROID&&(wkt.to_meter=wkt.UNIT.convert*wkt.DATUM.SPHEROID.a):(wkt.to_meter=wkt.UNIT.convert,10)));var geogcs=wkt.GEOGCS;"GEOGCS"===wkt.type&&(geogcs=wkt),geogcs&&(wkt.datumCode=geogcs.DATUM?geogcs.DATUM.name.toLowerCase():geogcs.name.toLowerCase(),"d_"===wkt.datumCode.slice(0,2)&&(wkt.datumCode=wkt.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===wkt.datumCode||"new_zealand_1949"===wkt.datumCode)&&(wkt.datumCode="nzgd49"),"wgs_1984"===wkt.datumCode&&("Mercator_Auxiliary_Sphere"===wkt.PROJECTION&&(wkt.sphere=!0),wkt.datumCode="wgs84"),"_ferro"===wkt.datumCode.slice(-6)&&(wkt.datumCode=wkt.datumCode.slice(0,-6)),"_jakarta"===wkt.datumCode.slice(-8)&&(wkt.datumCode=wkt.datumCode.slice(0,-8)),~wkt.datumCode.indexOf("belge")&&(wkt.datumCode="rnb72"),geogcs.DATUM&&geogcs.DATUM.SPHEROID&&(wkt.ellps=geogcs.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===wkt.ellps.toLowerCase().slice(0,13)&&(wkt.ellps="intl"),wkt.a=geogcs.DATUM.SPHEROID.a,wkt.rf=parseFloat(geogcs.DATUM.SPHEROID.rf,10)),~wkt.datumCode.indexOf("osgb_1936")&&(wkt.datumCode="osgb36")),wkt.b&&!isFinite(wkt.b)&&(wkt.b=wkt.a);var renamer=function(a){return rename(wkt,a)},list=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",d2r],["x0","false_easting",toMeter],["y0","false_northing",toMeter],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["alpha","azimuth",d2r],["srsCode","name"]];list.forEach(renamer),wkt.long0||!wkt.longc||"Albers_Conic_Equal_Area"!==wkt.projName&&"Lambert_Azimuthal_Equal_Area"!==wkt.projName||(wkt.long0=wkt.longc),wkt.lat_ts||!wkt.lat1||"Stereographic_South_Pole"!==wkt.projName&&"Polar Stereographic (variant B)"!==wkt.projName||(wkt.lat0=d2r(wkt.lat1>0?90:-90),wkt.lat_ts=wkt.lat1)}function defs(name){var that=this;if(2===arguments.length){var def=arguments[1];defs[name]="string"==typeof def?"+"===def.charAt(0)?parseProj(arguments[1]):wkt(arguments[1]):def}else if(1===arguments.length){if(Array.isArray(name))return name.map(function(v){Array.isArray(v)?defs.apply(that,v):defs(v)});if("string"==typeof name){if(name in defs)return defs[name]}else"EPSG"in name?defs["EPSG:"+name.EPSG]=name:"ESRI"in name?defs["ESRI:"+name.ESRI]=name:"IAU2000"in name?defs["IAU2000:"+name.IAU2000]=name:console.log(name);return}}function testObj(code){return"string"==typeof code}function testDef(code){return code in defs}function testWKT(code){return codeWords.some(function(word){return code.indexOf(word)>-1})}function testProj(code){return"+"===code[0]}function parse(code){return testObj(code)?testDef(code)?defs[code]:testWKT(code)?wkt(code):testProj(code)?parseProj(code):void 0:code}function init(){var con=this.b/this.a;this.es=1-con*con,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)}function forward(p){var lon=p.x,lat=p.y;if(lat*R2D>90&&-90>lat*R2D&&lon*R2D>180&&-180>lon*R2D)return null;var x,y;if(Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)return null;if(this.sphere)x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*lat));else{var sinphi=Math.sin(lat),ts=tsfnz(this.e,lat,sinphi);x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0-this.a*this.k0*Math.log(ts)}return p.x=x,p.y=y,p}function inverse(p){var lon,lat,x=p.x-this.x0,y=p.y-this.y0;if(this.sphere)lat=HALF_PI-2*Math.atan(Math.exp(-y/(this.a*this.k0)));else{var ts=Math.exp(-y/(this.a*this.k0));if(lat=phi2z(this.e,ts),-9999===lat)return null}return lon=adjust_lon(this.long0+x/(this.a*this.k0)),p.x=lon,p.y=lat,p}function init$1(){}function identity(pt){return pt}function add(proj,i){var len=projStore.length;return proj.names?(projStore[len]=proj,proj.names.forEach(function(n){names$$1[n.toLowerCase()]=len}),this):(console.log(i),!0)}function get(name){if(!name)return!1;var n=name.toLowerCase();return"undefined"!=typeof names$$1[n]&&projStore[names$$1[n]]?projStore[names$$1[n]]:void 0}function start(){projs.forEach(add)}function eccentricity(a,b,rf,R_A){var a2=a*a,b2=b*b,es=(a2-b2)/a2,e=0;R_A?(a*=1-es*(SIXTH+es*(RA4+es*RA6)),a2=a*a,es=0):e=Math.sqrt(es);var ep2=(a2-b2)/b2;return{es:es,e:e,ep2:ep2}}function sphere(a,b,rf,ellps,sphere){if(!a){var ellipse=match(exports$2,ellps);ellipse||(ellipse=WGS84),a=ellipse.a,b=ellipse.b,rf=ellipse.rf}return rf&&!b&&(b=(1-1/rf)*a),(0===rf||Math.abs(a-b)<EPSLN)&&(sphere=!0,b=a),{a:a,b:b,rf:rf,sphere:sphere}}function datum(datumCode,datum_params,a,b,es,ep2){var out={};return out.datum_type=void 0===datumCode||"none"===datumCode?PJD_NODATUM:PJD_WGS84,datum_params&&(out.datum_params=datum_params.map(parseFloat),(0!==out.datum_params[0]||0!==out.datum_params[1]||0!==out.datum_params[2])&&(out.datum_type=PJD_3PARAM),out.datum_params.length>3&&(0!==out.datum_params[3]||0!==out.datum_params[4]||0!==out.datum_params[5]||0!==out.datum_params[6])&&(out.datum_type=PJD_7PARAM,out.datum_params[3]*=SEC_TO_RAD,out.datum_params[4]*=SEC_TO_RAD,out.datum_params[5]*=SEC_TO_RAD,out.datum_params[6]=out.datum_params[6]/1e6+1)),out.a=a,out.b=b,out.es=es,out.ep2=ep2,out}function Projection$1(srsCode,callback){if(!(this instanceof Projection$1))return new Projection$1(srsCode);callback=callback||function(error){if(error)throw error};var json=parse(srsCode);if("object"!=typeof json)return void callback(srsCode);var ourProj=Projection$1.projections.get(json.projName);if(!ourProj)return void callback(srsCode);if(json.datumCode&&"none"!==json.datumCode){var datumDef=match(exports$3,json.datumCode);datumDef&&(json.datum_params=datumDef.towgs84?datumDef.towgs84.split(","):null,json.ellps=datumDef.ellipse,json.datumName=datumDef.datumName?datumDef.datumName:json.datumCode)}json.k0=json.k0||1,json.axis=json.axis||"enu",json.ellps=json.ellps||"wgs84";var sphere_=sphere(json.a,json.b,json.rf,json.ellps,json.sphere),ecc=eccentricity(sphere_.a,sphere_.b,sphere_.rf,json.R_A),datumObj=json.datum||datum(json.datumCode,json.datum_params,sphere_.a,sphere_.b,ecc.es,ecc.ep2);extend(this,json),extend(this,ourProj),this.a=sphere_.a,this.b=sphere_.b,
this.rf=sphere_.rf,this.sphere=sphere_.sphere,this.es=ecc.es,this.e=ecc.e,this.ep2=ecc.ep2,this.datum=datumObj,this.init(),callback(null,this)}function compareDatums(source,dest){return source.datum_type!==dest.datum_type?!1:source.a!==dest.a||Math.abs(source.es-dest.es)>5e-11?!1:source.datum_type===PJD_3PARAM?source.datum_params[0]===dest.datum_params[0]&&source.datum_params[1]===dest.datum_params[1]&&source.datum_params[2]===dest.datum_params[2]:source.datum_type===PJD_7PARAM?source.datum_params[0]===dest.datum_params[0]&&source.datum_params[1]===dest.datum_params[1]&&source.datum_params[2]===dest.datum_params[2]&&source.datum_params[3]===dest.datum_params[3]&&source.datum_params[4]===dest.datum_params[4]&&source.datum_params[5]===dest.datum_params[5]&&source.datum_params[6]===dest.datum_params[6]:!0}function geodeticToGeocentric(p,es,a){var Rn,Sin_Lat,Sin2_Lat,Cos_Lat,Longitude=p.x,Latitude=p.y,Height=p.z?p.z:0;if(-HALF_PI>Latitude&&Latitude>-1.001*HALF_PI)Latitude=-HALF_PI;else if(Latitude>HALF_PI&&1.001*HALF_PI>Latitude)Latitude=HALF_PI;else if(-HALF_PI>Latitude||Latitude>HALF_PI)return null;return Longitude>Math.PI&&(Longitude-=2*Math.PI),Sin_Lat=Math.sin(Latitude),Cos_Lat=Math.cos(Latitude),Sin2_Lat=Sin_Lat*Sin_Lat,Rn=a/Math.sqrt(1-es*Sin2_Lat),{x:(Rn+Height)*Cos_Lat*Math.cos(Longitude),y:(Rn+Height)*Cos_Lat*Math.sin(Longitude),z:(Rn*(1-es)+Height)*Sin_Lat}}function geocentricToGeodetic(p,es,a,b){var P,RR,CT,ST,RX,RK,RN,CPHI0,SPHI0,CPHI,SPHI,SDPHI,iter,Longitude,Latitude,Height,genau=1e-12,genau2=genau*genau,maxiter=30,X=p.x,Y=p.y,Z=p.z?p.z:0;if(P=Math.sqrt(X*X+Y*Y),RR=Math.sqrt(X*X+Y*Y+Z*Z),genau>P/a){if(Longitude=0,genau>RR/a)return Latitude=HALF_PI,Height=-b,{x:p.x,y:p.y,z:p.z}}else Longitude=Math.atan2(Y,X);CT=Z/RR,ST=P/RR,RX=1/Math.sqrt(1-es*(2-es)*ST*ST),CPHI0=ST*(1-es)*RX,SPHI0=CT*RX,iter=0;do iter++,RN=a/Math.sqrt(1-es*SPHI0*SPHI0),Height=P*CPHI0+Z*SPHI0-RN*(1-es*SPHI0*SPHI0),RK=es*RN/(RN+Height),RX=1/Math.sqrt(1-RK*(2-RK)*ST*ST),CPHI=ST*(1-RK)*RX,SPHI=CT*RX,SDPHI=SPHI*CPHI0-CPHI*SPHI0,CPHI0=CPHI,SPHI0=SPHI;while(SDPHI*SDPHI>genau2&&maxiter>iter);return Latitude=Math.atan(SPHI/Math.abs(CPHI)),{x:Longitude,y:Latitude,z:Height}}function geocentricToWgs84(p,datum_type,datum_params){if(datum_type===PJD_3PARAM)return{x:p.x+datum_params[0],y:p.y+datum_params[1],z:p.z+datum_params[2]};if(datum_type===PJD_7PARAM){var Dx_BF=datum_params[0],Dy_BF=datum_params[1],Dz_BF=datum_params[2],Rx_BF=datum_params[3],Ry_BF=datum_params[4],Rz_BF=datum_params[5],M_BF=datum_params[6];return{x:M_BF*(p.x-Rz_BF*p.y+Ry_BF*p.z)+Dx_BF,y:M_BF*(Rz_BF*p.x+p.y-Rx_BF*p.z)+Dy_BF,z:M_BF*(-Ry_BF*p.x+Rx_BF*p.y+p.z)+Dz_BF}}}function geocentricFromWgs84(p,datum_type,datum_params){if(datum_type===PJD_3PARAM)return{x:p.x-datum_params[0],y:p.y-datum_params[1],z:p.z-datum_params[2]};if(datum_type===PJD_7PARAM){var Dx_BF=datum_params[0],Dy_BF=datum_params[1],Dz_BF=datum_params[2],Rx_BF=datum_params[3],Ry_BF=datum_params[4],Rz_BF=datum_params[5],M_BF=datum_params[6],x_tmp=(p.x-Dx_BF)/M_BF,y_tmp=(p.y-Dy_BF)/M_BF,z_tmp=(p.z-Dz_BF)/M_BF;return{x:x_tmp+Rz_BF*y_tmp-Ry_BF*z_tmp,y:-Rz_BF*x_tmp+y_tmp+Rx_BF*z_tmp,z:Ry_BF*x_tmp-Rx_BF*y_tmp+z_tmp}}}function checkParams(type){return type===PJD_3PARAM||type===PJD_7PARAM}function checkNotWGS(source,dest){return(source.datum.datum_type===PJD_3PARAM||source.datum.datum_type===PJD_7PARAM)&&"WGS84"!==dest.datumCode||(dest.datum.datum_type===PJD_3PARAM||dest.datum.datum_type===PJD_7PARAM)&&"WGS84"!==source.datumCode}function transform(source,dest,point){var wgs84;return Array.isArray(point)&&(point=toPoint(point)),source.datum&&dest.datum&&checkNotWGS(source,dest)&&(wgs84=new Projection$1("WGS84"),point=transform(source,wgs84,point),source=wgs84),"enu"!==source.axis&&(point=adjust_axis(source,!1,point)),"longlat"===source.projName?point={x:point.x*D2R,y:point.y*D2R}:(source.to_meter&&(point={x:point.x*source.to_meter,y:point.y*source.to_meter}),point=source.inverse(point)),source.from_greenwich&&(point.x+=source.from_greenwich),point=datum_transform(source.datum,dest.datum,point),dest.from_greenwich&&(point={x:point.x-dest.from_greenwich,y:point.y}),"longlat"===dest.projName?point={x:point.x*R2D,y:point.y*R2D}:(point=dest.forward(point),dest.to_meter&&(point={x:point.x/dest.to_meter,y:point.y/dest.to_meter})),"enu"!==dest.axis?adjust_axis(dest,!0,point):point}function transformer(from,to,coords){var transformedArray;return Array.isArray(coords)?(transformedArray=transform(from,to,coords),3===coords.length?[transformedArray.x,transformedArray.y,transformedArray.z]:[transformedArray.x,transformedArray.y]):transform(from,to,coords)}function checkProj(item){return item instanceof Projection$1?item:item.oProj?item.oProj:Projection$1(item)}function proj4$1(fromProj,toProj,coord){fromProj=checkProj(fromProj);var obj,single=!1;return"undefined"==typeof toProj?(toProj=fromProj,fromProj=wgs84,single=!0):("undefined"!=typeof toProj.x||Array.isArray(toProj))&&(coord=toProj,toProj=fromProj,fromProj=wgs84,single=!0),toProj=checkProj(toProj),coord?transformer(fromProj,toProj,coord):(obj={forward:function(coords){return transformer(fromProj,toProj,coords)},inverse:function(coords){return transformer(toProj,fromProj,coords)}},single&&(obj.oProj=toProj),obj)}function forward$1(ll,accuracy){return accuracy=accuracy||5,encode(LLtoUTM({lat:ll[1],lon:ll[0]}),accuracy)}function inverse$1(mgrs){var bbox=UTMtoLL(decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat,bbox.lon,bbox.lat]:[bbox.left,bbox.bottom,bbox.right,bbox.top]}function toPoint$1(mgrs){var bbox=UTMtoLL(decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat]:[(bbox.left+bbox.right)/2,(bbox.top+bbox.bottom)/2]}function degToRad(deg){return deg*(Math.PI/180)}function radToDeg(rad){return 180*(rad/Math.PI)}function LLtoUTM(ll){var LongOrigin,eccPrimeSquared,N,T,C,A,M,LongOriginRad,ZoneNumber,Lat=ll.lat,Long=ll.lon,a=6378137,eccSquared=.00669438,k0=.9996,LatRad=degToRad(Lat),LongRad=degToRad(Long);ZoneNumber=Math.floor((Long+180)/6)+1,180===Long&&(ZoneNumber=60),Lat>=56&&64>Lat&&Long>=3&&12>Long&&(ZoneNumber=32),Lat>=72&&84>Lat&&(Long>=0&&9>Long?ZoneNumber=31:Long>=9&&21>Long?ZoneNumber=33:Long>=21&&33>Long?ZoneNumber=35:Long>=33&&42>Long&&(ZoneNumber=37)),LongOrigin=6*(ZoneNumber-1)-180+3,LongOriginRad=degToRad(LongOrigin),eccPrimeSquared=eccSquared/(1-eccSquared),N=a/Math.sqrt(1-eccSquared*Math.sin(LatRad)*Math.sin(LatRad)),T=Math.tan(LatRad)*Math.tan(LatRad),C=eccPrimeSquared*Math.cos(LatRad)*Math.cos(LatRad),A=Math.cos(LatRad)*(LongRad-LongOriginRad),M=a*((1-eccSquared/4-3*eccSquared*eccSquared/64-5*eccSquared*eccSquared*eccSquared/256)*LatRad-(3*eccSquared/8+3*eccSquared*eccSquared/32+45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(2*LatRad)+(15*eccSquared*eccSquared/256+45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(4*LatRad)-35*eccSquared*eccSquared*eccSquared/3072*Math.sin(6*LatRad));var UTMEasting=k0*N*(A+(1-T+C)*A*A*A/6+(5-18*T+T*T+72*C-58*eccPrimeSquared)*A*A*A*A*A/120)+5e5,UTMNorthing=k0*(M+N*Math.tan(LatRad)*(A*A/2+(5-T+9*C+4*C*C)*A*A*A*A/24+(61-58*T+T*T+600*C-330*eccPrimeSquared)*A*A*A*A*A*A/720));return 0>Lat&&(UTMNorthing+=1e7),{northing:Math.round(UTMNorthing),easting:Math.round(UTMEasting),zoneNumber:ZoneNumber,zoneLetter:getLetterDesignator(Lat)}}function UTMtoLL(utm){var UTMNorthing=utm.northing,UTMEasting=utm.easting,zoneLetter=utm.zoneLetter,zoneNumber=utm.zoneNumber;if(0>zoneNumber||zoneNumber>60)return null;var eccPrimeSquared,N1,T1,C1,R1,D,M,LongOrigin,mu,phi1Rad,k0=.9996,a=6378137,eccSquared=.00669438,e1=(1-Math.sqrt(1-eccSquared))/(1+Math.sqrt(1-eccSquared)),x=UTMEasting-5e5,y=UTMNorthing;"N">zoneLetter&&(y-=1e7),LongOrigin=6*(zoneNumber-1)-180+3,eccPrimeSquared=eccSquared/(1-eccSquared),M=y/k0,mu=M/(a*(1-eccSquared/4-3*eccSquared*eccSquared/64-5*eccSquared*eccSquared*eccSquared/256)),phi1Rad=mu+(3*e1/2-27*e1*e1*e1/32)*Math.sin(2*mu)+(21*e1*e1/16-55*e1*e1*e1*e1/32)*Math.sin(4*mu)+151*e1*e1*e1/96*Math.sin(6*mu),N1=a/Math.sqrt(1-eccSquared*Math.sin(phi1Rad)*Math.sin(phi1Rad)),T1=Math.tan(phi1Rad)*Math.tan(phi1Rad),C1=eccPrimeSquared*Math.cos(phi1Rad)*Math.cos(phi1Rad),R1=a*(1-eccSquared)/Math.pow(1-eccSquared*Math.sin(phi1Rad)*Math.sin(phi1Rad),1.5),D=x/(N1*k0);var lat=phi1Rad-N1*Math.tan(phi1Rad)/R1*(D*D/2-(5+3*T1+10*C1-4*C1*C1-9*eccPrimeSquared)*D*D*D*D/24+(61+90*T1+298*C1+45*T1*T1-252*eccPrimeSquared-3*C1*C1)*D*D*D*D*D*D/720);lat=radToDeg(lat);var lon=(D-(1+2*T1+C1)*D*D*D/6+(5-2*C1+28*T1-3*C1*C1+8*eccPrimeSquared+24*T1*T1)*D*D*D*D*D/120)/Math.cos(phi1Rad);lon=LongOrigin+radToDeg(lon);var result;if(utm.accuracy){var topRight=UTMtoLL({northing:utm.northing+utm.accuracy,easting:utm.easting+utm.accuracy,zoneLetter:utm.zoneLetter,zoneNumber:utm.zoneNumber});result={top:topRight.lat,right:topRight.lon,bottom:lat,left:lon}}else result={lat:lat,lon:lon};return result}function getLetterDesignator(lat){var LetterDesignator="Z";return 84>=lat&&lat>=72?LetterDesignator="X":72>lat&&lat>=64?LetterDesignator="W":64>lat&&lat>=56?LetterDesignator="V":56>lat&&lat>=48?LetterDesignator="U":48>lat&&lat>=40?LetterDesignator="T":40>lat&&lat>=32?LetterDesignator="S":32>lat&&lat>=24?LetterDesignator="R":24>lat&&lat>=16?LetterDesignator="Q":16>lat&&lat>=8?LetterDesignator="P":8>lat&&lat>=0?LetterDesignator="N":0>lat&&lat>=-8?LetterDesignator="M":-8>lat&&lat>=-16?LetterDesignator="L":-16>lat&&lat>=-24?LetterDesignator="K":-24>lat&&lat>=-32?LetterDesignator="J":-32>lat&&lat>=-40?LetterDesignator="H":-40>lat&&lat>=-48?LetterDesignator="G":-48>lat&&lat>=-56?LetterDesignator="F":-56>lat&&lat>=-64?LetterDesignator="E":-64>lat&&lat>=-72?LetterDesignator="D":-72>lat&&lat>=-80&&(LetterDesignator="C"),LetterDesignator}function encode(utm,accuracy){var seasting="00000"+utm.easting,snorthing="00000"+utm.northing;return utm.zoneNumber+utm.zoneLetter+get100kID(utm.easting,utm.northing,utm.zoneNumber)+seasting.substr(seasting.length-5,accuracy)+snorthing.substr(snorthing.length-5,accuracy)}function get100kID(easting,northing,zoneNumber){var setParm=get100kSetForZone(zoneNumber),setColumn=Math.floor(easting/1e5),setRow=Math.floor(northing/1e5)%20;return getLetter100kID(setColumn,setRow,setParm)}function get100kSetForZone(i){var setParm=i%NUM_100K_SETS;return 0===setParm&&(setParm=NUM_100K_SETS),setParm}function getLetter100kID(column,row,parm){var index=parm-1,colOrigin=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index),rowOrigin=SET_ORIGIN_ROW_LETTERS.charCodeAt(index),colInt=colOrigin+column-1,rowInt=rowOrigin+row,rollover=!1;colInt>Z&&(colInt=colInt-Z+A-1,rollover=!0),(colInt===I||I>colOrigin&&colInt>I||(colInt>I||I>colOrigin)&&rollover)&&colInt++,(colInt===O||O>colOrigin&&colInt>O||(colInt>O||O>colOrigin)&&rollover)&&(colInt++,colInt===I&&colInt++),colInt>Z&&(colInt=colInt-Z+A-1),rowInt>V?(rowInt=rowInt-V+A-1,rollover=!0):rollover=!1,(rowInt===I||I>rowOrigin&&rowInt>I||(rowInt>I||I>rowOrigin)&&rollover)&&rowInt++,(rowInt===O||O>rowOrigin&&rowInt>O||(rowInt>O||O>rowOrigin)&&rollover)&&(rowInt++,rowInt===I&&rowInt++),rowInt>V&&(rowInt=rowInt-V+A-1);var twoLetter=String.fromCharCode(colInt)+String.fromCharCode(rowInt);return twoLetter}function decode(mgrsString){if(mgrsString&&0===mgrsString.length)throw"MGRSPoint coverting from nothing";for(var testChar,length=mgrsString.length,hunK=null,sb="",i=0;!/[A-Z]/.test(testChar=mgrsString.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+mgrsString;sb+=testChar,i++}var zoneNumber=parseInt(sb,10);if(0===i||i+3>length)throw"MGRSPoint bad conversion from: "+mgrsString;var zoneLetter=mgrsString.charAt(i++);if("A">=zoneLetter||"B"===zoneLetter||"Y"===zoneLetter||zoneLetter>="Z"||"I"===zoneLetter||"O"===zoneLetter)throw"MGRSPoint zone letter "+zoneLetter+" not handled: "+mgrsString;hunK=mgrsString.substring(i,i+=2);for(var set=get100kSetForZone(zoneNumber),east100k=getEastingFromChar(hunK.charAt(0),set),north100k=getNorthingFromChar(hunK.charAt(1),set);north100k<getMinNorthing(zoneLetter);)north100k+=2e6;var remainder=length-i;if(remainder%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+mgrsString;var accuracyBonus,sepEastingString,sepNorthingString,easting,northing,sep=remainder/2,sepEasting=0,sepNorthing=0;return sep>0&&(accuracyBonus=1e5/Math.pow(10,sep),sepEastingString=mgrsString.substring(i,i+sep),sepEasting=parseFloat(sepEastingString)*accuracyBonus,sepNorthingString=mgrsString.substring(i+sep),sepNorthing=parseFloat(sepNorthingString)*accuracyBonus),easting=sepEasting+east100k,northing=sepNorthing+north100k,{easting:easting,northing:northing,zoneLetter:zoneLetter,zoneNumber:zoneNumber,accuracy:accuracyBonus}}function getEastingFromChar(e,set){for(var curCol=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set-1),eastingValue=1e5,rewindMarker=!1;curCol!==e.charCodeAt(0);){if(curCol++,curCol===I&&curCol++,curCol===O&&curCol++,curCol>Z){if(rewindMarker)throw"Bad character: "+e;curCol=A,rewindMarker=!0}eastingValue+=1e5}return eastingValue}function getNorthingFromChar(n,set){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var curRow=SET_ORIGIN_ROW_LETTERS.charCodeAt(set-1),northingValue=0,rewindMarker=!1;curRow!==n.charCodeAt(0);){if(curRow++,curRow===I&&curRow++,curRow===O&&curRow++,curRow>V){if(rewindMarker)throw"Bad character: "+n;curRow=A,rewindMarker=!0}northingValue+=1e5}return northingValue}function getMinNorthing(zoneLetter){var northing;switch(zoneLetter){case"C":northing=11e5;break;case"D":northing=2e6;break;case"E":northing=28e5;break;case"F":northing=37e5;break;case"G":northing=46e5;break;case"H":northing=55e5;break;case"J":northing=64e5;break;case"K":northing=73e5;break;case"L":northing=82e5;break;case"M":northing=91e5;break;case"N":northing=0;break;case"P":northing=8e5;break;case"Q":northing=17e5;break;case"R":northing=26e5;break;case"S":northing=35e5;break;case"T":northing=44e5;break;case"U":northing=53e5;break;case"V":northing=62e5;break;case"W":northing=7e6;break;case"X":northing=79e5;break;default:northing=-1}if(northing>=0)return northing;throw"Invalid zone letter: "+zoneLetter}function Point(x,y,z){if(!(this instanceof Point))return new Point(x,y,z);if(Array.isArray(x))this.x=x[0],this.y=x[1],this.z=x[2]||0;else if("object"==typeof x)this.x=x.x,this.y=x.y,this.z=x.z||0;else if("string"==typeof x&&"undefined"==typeof y){var coords=x.split(",");this.x=parseFloat(coords[0],10),this.y=parseFloat(coords[1],10),this.z=parseFloat(coords[2],10)||0}else this.x=x,this.y=y,this.z=z||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function init$2(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=pj_enfn(this.es),this.ml0=pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function forward$2(p){var con,x,y,lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0),sin_phi=Math.sin(lat),cos_phi=Math.cos(lat);if(this.es){var al=cos_phi*delta_lon,als=Math.pow(al,2),c=this.ep2*Math.pow(cos_phi,2),cs=Math.pow(c,2),tq=Math.abs(cos_phi)>EPSLN?Math.tan(lat):0,t=Math.pow(tq,2),ts=Math.pow(t,2);con=1-this.es*Math.pow(sin_phi,2),al/=Math.sqrt(con);var ml=pj_mlfn(lat,sin_phi,cos_phi,this.en);x=this.a*this.k0*al*(1+als/6*(1-t+c+als/20*(5-18*t+ts+14*c-58*t*c+als/42*(61+179*ts-ts*t-479*t))))+this.x0,y=this.a*this.k0*(ml-this.ml0+sin_phi*delta_lon*al/2*(1+als/12*(5-t+9*c+4*cs+als/30*(61+ts-58*t+270*c-330*t*c+als/56*(1385+543*ts-ts*t-3111*t)))))+this.y0}else{var b=cos_phi*Math.sin(delta_lon);if(Math.abs(Math.abs(b)-1)<EPSLN)return 93;if(x=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,y=cos_phi*Math.cos(delta_lon)/Math.sqrt(1-Math.pow(b,2)),b=Math.abs(y),b>=1){if(b-1>EPSLN)return 93;y=0}else y=Math.acos(y);0>lat&&(y=-y),y=this.a*this.k0*(y-this.lat0)+this.y0}return p.x=x,p.y=y,p}function inverse$2(p){var con,phi,lat,lon,x=(p.x-this.x0)*(1/this.a),y=(p.y-this.y0)*(1/this.a);if(this.es)if(con=this.ml0+y/this.k0,phi=pj_inv_mlfn(con,this.es,this.en),Math.abs(phi)<HALF_PI){var sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),tan_phi=Math.abs(cos_phi)>EPSLN?Math.tan(phi):0,c=this.ep2*Math.pow(cos_phi,2),cs=Math.pow(c,2),t=Math.pow(tan_phi,2),ts=Math.pow(t,2);con=1-this.es*Math.pow(sin_phi,2);var d=x*Math.sqrt(con)/this.k0,ds=Math.pow(d,2);con*=tan_phi,lat=phi-con*ds/(1-this.es)*.5*(1-ds/12*(5+3*t-9*c*t+c-4*cs-ds/30*(61+90*t-252*c*t+45*ts+46*c-ds/56*(1385+3633*t+4095*ts+1574*ts*t)))),lon=adjust_lon(this.long0+d*(1-ds/6*(1+2*t+c-ds/20*(5+28*t+24*ts+8*c*t+6*c-ds/42*(61+662*t+1320*ts+720*ts*t))))/cos_phi)}else lat=HALF_PI*sign(y),lon=0;else{var f=Math.exp(x/this.k0),g=.5*(f-1/f),temp=this.lat0+y/this.k0,h=Math.cos(temp);con=Math.sqrt((1-Math.pow(h,2))/(1+Math.pow(g,2))),lat=Math.asin(con),0>y&&(lat=-lat),lon=0===g&&0===h?0:adjust_lon(Math.atan2(g,h)+this.long0)}return p.x=lon,p.y=lat,p}function init$3(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var f=this.es/(1+Math.sqrt(1-this.es)),n=f/(2-f),np=n;this.cgb[0]=n*(2+n*(-2/3+n*(-2+n*(116/45+n*(26/45+n*(-2854/675)))))),this.cbg[0]=n*(-2+n*(2/3+n*(4/3+n*(-82/45+n*(32/45+n*(4642/4725)))))),np*=n,this.cgb[1]=np*(7/3+n*(-1.6+n*(-227/45+n*(2704/315+n*(2323/945))))),this.cbg[1]=np*(5/3+n*(-16/15+n*(-13/9+n*(904/315+n*(-1522/945))))),np*=n,this.cgb[2]=np*(56/15+n*(-136/35+n*(-1262/105+n*(73814/2835)))),this.cbg[2]=np*(-26/15+n*(34/21+n*(1.6+n*(-12686/2835)))),np*=n,this.cgb[3]=np*(4279/630+n*(-332/35+n*(-399572/14175))),this.cbg[3]=np*(1237/630+n*(-2.4+n*(-24832/14175))),np*=n,this.cgb[4]=np*(4174/315+n*(-144838/6237)),this.cbg[4]=np*(-734/315+n*(109598/31185)),np*=n,this.cgb[5]=np*(601676/22275),this.cbg[5]=np*(444337/155925),np=Math.pow(n,2),this.Qn=this.k0/(1+n)*(1+np*(.25+np*(1/64+np/256))),this.utg[0]=n*(-.5+n*(2/3+n*(-37/96+n*(1/360+n*(81/512+n*(-96199/604800)))))),this.gtu[0]=n*(.5+n*(-2/3+n*(5/16+n*(41/180+n*(-127/288+n*(7891/37800)))))),this.utg[1]=np*(-1/48+n*(-1/15+n*(437/1440+n*(-46/105+n*(1118711/3870720))))),this.gtu[1]=np*(13/48+n*(-0.6+n*(557/1440+n*(281/630+n*(-1983433/1935360))))),np*=n,this.utg[2]=np*(-17/480+n*(37/840+n*(209/4480+n*(-5569/90720)))),this.gtu[2]=np*(61/240+n*(-103/140+n*(15061/26880+n*(167603/181440)))),np*=n,this.utg[3]=np*(-4397/161280+n*(11/504+n*(830251/7257600))),this.gtu[3]=np*(49561/161280+n*(-179/168+n*(6601661/7257600))),np*=n,this.utg[4]=np*(-4583/161280+n*(108847/3991680)),this.gtu[4]=np*(34729/80640+n*(-3418889/1995840)),np*=n,this.utg[5]=np*(-20648693/638668800),this.gtu[5]=.6650675310896665*np;var Z=gatg(this.cbg,this.lat0);this.Zb=-this.Qn*(Z+clens(this.gtu,2*Z))}function forward$3(p){var Ce=adjust_lon(p.x-this.long0),Cn=p.y;Cn=gatg(this.cbg,Cn);var sin_Cn=Math.sin(Cn),cos_Cn=Math.cos(Cn),sin_Ce=Math.sin(Ce),cos_Ce=Math.cos(Ce);Cn=Math.atan2(sin_Cn,cos_Ce*cos_Cn),Ce=Math.atan2(sin_Ce*cos_Cn,hypot(sin_Cn,cos_Cn*cos_Ce)),Ce=asinhy(Math.tan(Ce));var tmp=clens_cmplx(this.gtu,2*Cn,2*Ce);Cn+=tmp[0],Ce+=tmp[1];var x,y;return Math.abs(Ce)<=2.623395162778?(x=this.a*this.Qn*Ce+this.x0,y=this.a*(this.Qn*Cn+this.Zb)+this.y0):(x=1/0,y=1/0),p.x=x,p.y=y,p}function inverse$3(p){var Ce=(p.x-this.x0)*(1/this.a),Cn=(p.y-this.y0)*(1/this.a);Cn=(Cn-this.Zb)/this.Qn,Ce/=this.Qn;var lon,lat;if(Math.abs(Ce)<=2.623395162778){var tmp=clens_cmplx(this.utg,2*Cn,2*Ce);Cn+=tmp[0],Ce+=tmp[1],Ce=Math.atan(sinh(Ce));var sin_Cn=Math.sin(Cn),cos_Cn=Math.cos(Cn),sin_Ce=Math.sin(Ce),cos_Ce=Math.cos(Ce);Cn=Math.atan2(sin_Cn*cos_Ce,hypot(sin_Ce,cos_Ce*cos_Cn)),Ce=Math.atan2(sin_Ce,cos_Ce*cos_Cn),lon=adjust_lon(Ce+this.long0),lat=gatg(this.cgb,Cn)}else lon=1/0,lat=1/0;return p.x=lon,p.y=lat,p}function init$4(){var zone=adjust_zone(this.zone,this.long0);if(void 0===zone)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(zone)-183)*D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,etmerc.init.apply(this),this.forward=etmerc.forward,this.inverse=etmerc.inverse}function init$6(){var sphi=Math.sin(this.lat0),cphi=Math.cos(this.lat0);cphi*=cphi,this.rc=Math.sqrt(1-this.es)/(1-this.es*sphi*sphi),this.C=Math.sqrt(1+this.es*cphi*cphi/(1-this.es)),this.phic0=Math.asin(sphi/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*sphi,this.ratexp))}function forward$5(p){var lon=p.x,lat=p.y;return p.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*lat+FORTPI),this.C)*srat(this.e*Math.sin(lat),this.ratexp))-HALF_PI,p.x=this.C*lon,p}function inverse$5(p){for(var DEL_TOL=1e-14,lon=p.x/this.C,lat=p.y,num=Math.pow(Math.tan(.5*lat+FORTPI)/this.K,1/this.C),i=MAX_ITER$1;i>0&&(lat=2*Math.atan(num*srat(this.e*Math.sin(p.y),-.5*this.e))-HALF_PI,!(Math.abs(lat-p.y)<DEL_TOL));--i)p.y=lat;return i?(p.x=lon,p.y=lat,p):null}function init$5(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function forward$4(p){var sinc,cosc,cosl,k;return p.x=adjust_lon(p.x-this.long0),gauss.forward.apply(this,[p]),sinc=Math.sin(p.y),cosc=Math.cos(p.y),cosl=Math.cos(p.x),k=this.k0*this.R2/(1+this.sinc0*sinc+this.cosc0*cosc*cosl),p.x=k*cosc*Math.sin(p.x),p.y=k*(this.cosc0*sinc-this.sinc0*cosc*cosl),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p}function inverse$4(p){var sinc,cosc,lon,lat,rho;if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,rho=Math.sqrt(p.x*p.x+p.y*p.y)){var c=2*Math.atan2(rho,this.R2);sinc=Math.sin(c),cosc=Math.cos(c),lat=Math.asin(cosc*this.sinc0+p.y*sinc*this.cosc0/rho),lon=Math.atan2(p.x*sinc,rho*this.cosc0*cosc-p.y*this.sinc0*sinc)}else lat=this.phic0,lon=0;return p.x=lon,p.y=lat,gauss.inverse.apply(this,[p]),p.x=adjust_lon(p.x+this.long0),p}function ssfn_(phit,sinphi,eccen){return sinphi*=eccen,Math.tan(.5*(HALF_PI+phit))*Math.pow((1-sinphi)/(1+sinphi),.5*eccen)}function init$7(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function forward$6(p){var A,X,sinX,cosX,ts,rh,lon=p.x,lat=p.y,sinlat=Math.sin(lat),coslat=Math.cos(lat),dlon=adjust_lon(lon-this.long0);return Math.abs(Math.abs(lon-this.long0)-Math.PI)<=EPSLN&&Math.abs(lat+this.lat0)<=EPSLN?(p.x=0/0,p.y=0/0,p):this.sphere?(A=2*this.k0/(1+this.sinlat0*sinlat+this.coslat0*coslat*Math.cos(dlon)),p.x=this.a*A*coslat*Math.sin(dlon)+this.x0,p.y=this.a*A*(this.coslat0*sinlat-this.sinlat0*coslat*Math.cos(dlon))+this.y0,p):(X=2*Math.atan(this.ssfn_(lat,sinlat,this.e))-HALF_PI,cosX=Math.cos(X),sinX=Math.sin(X),Math.abs(this.coslat0)<=EPSLN?(ts=tsfnz(this.e,lat*this.con,this.con*sinlat),rh=2*this.a*this.k0*ts/this.cons,p.x=this.x0+rh*Math.sin(lon-this.long0),p.y=this.y0-this.con*rh*Math.cos(lon-this.long0),p):(Math.abs(this.sinlat0)<EPSLN?(A=2*this.a*this.k0/(1+cosX*Math.cos(dlon)),p.y=A*sinX):(A=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*sinX+this.cosX0*cosX*Math.cos(dlon))),p.y=A*(this.cosX0*sinX-this.sinX0*cosX*Math.cos(dlon))+this.y0),p.x=A*cosX*Math.sin(dlon)+this.x0,p))}function inverse$6(p){p.x-=this.x0,p.y-=this.y0;var lon,lat,ts,ce,Chi,rh=Math.sqrt(p.x*p.x+p.y*p.y);if(this.sphere){var c=2*Math.atan(rh/(.5*this.a*this.k0));return lon=this.long0,lat=this.lat0,EPSLN>=rh?(p.x=lon,p.y=lat,p):(lat=Math.asin(Math.cos(c)*this.sinlat0+p.y*Math.sin(c)*this.coslat0/rh),lon=adjust_lon(Math.abs(this.coslat0)<EPSLN?this.lat0>0?this.long0+Math.atan2(p.x,-1*p.y):this.long0+Math.atan2(p.x,p.y):this.long0+Math.atan2(p.x*Math.sin(c),rh*this.coslat0*Math.cos(c)-p.y*this.sinlat0*Math.sin(c))),p.x=lon,p.y=lat,p)}if(Math.abs(this.coslat0)<=EPSLN){if(EPSLN>=rh)return lat=this.lat0,lon=this.long0,p.x=lon,p.y=lat,p;p.x*=this.con,p.y*=this.con,ts=rh*this.cons/(2*this.a*this.k0),lat=this.con*phi2z(this.e,ts),lon=this.con*adjust_lon(this.con*this.long0+Math.atan2(p.x,-1*p.y))}else ce=2*Math.atan(rh*this.cosX0/(2*this.a*this.k0*this.ms1)),lon=this.long0,EPSLN>=rh?Chi=this.X0:(Chi=Math.asin(Math.cos(ce)*this.sinX0+p.y*Math.sin(ce)*this.cosX0/rh),lon=adjust_lon(this.long0+Math.atan2(p.x*Math.sin(ce),rh*this.cosX0*Math.cos(ce)-p.y*this.sinX0*Math.sin(ce)))),lat=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+Chi)));return p.x=lon,p.y=lat,p}function init$8(){var phy0=this.lat0;this.lambda0=this.long0;var sinPhy0=Math.sin(phy0),semiMajorAxis=this.a,invF=this.rf,flattening=1/invF,e2=2*flattening-Math.pow(flattening,2),e=this.e=Math.sqrt(e2);this.R=this.k0*semiMajorAxis*Math.sqrt(1-e2)/(1-e2*Math.pow(sinPhy0,2)),this.alpha=Math.sqrt(1+e2/(1-e2)*Math.pow(Math.cos(phy0),4)),this.b0=Math.asin(sinPhy0/this.alpha);var k1=Math.log(Math.tan(Math.PI/4+this.b0/2)),k2=Math.log(Math.tan(Math.PI/4+phy0/2)),k3=Math.log((1+e*sinPhy0)/(1-e*sinPhy0));this.K=k1-this.alpha*k2+this.alpha*e/2*k3}function forward$7(p){var Sa1=Math.log(Math.tan(Math.PI/4-p.y/2)),Sa2=this.e/2*Math.log((1+this.e*Math.sin(p.y))/(1-this.e*Math.sin(p.y))),S=-this.alpha*(Sa1+Sa2)+this.K,b=2*(Math.atan(Math.exp(S))-Math.PI/4),I=this.alpha*(p.x-this.lambda0),rotI=Math.atan(Math.sin(I)/(Math.sin(this.b0)*Math.tan(b)+Math.cos(this.b0)*Math.cos(I))),rotB=Math.asin(Math.cos(this.b0)*Math.sin(b)-Math.sin(this.b0)*Math.cos(b)*Math.cos(I));return p.y=this.R/2*Math.log((1+Math.sin(rotB))/(1-Math.sin(rotB)))+this.y0,p.x=this.R*rotI+this.x0,p}function inverse$7(p){for(var Y=p.x-this.x0,X=p.y-this.y0,rotI=Y/this.R,rotB=2*(Math.atan(Math.exp(X/this.R))-Math.PI/4),b=Math.asin(Math.cos(this.b0)*Math.sin(rotB)+Math.sin(this.b0)*Math.cos(rotB)*Math.cos(rotI)),I=Math.atan(Math.sin(rotI)/(Math.cos(this.b0)*Math.cos(rotI)-Math.sin(this.b0)*Math.tan(rotB))),lambda=this.lambda0+I/this.alpha,S=0,phy=b,prevPhy=-1e3,iteration=0;Math.abs(phy-prevPhy)>1e-7;){if(++iteration>20)return;S=1/this.alpha*(Math.log(Math.tan(Math.PI/4+b/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(phy))/2)),prevPhy=phy,phy=2*Math.atan(Math.exp(S))-Math.PI/2}return p.x=lambda,p.y=phy,p}function init$9(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var sinlat=Math.sin(this.lat0),coslat=Math.cos(this.lat0),con=this.e*sinlat;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(coslat,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-con*con);var t0=tsfnz(this.e,this.lat0,sinlat),dl=this.bl/coslat*Math.sqrt((1-this.es)/(1-con*con));1>dl*dl&&(dl=1);var fl,gl;if(isNaN(this.longc)){var t1=tsfnz(this.e,this.lat1,Math.sin(this.lat1)),t2=tsfnz(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(dl+Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl):(dl-Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl);var hl=Math.pow(t1,this.bl),ll=Math.pow(t2,this.bl);fl=this.el/hl,gl=.5*(fl-1/fl);var jl=(this.el*this.el-ll*hl)/(this.el*this.el+ll*hl),pl=(ll-hl)/(ll+hl),dlon12=adjust_lon(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(jl*Math.tan(.5*this.bl*dlon12)/pl)/this.bl,this.long0=adjust_lon(this.long0);var dlon10=adjust_lon(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*dlon10)/gl),this.alpha=Math.asin(dl*Math.sin(this.gamma0))}else fl=this.lat0>=0?dl+Math.sqrt(dl*dl-1):dl-Math.sqrt(dl*dl-1),this.el=fl*Math.pow(t0,this.bl),gl=.5*(fl-1/fl),this.gamma0=Math.asin(Math.sin(this.alpha)/dl),this.long0=this.longc-Math.asin(gl*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha))}function forward$8(p){var us,vs,con,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)con=lat>0?-1:1,vs=this.al/this.bl*Math.log(Math.tan(FORTPI+con*this.gamma0*.5)),us=-1*con*HALF_PI*this.al/this.bl;else{var t=tsfnz(this.e,lat,Math.sin(lat)),ql=this.el/Math.pow(t,this.bl),sl=.5*(ql-1/ql),tl=.5*(ql+1/ql),vl=Math.sin(this.bl*dlon),ul=(sl*Math.sin(this.gamma0)-vl*Math.cos(this.gamma0))/tl;vs=Math.abs(Math.abs(ul)-1)<=EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-ul)/(1+ul))/this.bl,us=Math.abs(Math.cos(this.bl*dlon))<=EPSLN?this.al*this.bl*dlon:this.al*Math.atan2(sl*Math.cos(this.gamma0)+vl*Math.sin(this.gamma0),Math.cos(this.bl*dlon))/this.bl}return this.no_rot?(p.x=this.x0+us,p.y=this.y0+vs):(us-=this.uc,p.x=this.x0+vs*Math.cos(this.alpha)+us*Math.sin(this.alpha),p.y=this.y0+us*Math.cos(this.alpha)-vs*Math.sin(this.alpha)),p}function inverse$8(p){var us,vs;this.no_rot?(vs=p.y-this.y0,us=p.x-this.x0):(vs=(p.x-this.x0)*Math.cos(this.alpha)-(p.y-this.y0)*Math.sin(this.alpha),us=(p.y-this.y0)*Math.cos(this.alpha)+(p.x-this.x0)*Math.sin(this.alpha),us+=this.uc);var qp=Math.exp(-1*this.bl*vs/this.al),sp=.5*(qp-1/qp),tp=.5*(qp+1/qp),vp=Math.sin(this.bl*us/this.al),up=(vp*Math.cos(this.gamma0)+sp*Math.sin(this.gamma0))/tp,ts=Math.pow(this.el/Math.sqrt((1+up)/(1-up)),1/this.bl);return Math.abs(up-1)<EPSLN?(p.x=this.long0,p.y=HALF_PI):Math.abs(up+1)<EPSLN?(p.x=this.long0,p.y=-1*HALF_PI):(p.y=phi2z(this.e,ts),p.x=adjust_lon(this.long0-Math.atan2(sp*Math.cos(this.gamma0)-vp*Math.sin(this.gamma0),Math.cos(this.bl*us/this.al))/this.bl)),p}function init$10(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var temp=this.b/this.a;this.e=Math.sqrt(1-temp*temp);var sin1=Math.sin(this.lat1),cos1=Math.cos(this.lat1),ms1=msfnz(this.e,sin1,cos1),ts1=tsfnz(this.e,this.lat1,sin1),sin2=Math.sin(this.lat2),cos2=Math.cos(this.lat2),ms2=msfnz(this.e,sin2,cos2),ts2=tsfnz(this.e,this.lat2,sin2),ts0=tsfnz(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>EPSLN?Math.log(ms1/ms2)/Math.log(ts1/ts2):sin1,isNaN(this.ns)&&(this.ns=sin1),this.f0=ms1/(this.ns*Math.pow(ts1,this.ns)),this.rh=this.a*this.f0*Math.pow(ts0,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function forward$9(p){var lon=p.x,lat=p.y;Math.abs(2*Math.abs(lat)-Math.PI)<=EPSLN&&(lat=sign(lat)*(HALF_PI-2*EPSLN));var ts,rh1,con=Math.abs(Math.abs(lat)-HALF_PI);if(con>EPSLN)ts=tsfnz(this.e,lat,Math.sin(lat)),rh1=this.a*this.f0*Math.pow(ts,this.ns);else{if(con=lat*this.ns,0>=con)return null;rh1=0}var theta=this.ns*adjust_lon(lon-this.long0);return p.x=this.k0*rh1*Math.sin(theta)+this.x0,p.y=this.k0*(this.rh-rh1*Math.cos(theta))+this.y0,p}function inverse$9(p){var rh1,con,ts,lat,lon,x=(p.x-this.x0)/this.k0,y=this.rh-(p.y-this.y0)/this.k0;this.ns>0?(rh1=Math.sqrt(x*x+y*y),con=1):(rh1=-Math.sqrt(x*x+y*y),con=-1);var theta=0;if(0!==rh1&&(theta=Math.atan2(con*x,con*y)),0!==rh1||this.ns>0){if(con=1/this.ns,ts=Math.pow(rh1/(this.a*this.f0),con),lat=phi2z(this.e,ts),-9999===lat)return null}else lat=-HALF_PI;return lon=adjust_lon(theta/this.ns+this.long0),p.x=lon,p.y=lat,p}function init$11(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,
this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function forward$10(p){var gfi,u,deltav,s,d,eps,ro,lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0);return gfi=Math.pow((1+this.e*Math.sin(lat))/(1-this.e*Math.sin(lat)),this.alfa*this.e/2),u=2*(Math.atan(this.k*Math.pow(Math.tan(lat/2+this.s45),this.alfa)/gfi)-this.s45),deltav=-delta_lon*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(u)+Math.sin(this.ad)*Math.cos(u)*Math.cos(deltav)),d=Math.asin(Math.cos(u)*Math.sin(deltav)/Math.cos(s)),eps=this.n*d,ro=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),p.y=ro*Math.cos(eps)/1,p.x=ro*Math.sin(eps)/1,this.czech||(p.y*=-1,p.x*=-1),p}function inverse$10(p){var u,deltav,s,d,eps,ro,fi1,ok,tmp=p.x;p.x=p.y,p.y=tmp,this.czech||(p.y*=-1,p.x*=-1),ro=Math.sqrt(p.x*p.x+p.y*p.y),eps=Math.atan2(p.y,p.x),d=eps/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/ro,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),u=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(d)),deltav=Math.asin(Math.cos(s)*Math.sin(d)/Math.cos(u)),p.x=this.long0-deltav/this.alfa,fi1=u,ok=0;var iter=0;do p.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(u/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(fi1))/(1-this.e*Math.sin(fi1)),this.e/2))-this.s45),Math.abs(fi1-p.y)<1e-10&&(ok=1),fi1=p.y,iter+=1;while(0===ok&&15>iter);return iter>=15?null:p}function init$12(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function forward$11(p){var x,y,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere)x=this.a*Math.asin(Math.cos(phi)*Math.sin(lam)),y=this.a*(Math.atan2(Math.tan(phi),Math.cos(lam))-this.lat0);else{var sinphi=Math.sin(phi),cosphi=Math.cos(phi),nl=gN(this.a,this.e,sinphi),tl=Math.tan(phi)*Math.tan(phi),al=lam*Math.cos(phi),asq=al*al,cl=this.es*cosphi*cosphi/(1-this.es),ml=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi);x=nl*al*(1-asq*tl*(1/6-(8-tl+8*cl)*asq/120)),y=ml-this.ml0+nl*sinphi/cosphi*asq*(.5+(5-tl+6*cl)*asq/24)}return p.x=x+this.x0,p.y=y+this.y0,p}function inverse$11(p){p.x-=this.x0,p.y-=this.y0;var phi,lam,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var dd=y+this.lat0;phi=Math.asin(Math.sin(dd)*Math.cos(x)),lam=Math.atan2(Math.tan(x),Math.cos(dd))}else{var ml1=this.ml0/this.a+y,phi1=imlfn(ml1,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(phi1)-HALF_PI)<=EPSLN)return p.x=this.long0,p.y=HALF_PI,0>y&&(p.y*=-1),p;var nl1=gN(this.a,this.e,Math.sin(phi1)),rl1=nl1*nl1*nl1/this.a/this.a*(1-this.es),tl1=Math.pow(Math.tan(phi1),2),dl=x*this.a/nl1,dsq=dl*dl;phi=phi1-nl1*Math.tan(phi1)/rl1*dl*dl*(.5-(1+3*tl1)*dl*dl/24),lam=dl*(1-dsq*(tl1/3+(1+3*tl1)*tl1*dsq/15))/Math.cos(phi1)}return p.x=adjust_lon(lam+this.long0),p.y=adjust_lat(phi),p}function init$13(){var t=Math.abs(this.lat0);if(this.mode=Math.abs(t-HALF_PI)<EPSLN?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<EPSLN?this.EQUIT:this.OBLIQ,this.es>0){var sinphi;switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),sinphi=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,sinphi)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*sinphi*sinphi)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function forward$12(p){var x,y,coslam,sinlam,sinphi,q,sinb,cosb,b,cosphi,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere){if(sinphi=Math.sin(phi),cosphi=Math.cos(phi),coslam=Math.cos(lam),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(y=this.mode===this.EQUIT?1+cosphi*coslam:1+this.sinph0*sinphi+this.cosph0*cosphi*coslam,EPSLN>=y)return null;y=Math.sqrt(2/y),x=y*cosphi*Math.sin(lam),y*=this.mode===this.EQUIT?sinphi:this.cosph0*sinphi-this.sinph0*cosphi*coslam}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(coslam=-coslam),Math.abs(phi+this.phi0)<EPSLN)return null;y=FORTPI-.5*phi,y=2*(this.mode===this.S_POLE?Math.cos(y):Math.sin(y)),x=y*Math.sin(lam),y*=coslam}}else{switch(sinb=0,cosb=0,b=0,coslam=Math.cos(lam),sinlam=Math.sin(lam),sinphi=Math.sin(phi),q=qsfnz(this.e,sinphi),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(sinb=q/this.qp,cosb=Math.sqrt(1-sinb*sinb)),this.mode){case this.OBLIQ:b=1+this.sinb1*sinb+this.cosb1*cosb*coslam;break;case this.EQUIT:b=1+cosb*coslam;break;case this.N_POLE:b=HALF_PI+phi,q=this.qp-q;break;case this.S_POLE:b=phi-HALF_PI,q=this.qp+q}if(Math.abs(b)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:b=Math.sqrt(2/b),y=this.mode===this.OBLIQ?this.ymf*b*(this.cosb1*sinb-this.sinb1*cosb*coslam):(b=Math.sqrt(2/(1+cosb*coslam)))*sinb*this.ymf,x=this.xmf*b*cosb*sinlam;break;case this.N_POLE:case this.S_POLE:q>=0?(x=(b=Math.sqrt(q))*sinlam,y=coslam*(this.mode===this.S_POLE?b:-b)):x=y=0}}return p.x=this.a*x+this.x0,p.y=this.a*y+this.y0,p}function inverse$12(p){p.x-=this.x0,p.y-=this.y0;var lam,phi,cCe,sCe,q,rho,ab,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var rh,cosz=0,sinz=0;if(rh=Math.sqrt(x*x+y*y),phi=.5*rh,phi>1)return null;switch(phi=2*Math.asin(phi),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(sinz=Math.sin(phi),cosz=Math.cos(phi)),this.mode){case this.EQUIT:phi=Math.abs(rh)<=EPSLN?0:Math.asin(y*sinz/rh),x*=sinz,y=cosz*rh;break;case this.OBLIQ:phi=Math.abs(rh)<=EPSLN?this.phi0:Math.asin(cosz*this.sinph0+y*sinz*this.cosph0/rh),x*=sinz*this.cosph0,y=(cosz-Math.sin(phi)*this.sinph0)*rh;break;case this.N_POLE:y=-y,phi=HALF_PI-phi;break;case this.S_POLE:phi-=HALF_PI}lam=0!==y||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(x,y):0}else{if(ab=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(x/=this.dd,y*=this.dd,rho=Math.sqrt(x*x+y*y),EPSLN>rho)return p.x=0,p.y=this.phi0,p;sCe=2*Math.asin(.5*rho/this.rq),cCe=Math.cos(sCe),x*=sCe=Math.sin(sCe),this.mode===this.OBLIQ?(ab=cCe*this.sinb1+y*sCe*this.cosb1/rho,q=this.qp*ab,y=rho*this.cosb1*cCe-y*this.sinb1*sCe):(ab=y*sCe/rho,q=this.qp*ab,y=rho*cCe)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(y=-y),q=x*x+y*y,!q)return p.x=0,p.y=this.phi0,p;ab=1-q/this.qp,this.mode===this.S_POLE&&(ab=-ab)}lam=Math.atan2(x,y),phi=authlat(Math.asin(ab),this.apa)}return p.x=adjust_lon(this.long0+lam),p.y=phi,p}function authset(es){var t,APA=[];return APA[0]=es*P00,t=es*es,APA[0]+=t*P01,APA[1]=t*P10,t*=es,APA[0]+=t*P02,APA[1]+=t*P11,APA[2]=t*P20,APA}function authlat(beta,APA){var t=beta+beta;return beta+APA[0]*Math.sin(t)+APA[1]*Math.sin(t+t)+APA[2]*Math.sin(t+t+t)}function init$14(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po,this.cos_po),this.ns0=Math.abs(this.lat1-this.lat2)>EPSLN?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function forward$13(p){var lon=p.x,lat=p.y;this.sin_phi=Math.sin(lat),this.cos_phi=Math.cos(lat);var qs=qsfnz(this.e3,this.sin_phi,this.cos_phi),rh1=this.a*Math.sqrt(this.c-this.ns0*qs)/this.ns0,theta=this.ns0*adjust_lon(lon-this.long0),x=rh1*Math.sin(theta)+this.x0,y=this.rh-rh1*Math.cos(theta)+this.y0;return p.x=x,p.y=y,p}function inverse$13(p){var rh1,qs,con,theta,lon,lat;return p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns0>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1),theta=0,0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),con=rh1*this.ns0/this.a,this.sphere?lat=Math.asin((this.c-con*con)/(2*this.ns0)):(qs=(this.c-con*con)/this.ns0,lat=this.phi1z(this.e3,qs)),lon=adjust_lon(theta/this.ns0+this.long0),p.x=lon,p.y=lat,p}function phi1z(eccent,qs){var sinphi,cosphi,con,com,dphi,phi=asinz(.5*qs);if(EPSLN>eccent)return phi;for(var eccnts=eccent*eccent,i=1;25>=i;i++)if(sinphi=Math.sin(phi),cosphi=Math.cos(phi),con=eccent*sinphi,com=1-con*con,dphi=.5*com*com/cosphi*(qs/(1-eccnts)-sinphi/com+.5/eccent*Math.log((1-con)/(1+con))),phi+=dphi,Math.abs(dphi)<=1e-7)return phi;return null}function init$15(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function forward$14(p){var sinphi,cosphi,dlon,coslon,ksp,g,x,y,lon=p.x,lat=p.y;return dlon=adjust_lon(lon-this.long0),sinphi=Math.sin(lat),cosphi=Math.cos(lat),coslon=Math.cos(dlon),g=this.sin_p14*sinphi+this.cos_p14*cosphi*coslon,ksp=1,g>0||Math.abs(g)<=EPSLN?(x=this.x0+this.a*ksp*cosphi*Math.sin(dlon)/g,y=this.y0+this.a*ksp*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)/g):(x=this.x0+this.infinity_dist*cosphi*Math.sin(dlon),y=this.y0+this.infinity_dist*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)),p.x=x,p.y=y,p}function inverse$14(p){var rh,sinc,cosc,c,lon,lat;return p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,(rh=Math.sqrt(p.x*p.x+p.y*p.y))?(c=Math.atan2(rh,this.rc),sinc=Math.sin(c),cosc=Math.cos(c),lat=asinz(cosc*this.sin_p14+p.y*sinc*this.cos_p14/rh),lon=Math.atan2(p.x*sinc,rh*this.cos_p14*cosc-p.y*this.sin_p14*sinc),lon=adjust_lon(this.long0+lon)):(lat=this.phic0,lon=0),p.x=lon,p.y=lat,p}function init$16(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function forward$15(p){var x,y,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(this.sphere)x=this.x0+this.a*dlon*Math.cos(this.lat_ts),y=this.y0+this.a*Math.sin(lat)/Math.cos(this.lat_ts);else{var qs=qsfnz(this.e,Math.sin(lat));x=this.x0+this.a*this.k0*dlon,y=this.y0+this.a*qs*.5/this.k0}return p.x=x,p.y=y,p}function inverse$15(p){p.x-=this.x0,p.y-=this.y0;var lon,lat;return this.sphere?(lon=adjust_lon(this.long0+p.x/this.a/Math.cos(this.lat_ts)),lat=Math.asin(p.y/this.a*Math.cos(this.lat_ts))):(lat=iqsfnz(this.e,2*p.y*this.k0/this.a),lon=adjust_lon(this.long0+p.x/(this.a*this.k0))),p.x=lon,p.y=lat,p}function init$17(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function forward$16(p){var lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0),dlat=adjust_lat(lat-this.lat0);return p.x=this.x0+this.a*dlon*this.rc,p.y=this.y0+this.a*dlat,p}function inverse$16(p){var x=p.x,y=p.y;return p.x=adjust_lon(this.long0+(x-this.x0)/(this.a*this.rc)),p.y=adjust_lat(this.lat0+(y-this.y0)/this.a),p}function init$18(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function forward$17(p){var x,y,el,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(el=dlon*Math.sin(lat),this.sphere)Math.abs(lat)<=EPSLN?(x=this.a*dlon,y=-1*this.a*this.lat0):(x=this.a*Math.sin(el)/Math.tan(lat),y=this.a*(adjust_lat(lat-this.lat0)+(1-Math.cos(el))/Math.tan(lat)));else if(Math.abs(lat)<=EPSLN)x=this.a*dlon,y=-1*this.ml0;else{var nl=gN(this.a,this.e,Math.sin(lat))/Math.tan(lat);x=nl*Math.sin(el),y=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,lat)-this.ml0+nl*(1-Math.cos(el))}return p.x=x+this.x0,p.y=y+this.y0,p}function inverse$17(p){var lon,lat,x,y,i,al,bl,phi,dphi;if(x=p.x-this.x0,y=p.y-this.y0,this.sphere)if(Math.abs(y+this.a*this.lat0)<=EPSLN)lon=adjust_lon(x/this.a+this.long0),lat=0;else{al=this.lat0+y/this.a,bl=x*x/this.a/this.a+al*al,phi=al;var tanphi;for(i=MAX_ITER$2;i;--i)if(tanphi=Math.tan(phi),dphi=-1*(al*(phi*tanphi+1)-phi-.5*(phi*phi+bl)*tanphi)/((phi-al)/tanphi-1),phi+=dphi,Math.abs(dphi)<=EPSLN){lat=phi;break}lon=adjust_lon(this.long0+Math.asin(x*Math.tan(phi)/this.a)/Math.sin(lat))}else if(Math.abs(y+this.ml0)<=EPSLN)lat=0,lon=adjust_lon(this.long0+x/this.a);else{al=(this.ml0+y)/this.a,bl=x*x/this.a/this.a+al*al,phi=al;var cl,mln,mlnp,ma,con;for(i=MAX_ITER$2;i;--i)if(con=this.e*Math.sin(phi),cl=Math.sqrt(1-con*con)*Math.tan(phi),mln=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi),mlnp=this.e0-2*this.e1*Math.cos(2*phi)+4*this.e2*Math.cos(4*phi)-6*this.e3*Math.cos(6*phi),ma=mln/this.a,dphi=(al*(cl*ma+1)-ma-.5*cl*(ma*ma+bl))/(this.es*Math.sin(2*phi)*(ma*ma+bl-2*al*ma)/(4*cl)+(al-ma)*(cl*mlnp-2/Math.sin(2*phi))-mlnp),phi-=dphi,Math.abs(dphi)<=EPSLN){lat=phi;break}cl=Math.sqrt(1-this.es*Math.pow(Math.sin(lat),2))*Math.tan(lat),lon=adjust_lon(this.long0+Math.asin(x*cl/this.a)/Math.sin(lat))}return p.x=lon,p.y=lat,p}function init$19(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function forward$18(p){var n,lon=p.x,lat=p.y,delta_lat=lat-this.lat0,delta_lon=lon-this.long0,d_phi=delta_lat/SEC_TO_RAD*1e-5,d_lambda=delta_lon,d_phi_n=1,d_psi=0;for(n=1;10>=n;n++)d_phi_n*=d_phi,d_psi+=this.A[n]*d_phi_n;var th_n_re1,th_n_im1,th_re=d_psi,th_im=d_lambda,th_n_re=1,th_n_im=0,z_re=0,z_im=0;for(n=1;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,z_re=z_re+this.B_re[n]*th_n_re-this.B_im[n]*th_n_im,z_im=z_im+this.B_im[n]*th_n_re+this.B_re[n]*th_n_im;return p.x=z_im*this.a+this.x0,p.y=z_re*this.a+this.y0,p}function inverse$18(p){var n,z_n_re1,z_n_im1,x=p.x,y=p.y,delta_x=x-this.x0,delta_y=y-this.y0,z_re=delta_y/this.a,z_im=delta_x/this.a,z_n_re=1,z_n_im=0,th_re=0,th_im=0;for(n=1;6>=n;n++)z_n_re1=z_n_re*z_re-z_n_im*z_im,z_n_im1=z_n_im*z_re+z_n_re*z_im,z_n_re=z_n_re1,z_n_im=z_n_im1,th_re=th_re+this.C_re[n]*z_n_re-this.C_im[n]*z_n_im,th_im=th_im+this.C_im[n]*z_n_re+this.C_re[n]*z_n_im;for(var i=0;i<this.iterations;i++){var th_n_re1,th_n_im1,th_n_re=th_re,th_n_im=th_im,num_re=z_re,num_im=z_im;for(n=2;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,num_re+=(n-1)*(this.B_re[n]*th_n_re-this.B_im[n]*th_n_im),num_im+=(n-1)*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);th_n_re=1,th_n_im=0;var den_re=this.B_re[1],den_im=this.B_im[1];for(n=2;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,den_re+=n*(this.B_re[n]*th_n_re-this.B_im[n]*th_n_im),den_im+=n*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);var den2=den_re*den_re+den_im*den_im;th_re=(num_re*den_re+num_im*den_im)/den2,th_im=(num_im*den_re-num_re*den_im)/den2}var d_psi=th_re,d_lambda=th_im,d_psi_n=1,d_phi=0;for(n=1;9>=n;n++)d_psi_n*=d_psi,d_phi+=this.D[n]*d_psi_n;var lat=this.lat0+d_phi*SEC_TO_RAD*1e5,lon=this.long0+d_lambda;return p.x=lon,p.y=lat,p}function init$20(){}function forward$19(p){var lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0),x=this.x0+this.a*dlon,y=this.y0+this.a*Math.log(Math.tan(Math.PI/4+lat/2.5))*1.25;return p.x=x,p.y=y,p}function inverse$19(p){p.x-=this.x0,p.y-=this.y0;var lon=adjust_lon(this.long0+p.x/this.a),lat=2.5*(Math.atan(Math.exp(.8*p.y/this.a))-Math.PI/4);return p.x=lon,p.y=lat,p}function init$21(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)}function forward$20(p){var x,y,lon=p.x,lat=p.y;if(lon=adjust_lon(lon-this.long0),this.sphere){if(this.m)for(var k=this.n*Math.sin(lat),i=MAX_ITER$3;i;--i){var V=(this.m*lat+Math.sin(lat)-k)/(this.m+Math.cos(lat));if(lat-=V,Math.abs(V)<EPSLN)break}else lat=1!==this.n?Math.asin(this.n*Math.sin(lat)):lat;x=this.a*this.C_x*lon*(this.m+Math.cos(lat)),y=this.a*this.C_y*lat}else{var s=Math.sin(lat),c=Math.cos(lat);y=this.a*pj_mlfn(lat,s,c,this.en),x=this.a*lon*c/Math.sqrt(1-this.es*s*s)}return p.x=x,p.y=y,p}function inverse$20(p){var lat,temp,lon,s;return p.x-=this.x0,lon=p.x/this.a,p.y-=this.y0,lat=p.y/this.a,this.sphere?(lat/=this.C_y,lon/=this.C_x*(this.m+Math.cos(lat)),this.m?lat=asinz((this.m*lat+Math.sin(lat))/this.n):1!==this.n&&(lat=asinz(Math.sin(lat)/this.n)),lon=adjust_lon(lon+this.long0),lat=adjust_lat(lat)):(lat=pj_inv_mlfn(p.y/this.a,this.es,this.en),s=Math.abs(lat),HALF_PI>s?(s=Math.sin(lat),temp=this.long0+p.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(lat)),lon=adjust_lon(temp)):HALF_PI>s-EPSLN&&(lon=this.long0)),p.x=lon,p.y=lat,p}function init$22(){}function forward$21(p){for(var lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0),theta=lat,con=Math.PI*Math.sin(lat),i=0;!0;i++){var delta_theta=-(theta+Math.sin(theta)-con)/(1+Math.cos(theta));if(theta+=delta_theta,Math.abs(delta_theta)<EPSLN)break}theta/=2,Math.PI/2-Math.abs(lat)<EPSLN&&(delta_lon=0);var x=.900316316158*this.a*delta_lon*Math.cos(theta)+this.x0,y=1.4142135623731*this.a*Math.sin(theta)+this.y0;return p.x=x,p.y=y,p}function inverse$21(p){var theta,arg;p.x-=this.x0,p.y-=this.y0,arg=p.y/(1.4142135623731*this.a),Math.abs(arg)>.999999999999&&(arg=.999999999999),theta=Math.asin(arg);var lon=adjust_lon(this.long0+p.x/(.900316316158*this.a*Math.cos(theta)));lon<-Math.PI&&(lon=-Math.PI),lon>Math.PI&&(lon=Math.PI),arg=(2*theta+Math.sin(2*theta))/Math.PI,Math.abs(arg)>1&&(arg=1);var lat=Math.asin(arg);return p.x=lon,p.y=lat,p}function init$23(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function forward$22(p){var rh1,lon=p.x,lat=p.y;if(this.sphere)rh1=this.a*(this.g-lat);else{var ml=mlfn(this.e0,this.e1,this.e2,this.e3,lat);rh1=this.a*(this.g-ml)}var theta=this.ns*adjust_lon(lon-this.long0),x=this.x0+rh1*Math.sin(theta),y=this.y0+this.rh-rh1*Math.cos(theta);return p.x=x,p.y=y,p}function inverse$22(p){p.x-=this.x0,p.y=this.rh-p.y+this.y0;var con,rh1,lat,lon;this.ns>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1);var theta=0;if(0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),this.sphere)return lon=adjust_lon(this.long0+theta/this.ns),lat=adjust_lat(this.g-rh1/this.a),p.x=lon,p.y=lat,p;var ml=this.g-rh1/this.a;return lat=imlfn(ml,this.e0,this.e1,this.e2,this.e3),lon=adjust_lon(this.long0+theta/this.ns),p.x=lon,p.y=lat,p}function init$24(){this.R=this.a}function forward$23(p){var x,y,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);Math.abs(lat)<=EPSLN&&(x=this.x0+this.R*dlon,y=this.y0);var theta=asinz(2*Math.abs(lat/Math.PI));(Math.abs(dlon)<=EPSLN||Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)&&(x=this.x0,y=lat>=0?this.y0+Math.PI*this.R*Math.tan(.5*theta):this.y0+Math.PI*this.R*-Math.tan(.5*theta));var al=.5*Math.abs(Math.PI/dlon-dlon/Math.PI),asq=al*al,sinth=Math.sin(theta),costh=Math.cos(theta),g=costh/(sinth+costh-1),gsq=g*g,m=g*(2/sinth-1),msq=m*m,con=Math.PI*this.R*(al*(g-msq)+Math.sqrt(asq*(g-msq)*(g-msq)-(msq+asq)*(gsq-msq)))/(msq+asq);0>dlon&&(con=-con),x=this.x0+con;var q=asq+g;return con=Math.PI*this.R*(m*q-al*Math.sqrt((msq+asq)*(asq+1)-q*q))/(msq+asq),y=lat>=0?this.y0+con:this.y0-con,p.x=x,p.y=y,p}function inverse$23(p){var lon,lat,xx,yy,xys,c1,c2,c3,a1,m1,con,th1,d;return p.x-=this.x0,p.y-=this.y0,con=Math.PI*this.R,xx=p.x/con,yy=p.y/con,xys=xx*xx+yy*yy,c1=-Math.abs(yy)*(1+xys),c2=c1-2*yy*yy+xx*xx,c3=-2*c1+1+2*yy*yy+xys*xys,d=yy*yy/c3+(2*c2*c2*c2/c3/c3/c3-9*c1*c2/c3/c3)/27,a1=(c1-c2*c2/3/c3)/c3,m1=2*Math.sqrt(-a1/3),con=3*d/a1/m1,Math.abs(con)>1&&(con=con>=0?1:-1),th1=Math.acos(con)/3,lat=p.y>=0?(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI:-(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI,lon=Math.abs(xx)<EPSLN?this.long0:adjust_lon(this.long0+Math.PI*(xys-1+Math.sqrt(1+2*(xx*xx-yy*yy)+xys*xys))/2/xx),p.x=lon,p.y=lat,p}function init$25(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function forward$24(p){var e0,e1,e2,e3,Mlp,Ml,tanphi,Nl1,Nl,psi,Az,G,H,GH,Hs,c,kp,cos_c,s,s2,s3,s4,s5,lon=p.x,lat=p.y,sinphi=Math.sin(p.y),cosphi=Math.cos(p.y),dlon=adjust_lon(lon-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(p.x=this.x0+this.a*(HALF_PI-lat)*Math.sin(dlon),p.y=this.y0-this.a*(HALF_PI-lat)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=EPSLN?(p.x=this.x0+this.a*(HALF_PI+lat)*Math.sin(dlon),p.y=this.y0+this.a*(HALF_PI+lat)*Math.cos(dlon),p):(cos_c=this.sin_p12*sinphi+this.cos_p12*cosphi*Math.cos(dlon),c=Math.acos(cos_c),kp=c/Math.sin(c),p.x=this.x0+this.a*kp*cosphi*Math.sin(dlon),p.y=this.y0+this.a*kp*(this.cos_p12*sinphi-this.sin_p12*cosphi*Math.cos(dlon)),p):(e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp-Ml)*Math.sin(dlon),p.y=this.y0-(Mlp-Ml)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp+Ml)*Math.sin(dlon),p.y=this.y0+(Mlp+Ml)*Math.cos(dlon),p):(tanphi=sinphi/cosphi,Nl1=gN(this.a,this.e,this.sin_p12),Nl=gN(this.a,this.e,sinphi),psi=Math.atan((1-this.es)*tanphi+this.es*Nl1*this.sin_p12/(Nl*cosphi)),Az=Math.atan2(Math.sin(dlon),this.cos_p12*Math.tan(psi)-this.sin_p12*Math.cos(dlon)),s=0===Az?Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.abs(Math.abs(Az)-Math.PI)<=EPSLN?-Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.asin(Math.sin(dlon)*Math.cos(psi)/Math.sin(Az)),G=this.e*this.sin_p12/Math.sqrt(1-this.es),H=this.e*this.cos_p12*Math.cos(Az)/Math.sqrt(1-this.es),GH=G*H,Hs=H*H,s2=s*s,s3=s2*s,s4=s3*s,s5=s4*s,c=Nl1*s*(1-s2*Hs*(1-Hs)/6+s3/8*GH*(1-2*Hs)+s4/120*(Hs*(4-7*Hs)-3*G*G*(1-7*Hs))-s5/48*GH),p.x=this.x0+c*Math.sin(Az),p.y=this.y0+c*Math.cos(Az),p))}function inverse$24(p){p.x-=this.x0,p.y-=this.y0;var rh,z,sinz,cosz,lon,lat,con,e0,e1,e2,e3,Mlp,M,N1,psi,Az,cosAz,tmp,A,B,D,Ee,F;if(this.sphere){if(rh=Math.sqrt(p.x*p.x+p.y*p.y),rh>2*HALF_PI*this.a)return;return z=rh/this.a,sinz=Math.sin(z),cosz=Math.cos(z),lon=this.long0,Math.abs(rh)<=EPSLN?lat=this.lat0:(lat=asinz(cosz*this.sin_p12+p.y*sinz*this.cos_p12/rh),con=Math.abs(this.lat0)-HALF_PI,lon=adjust_lon(Math.abs(con)<=EPSLN?this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y):this.long0+Math.atan2(p.x*sinz,rh*this.cos_p12*cosz-p.y*this.sin_p12*sinz))),p.x=lon,p.y=lat,p}return e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),M=Mlp-rh,lat=imlfn(M/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,-1*p.y)),p.x=lon,p.y=lat,p):Math.abs(this.sin_p12+1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),M=rh-Mlp,lat=imlfn(M/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,p.y)),p.x=lon,p.y=lat,p):(rh=Math.sqrt(p.x*p.x+p.y*p.y),Az=Math.atan2(p.x,p.y),N1=gN(this.a,this.e,this.sin_p12),cosAz=Math.cos(Az),tmp=this.e*this.cos_p12*cosAz,A=-tmp*tmp/(1-this.es),B=3*this.es*(1-A)*this.sin_p12*this.cos_p12*cosAz/(1-this.es),D=rh/N1,Ee=D-A*(1+A)*Math.pow(D,3)/6-B*(1+3*A)*Math.pow(D,4)/24,F=1-A*Ee*Ee/2-D*Ee*Ee*Ee/6,psi=Math.asin(this.sin_p12*Math.cos(Ee)+this.cos_p12*Math.sin(Ee)*cosAz),lon=adjust_lon(this.long0+Math.asin(Math.sin(Az)*Math.sin(Ee)/Math.cos(psi))),lat=Math.atan((1-this.es*F*this.sin_p12/Math.sin(psi))*Math.tan(psi)/(1-this.es)),p.x=lon,p.y=lat,p)}function init$26(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function forward$25(p){var sinphi,cosphi,dlon,coslon,ksp,g,x,y,lon=p.x,lat=p.y;return dlon=adjust_lon(lon-this.long0),sinphi=Math.sin(lat),cosphi=Math.cos(lat),coslon=Math.cos(dlon),g=this.sin_p14*sinphi+this.cos_p14*cosphi*coslon,ksp=1,(g>0||Math.abs(g)<=EPSLN)&&(x=this.a*ksp*cosphi*Math.sin(dlon),y=this.y0+this.a*ksp*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)),p.x=x,p.y=y,p}function inverse$25(p){var rh,z,sinz,cosz,con,lon,lat;return p.x-=this.x0,p.y-=this.y0,rh=Math.sqrt(p.x*p.x+p.y*p.y),z=asinz(rh/this.a),sinz=Math.sin(z),cosz=Math.cos(z),lon=this.long0,Math.abs(rh)<=EPSLN?(lat=this.lat0,p.x=lon,p.y=lat,p):(lat=asinz(cosz*this.sin_p14+p.y*sinz*this.cos_p14/rh),con=Math.abs(this.lat0)-HALF_PI,Math.abs(con)<=EPSLN?(lon=adjust_lon(this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y)),p.x=lon,p.y=lat,p):(lon=adjust_lon(this.long0+Math.atan2(p.x*sinz,rh*this.cos_p14*cosz-p.y*this.sin_p14*sinz)),p.x=lon,p.y=lat,p))}var globals=function(defs){defs("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),defs("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),defs("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),defs.WGS84=defs["EPSG:4326"],defs["EPSG:3785"]=defs["EPSG:3857"],defs.GOOGLE=defs["EPSG:3857"],defs["EPSG:900913"]=defs["EPSG:3857"],defs["EPSG:102113"]=defs["EPSG:3857"]},PJD_3PARAM=1,PJD_7PARAM=2,PJD_WGS84=4,PJD_NODATUM=5,SEC_TO_RAD=484813681109536e-20,HALF_PI=Math.PI/2,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655,EPSLN="undefined"==typeof Number.EPSILON?1e-10:Number.EPSILON,D2R=.017453292519943295,R2D=57.29577951308232,FORTPI=Math.PI/4,TWO_PI=2*Math.PI,SPI=3.14159265359,exports$1={};exports$1.greenwich=0,exports$1.lisbon=-9.131906111111,exports$1.paris=2.337229166667,exports$1.bogota=-74.080916666667,exports$1.madrid=-3.687938888889,exports$1.rome=12.452333333333,exports$1.bern=7.439583333333,exports$1.jakarta=106.807719444444,exports$1.ferro=-17.666666666667,exports$1.brussels=4.367975,exports$1.stockholm=18.058277777778,exports$1.athens=23.7163375,exports$1.oslo=10.722916666667;var units={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ignoredChar=/[\s_\-\/\(\)]/g,parseProj=function(defData){var paramName,paramVal,paramOutname,self={},paramObj=defData.split("+").map(function(v){return v.trim()}).filter(function(a){return a}).reduce(function(p,a){var split=a.split("=");return split.push(!0),p[split[0].toLowerCase()]=split[1],p},{}),params={proj:"projName",datum:"datumCode",rf:function(v){self.rf=parseFloat(v)},lat_0:function(v){self.lat0=v*D2R},lat_1:function(v){self.lat1=v*D2R},lat_2:function(v){self.lat2=v*D2R},lat_ts:function(v){self.lat_ts=v*D2R},lon_0:function(v){self.long0=v*D2R},lon_1:function(v){self.long1=v*D2R},lon_2:function(v){self.long2=v*D2R},alpha:function(v){self.alpha=parseFloat(v)*D2R},lonc:function(v){self.longc=v*D2R},x_0:function(v){self.x0=parseFloat(v)},y_0:function(v){self.y0=parseFloat(v)},k_0:function(v){self.k0=parseFloat(v)},k:function(v){self.k0=parseFloat(v)},a:function(v){self.a=parseFloat(v)},b:function(v){self.b=parseFloat(v)},r_a:function(){self.R_A=!0},zone:function(v){self.zone=parseInt(v,10)},south:function(){self.utmSouth=!0},towgs84:function(v){self.datum_params=v.split(",").map(function(a){return parseFloat(a)})},to_meter:function(v){self.to_meter=parseFloat(v)},units:function(v){self.units=v;var unit=match(units,v);unit&&(self.to_meter=unit.to_meter)},from_greenwich:function(v){self.from_greenwich=v*D2R},pm:function(v){var pm=match(exports$1,v);self.from_greenwich=(pm?pm:parseFloat(v))*D2R},nadgrids:function(v){"@null"===v?self.datumCode="none":self.nadgrids=v},axis:function(v){var legalAxis="ewnsud";3===v.length&&-1!==legalAxis.indexOf(v.substr(0,1))&&-1!==legalAxis.indexOf(v.substr(1,1))&&-1!==legalAxis.indexOf(v.substr(2,1))&&(self.axis=v)}};for(paramName in paramObj)paramVal=paramObj[paramName],paramName in params?(paramOutname=params[paramName],"function"==typeof paramOutname?paramOutname(paramVal):self[paramOutname]=paramVal):self[paramName]=paramVal;return"string"==typeof self.datumCode&&"WGS84"!==self.datumCode&&(self.datumCode=self.datumCode.toLowerCase()),self},NEUTRAL=1,KEYWORD=2,NUMBER=3,QUOTED=4,AFTERQUOTE=5,ENDED=-1,whitespace=/\s/,latin=/[A-Za-z]/,keyword=/[A-Za-z84]/,endThings=/[,\]]/,digets=/[\d\.E\-\+]/;Parser.prototype.readCharicter=function(){var char=this.text[this.place++];if(this.state!==QUOTED)for(;whitespace.test(char);){if(this.place>=this.text.length)return;char=this.text[this.place++]}switch(this.state){case NEUTRAL:return this.neutral(char);case KEYWORD:return this.keyword(char);case QUOTED:return this.quoted(char);case AFTERQUOTE:return this.afterquote(char);case NUMBER:return this.number(char);case ENDED:return}},Parser.prototype.afterquote=function(char){if('"'===char)return this.word+='"',void(this.state=QUOTED);if(endThings.test(char))return this.word=this.word.trim(),void this.afterItem(char);throw new Error("havn't handled \""+char+'" in afterquote yet, index '+this.place)},Parser.prototype.afterItem=function(char){return","===char?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=NEUTRAL)):"]"===char?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=NEUTRAL,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=ENDED))):void 0},Parser.prototype.number=function(char){if(digets.test(char))return void(this.word+=char);if(endThings.test(char))return this.word=parseFloat(this.word),void this.afterItem(char);throw new Error("havn't handled \""+char+'" in number yet, index '+this.place)},Parser.prototype.quoted=function(char){return'"'===char?void(this.state=AFTERQUOTE):void(this.word+=char)},Parser.prototype.keyword=function(char){if(keyword.test(char))return void(this.word+=char);if("["===char){var newObjects=[];return newObjects.push(this.word),this.level++,null===this.root?this.root=newObjects:this.currentObject.push(newObjects),this.stack.push(this.currentObject),this.currentObject=newObjects,void(this.state=NEUTRAL)}if(endThings.test(char))return void this.afterItem(char);throw new Error("havn't handled \""+char+'" in keyword yet, index '+this.place);

},Parser.prototype.neutral=function(char){if(latin.test(char))return this.word=char,void(this.state=KEYWORD);if('"'===char)return this.word="",void(this.state=QUOTED);if(digets.test(char))return this.word=char,void(this.state=NUMBER);if(endThings.test(char))return void this.afterItem(char);throw new Error("havn't handled \""+char+'" in neutral yet, index '+this.place)},Parser.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ENDED)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var D2R$1=.017453292519943295,wkt=function(wkt){var lisp=parseString(wkt),type=lisp.shift(),name=lisp.shift();lisp.unshift(["name",name]),lisp.unshift(["type",type]);var obj={};return sExpr(lisp,obj),cleanWKT(obj),obj};globals(defs);var codeWords=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],extend=function(destination,source){destination=destination||{};var value,property;if(!source)return destination;for(property in source)value=source[property],void 0!==value&&(destination[property]=value);return destination},msfnz=function(eccent,sinphi,cosphi){var con=eccent*sinphi;return cosphi/Math.sqrt(1-con*con)},sign=function(x){return 0>x?-1:1},adjust_lon=function(x){return Math.abs(x)<=SPI?x:x-sign(x)*TWO_PI},tsfnz=function(eccent,phi,sinphi){var con=eccent*sinphi,com=.5*eccent;return con=Math.pow((1-con)/(1+con),com),Math.tan(.5*(HALF_PI-phi))/con},phi2z=function(eccent,ts){for(var con,dphi,eccnth=.5*eccent,phi=HALF_PI-2*Math.atan(ts),i=0;15>=i;i++)if(con=eccent*Math.sin(phi),dphi=HALF_PI-2*Math.atan(ts*Math.pow((1-con)/(1+con),eccnth))-phi,phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return-9999},names$1=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],merc={init:init,forward:forward,inverse:inverse,names:names$1},names$2=["longlat","identity"],longlat={init:init$1,forward:identity,inverse:identity,names:names$2},projs=[merc,longlat],names$$1={},projStore=[],projections={start:start,add:add,get:get},exports$2={};exports$2.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},exports$2.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},exports$2.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},exports$2.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},exports$2.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},exports$2.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},exports$2.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},exports$2.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},exports$2.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},exports$2.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},exports$2.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},exports$2.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},exports$2.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},exports$2.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},exports$2.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},exports$2.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},exports$2.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},exports$2.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},exports$2.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},exports$2.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},exports$2.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},exports$2.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},exports$2.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},exports$2.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},exports$2.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},exports$2.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},exports$2.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},exports$2.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},exports$2.hough={a:6378270,rf:297,ellipseName:"Hough"},exports$2.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},exports$2.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},exports$2.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},exports$2.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},exports$2.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},exports$2.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},exports$2.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},exports$2.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},exports$2.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},exports$2.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},exports$2.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},exports$2.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var WGS84=exports$2.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};exports$2.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var exports$3={};exports$3.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},exports$3.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},exports$3.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},exports$3.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},exports$3.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},exports$3.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},exports$3.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},exports$3.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},exports$3.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},exports$3.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},exports$3.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},exports$3.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},exports$3.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},exports$3.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},exports$3.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},exports$3.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},Projection$1.projections=projections,Projection$1.projections.start();var datum_transform=function(source,dest,point){return compareDatums(source,dest)?point:source.datum_type===PJD_NODATUM||dest.datum_type===PJD_NODATUM?point:source.es!==dest.es||source.a!==dest.a||checkParams(source.datum_type)||checkParams(dest.datum_type)?(point=geodeticToGeocentric(point,source.es,source.a),checkParams(source.datum_type)&&(point=geocentricToWgs84(point,source.datum_type,source.datum_params)),checkParams(dest.datum_type)&&(point=geocentricFromWgs84(point,dest.datum_type,dest.datum_params)),geocentricToGeodetic(point,dest.es,dest.a,dest.b)):point},adjust_axis=function(crs,denorm,point){var v,t,i,xin=point.x,yin=point.y,zin=point.z||0,out={};for(i=0;3>i;i++)if(!denorm||2!==i||void 0!==point.z)switch(0===i?(v=xin,t="x"):1===i?(v=yin,t="y"):(v=zin,t="z"),crs.axis[i]){case"e":out[t]=v;break;case"w":out[t]=-v;break;case"n":out[t]=v;break;case"s":out[t]=-v;break;case"u":void 0!==point[t]&&(out.z=v);break;case"d":void 0!==point[t]&&(out.z=-v);break;default:return null}return out},toPoint=function(array){var out={x:array[0],y:array[1]};return array.length>2&&(out.z=array[2]),array.length>3&&(out.m=array[3]),out},wgs84=Projection$1("WGS84"),NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A=65,I=73,O=79,V=86,Z=90,mgrs={forward:forward$1,inverse:inverse$1,toPoint:toPoint$1};Point.fromMGRS=function(mgrsStr){return new Point(toPoint$1(mgrsStr))},Point.prototype.toMGRS=function(accuracy){return forward$1([this.x,this.y],accuracy)};var version="2.4.3",C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875,pj_enfn=function(es){var en=[];en[0]=C00-es*(C02+es*(C04+es*(C06+es*C08))),en[1]=es*(C22-es*(C04+es*(C06+es*C08)));var t=es*es;return en[2]=t*(C44-es*(C46+es*C48)),t*=es,en[3]=t*(C66-es*C68),en[4]=t*es*C88,en},pj_mlfn=function(phi,sphi,cphi,en){return cphi*=sphi,sphi*=sphi,en[0]*phi-cphi*(en[1]+sphi*(en[2]+sphi*(en[3]+sphi*en[4])))},MAX_ITER=20,pj_inv_mlfn=function(arg,es,en){for(var k=1/(1-es),phi=arg,i=MAX_ITER;i;--i){var s=Math.sin(phi),t=1-es*s*s;if(t=(pj_mlfn(phi,s,Math.cos(phi),en)-arg)*t*Math.sqrt(t)*k,phi-=t,Math.abs(t)<EPSLN)return phi}return phi},names$3=["Transverse_Mercator","Transverse Mercator","tmerc"],tmerc={init:init$2,forward:forward$2,inverse:inverse$2,names:names$3},sinh=function(x){var r=Math.exp(x);return r=(r-1/r)/2},hypot=function(x,y){x=Math.abs(x),y=Math.abs(y);var a=Math.max(x,y),b=Math.min(x,y)/(a?a:1);return a*Math.sqrt(1+Math.pow(b,2))},log1py=function(x){var y=1+x,z=y-1;return 0===z?x:x*Math.log(y)/z},asinhy=function(x){var y=Math.abs(x);return y=log1py(y*(1+y/(hypot(1,y)+1))),0>x?-y:y},gatg=function(pp,B){for(var h,cos_2B=2*Math.cos(2*B),i=pp.length-1,h1=pp[i],h2=0;--i>=0;)h=-h2+cos_2B*h1+pp[i],h2=h1,h1=h;return B+h*Math.sin(2*B)},clens=function(pp,arg_r){for(var hr,r=2*Math.cos(arg_r),i=pp.length-1,hr1=pp[i],hr2=0;--i>=0;)hr=-hr2+r*hr1+pp[i],hr2=hr1,hr1=hr;return Math.sin(arg_r)*hr},cosh=function(x){var r=Math.exp(x);return r=(r+1/r)/2},clens_cmplx=function(pp,arg_r,arg_i){for(var hr2,hi2,sin_arg_r=Math.sin(arg_r),cos_arg_r=Math.cos(arg_r),sinh_arg_i=sinh(arg_i),cosh_arg_i=cosh(arg_i),r=2*cos_arg_r*cosh_arg_i,i=-2*sin_arg_r*sinh_arg_i,j=pp.length-1,hr=pp[j],hi1=0,hr1=0,hi=0;--j>=0;)hr2=hr1,hi2=hi1,hr1=hr,hi1=hi,hr=-hr2+r*hr1-i*hi1+pp[j],hi=-hi2+i*hr1+r*hi1;return r=sin_arg_r*cosh_arg_i,i=cos_arg_r*sinh_arg_i,[r*hr-i*hi,r*hi+i*hr]},names$4=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],etmerc={init:init$3,forward:forward$3,inverse:inverse$3,names:names$4},adjust_zone=function(zone,lon){if(void 0===zone){if(zone=Math.floor(30*(adjust_lon(lon)+Math.PI)/Math.PI)+1,0>zone)return 0;if(zone>60)return 60}return zone},dependsOn="etmerc",names$5=["Universal Transverse Mercator System","utm"],utm={init:init$4,names:names$5,dependsOn:dependsOn},srat=function(esinp,exp){return Math.pow((1-esinp)/(1+esinp),exp)},MAX_ITER$1=20,names$7=["gauss"],gauss={init:init$6,forward:forward$5,inverse:inverse$5,names:names$7},names$6=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"],sterea={init:init$5,forward:forward$4,inverse:inverse$4,names:names$6},names$8=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],stere={init:init$7,forward:forward$6,inverse:inverse$6,names:names$8,ssfn_:ssfn_},names$9=["somerc"],somerc={init:init$8,forward:forward$7,inverse:inverse$7,names:names$9},names$10=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],omerc={init:init$9,forward:forward$8,inverse:inverse$8,names:names$10},names$11=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],lcc={init:init$10,forward:forward$9,inverse:inverse$9,names:names$11},names$12=["Krovak","krovak"],krovak={init:init$11,forward:forward$10,inverse:inverse$10,names:names$12},mlfn=function(e0,e1,e2,e3,phi){return e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)},e0fn=function(x){return 1-.25*x*(1+x/16*(3+1.25*x))},e1fn=function(x){return.375*x*(1+.25*x*(1+.46875*x))},e2fn=function(x){return.05859375*x*x*(1+.75*x)},e3fn=function(x){return x*x*x*(35/3072)},gN=function(a,e,sinphi){var temp=e*sinphi;return a/Math.sqrt(1-temp*temp)},adjust_lat=function(x){return Math.abs(x)<HALF_PI?x:x-sign(x)*Math.PI},imlfn=function(ml,e0,e1,e2,e3){var phi,dphi;phi=ml/e0;for(var i=0;15>i;i++)if(dphi=(ml-(e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)))/(e0-2*e1*Math.cos(2*phi)+4*e2*Math.cos(4*phi)-6*e3*Math.cos(6*phi)),phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return 0/0},names$13=["Cassini","Cassini_Soldner","cass"],cass={init:init$12,forward:forward$11,inverse:inverse$11,names:names$13},qsfnz=function(eccent,sinphi){var con;return eccent>1e-7?(con=eccent*sinphi,(1-eccent*eccent)*(sinphi/(1-con*con)-.5/eccent*Math.log((1-con)/(1+con)))):2*sinphi},S_POLE=1,N_POLE=2,EQUIT=3,OBLIQ=4,P00=.3333333333333333,P01=.17222222222222222,P02=.10257936507936508,P10=.06388888888888888,P11=.0664021164021164,P20=.016415012942191543,names$14=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],laea={init:init$13,forward:forward$12,inverse:inverse$12,names:names$14,S_POLE:S_POLE,N_POLE:N_POLE,EQUIT:EQUIT,OBLIQ:OBLIQ},asinz=function(x){return Math.abs(x)>1&&(x=x>1?1:-1),Math.asin(x)},names$15=["Albers_Conic_Equal_Area","Albers","aea"],aea={init:init$14,forward:forward$13,inverse:inverse$13,names:names$15,phi1z:phi1z},names$16=["gnom"],gnom={init:init$15,forward:forward$14,inverse:inverse$14,names:names$16},iqsfnz=function(eccent,q){var temp=1-(1-eccent*eccent)/(2*eccent)*Math.log((1-eccent)/(1+eccent));if(Math.abs(Math.abs(q)-temp)<1e-6)return 0>q?-1*HALF_PI:HALF_PI;for(var dphi,sin_phi,cos_phi,con,phi=Math.asin(.5*q),i=0;30>i;i++)if(sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),con=eccent*sin_phi,dphi=Math.pow(1-con*con,2)/(2*cos_phi)*(q/(1-eccent*eccent)-sin_phi/(1-con*con)+.5/eccent*Math.log((1-con)/(1+con))),phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return 0/0},names$17=["cea"],cea={init:init$16,forward:forward$15,inverse:inverse$15,names:names$17},names$18=["Equirectangular","Equidistant_Cylindrical","eqc"],eqc={init:init$17,forward:forward$16,inverse:inverse$16,names:names$18},MAX_ITER$2=20,names$19=["Polyconic","poly"],poly={init:init$18,forward:forward$17,inverse:inverse$17,names:names$19},names$20=["New_Zealand_Map_Grid","nzmg"],nzmg={init:init$19,forward:forward$18,inverse:inverse$18,names:names$20},names$21=["Miller_Cylindrical","mill"],mill={init:init$20,forward:forward$19,inverse:inverse$19,names:names$21},MAX_ITER$3=20,names$22=["Sinusoidal","sinu"],sinu={init:init$21,forward:forward$20,inverse:inverse$20,names:names$22},names$23=["Mollweide","moll"],moll={init:init$22,forward:forward$21,inverse:inverse$21,names:names$23},names$24=["Equidistant_Conic","eqdc"],eqdc={init:init$23,forward:forward$22,inverse:inverse$22,names:names$24},names$25=["Van_der_Grinten_I","VanDerGrinten","vandg"],vandg={init:init$24,forward:forward$23,inverse:inverse$23,names:names$25},names$26=["Azimuthal_Equidistant","aeqd"],aeqd={init:init$25,forward:forward$24,inverse:inverse$24,names:names$26},names$27=["ortho"],ortho={init:init$26,forward:forward$25,inverse:inverse$25,names:names$27},includedProjections=function(proj4){proj4.Proj.projections.add(tmerc),proj4.Proj.projections.add(etmerc),proj4.Proj.projections.add(utm),proj4.Proj.projections.add(sterea),proj4.Proj.projections.add(stere),proj4.Proj.projections.add(somerc),proj4.Proj.projections.add(omerc),proj4.Proj.projections.add(lcc),proj4.Proj.projections.add(krovak),proj4.Proj.projections.add(cass),proj4.Proj.projections.add(laea),proj4.Proj.projections.add(aea),proj4.Proj.projections.add(gnom),proj4.Proj.projections.add(cea),proj4.Proj.projections.add(eqc),proj4.Proj.projections.add(poly),proj4.Proj.projections.add(nzmg),proj4.Proj.projections.add(mill),proj4.Proj.projections.add(sinu),proj4.Proj.projections.add(moll),proj4.Proj.projections.add(eqdc),proj4.Proj.projections.add(vandg),proj4.Proj.projections.add(aeqd),proj4.Proj.projections.add(ortho)};return proj4$1.defaultDatum="WGS84",proj4$1.Proj=Projection$1,proj4$1.WGS84=new proj4$1.Proj("WGS84"),proj4$1.Point=Point,proj4$1.toPoint=toPoint,proj4$1.defs=defs,proj4$1.transform=transform,proj4$1.mgrs=mgrs,proj4$1.version=version,includedProjections(proj4$1),proj4$1})},{}],3:[function(){!function($,window,document,undefined){$.site=$.fn.site=function(parameters){var module,returnedValue,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),settings=$.isPlainObject(parameters)?$.extend(!0,{},$.site.settings,parameters):$.extend({},$.site.settings),namespace=settings.namespace,error=settings.error,moduleNamespace="module-"+namespace,$document=$(document),$module=$document,element=this,instance=$module.data(moduleNamespace);return module={initialize:function(){module.instantiate()},instantiate:function(){module.verbose("Storing instance of site",module),instance=module,$module.data(moduleNamespace,module)},normalize:function(){module.fix.console(),module.fix.requestAnimationFrame()},fix:{console:function(){module.debug("Normalizing window.console"),(console===undefined||console.log===undefined)&&(module.verbose("Console not available, normalizing events"),module.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(module.verbose("Console group not available, normalizing events"),window.console.group=function(){},window.console.groupEnd=function(){},window.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(module.verbose("Mark timeline not available, normalizing events"),window.console.markTimeline=function(){})},consoleClear:function(){module.debug("Disabling programmatic console clearing"),window.console.clear=function(){}},requestAnimationFrame:function(){module.debug("Normalizing requestAnimationFrame"),window.requestAnimationFrame===undefined&&(module.debug("RequestAnimationFrame not available, normalizing event"),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)})}},moduleExists:function(name){return $.fn[name]!==undefined&&$.fn[name].settings!==undefined},enabled:{modules:function(modules){var enabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)&&enabledModules.push(name)}),enabledModules}},disabled:{modules:function(modules){var disabledModules=[];return modules=modules||settings.modules,$.each(modules,function(index,name){module.moduleExists(name)||disabledModules.push(name)}),disabledModules}},change:{setting:function(setting,value,modules,modifyExisting){modules="string"==typeof modules?"all"===modules?settings.modules:[modules]:modules||settings.modules,modifyExisting=modifyExisting!==undefined?modifyExisting:!0,$.each(modules,function(index,name){var $existingModules,namespace=module.moduleExists(name)?$.fn[name].settings.namespace||!1:!0;module.moduleExists(name)&&(module.verbose("Changing default setting",setting,value,name),$.fn[name].settings[setting]=value,modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",setting,value))))})},settings:function(newSettings,modules,modifyExisting){modules="string"==typeof modules?[modules]:modules||settings.modules,modifyExisting=modifyExisting!==undefined?modifyExisting:!0,$.each(modules,function(index,name){var $existingModules;module.moduleExists(name)&&(module.verbose("Changing default setting",newSettings,name),$.extend(!0,$.fn[name].settings,newSettings),modifyExisting&&namespace&&($existingModules=$(":data(module-"+namespace+")"),$existingModules.length>0&&(module.verbose("Modifying existing settings",$existingModules),$existingModules[name]("setting",newSettings))))})}},enable:{console:function(){module.console(!0)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling debug for modules",modules),module.change.setting("debug",!0,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Enabling verbose debug for modules",modules),module.change.setting("verbose",!0,modules,modifyExisting)}},disable:{console:function(){module.console(!1)},debug:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling debug for modules",modules),module.change.setting("debug",!1,modules,modifyExisting)},verbose:function(modules,modifyExisting){modules=modules||settings.modules,module.debug("Disabling verbose debug for modules",modules),module.change.setting("verbose",!1,modules,modifyExisting)}},console:function(enable){if(enable){if(instance.cache.console===undefined)return void module.error(error.console);module.debug("Restoring console function"),window.console=instance.cache.console}else module.debug("Disabling console function"),instance.cache.console=window.console,window.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){module.verbose("Destroying previous site for",$module),$module.removeData(moduleNamespace)},cache:{},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments)},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Element:element,Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.destroy(),module.initialize()),returnedValue!==undefined?returnedValue:this},$.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])}})}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.form=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],legacyParameters=arguments[1],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $field,$group,$message,$prompt,$submit,$clear,$reset,settings,validation,metadata,selector,className,regExp,error,namespace,moduleNamespace,eventNamespace,instance,module,$module=$(this),element=this,formErrors=[],keyHeldDown=!1;module={initialize:function(){module.get.settings(),methodInvoked?(instance===undefined&&module.instantiate(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.verbose("Initializing form validation",$module,settings),module.bindEvents(),module.set.defaults(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),module.removeEvents(),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$field=$module.find(selector.field),$group=$module.find(selector.group),$message=$module.find(selector.message),$prompt=$module.find(selector.prompt),$submit=$module.find(selector.submit),$clear=$module.find(selector.clear),$reset=$module.find(selector.reset)},submit:function(){module.verbose("Submitting form",$module),$module.submit()},attachEvents:function(selector,action){action=action||"submit",$(selector).on("click"+eventNamespace,function(event){module[action](),event.preventDefault()})},bindEvents:function(){module.verbose("Attaching form events"),$module.on("submit"+eventNamespace,module.validate.form).on("blur"+eventNamespace,selector.field,module.event.field.blur).on("click"+eventNamespace,selector.submit,module.submit).on("click"+eventNamespace,selector.reset,module.reset).on("click"+eventNamespace,selector.clear,module.clear),settings.keyboardShortcuts&&$module.on("keydown"+eventNamespace,selector.field,module.event.field.keydown),$field.each(function(){var $input=$(this),type=$input.prop("type"),inputEvent=module.get.changeEvent(type,$input);$(this).on(inputEvent+eventNamespace,module.event.field.change)})},clear:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue)||"",isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("clear")):isCheckbox?$field.prop("checked",!1):(module.verbose("Resetting field value",$field,defaultValue),$field.val(""))})},reset:function(){$field.each(function(){var $field=$(this),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isErrored=$fieldGroup.hasClass(className.error);defaultValue!==undefined&&(isErrored&&(module.verbose("Resetting error on field",$fieldGroup),$fieldGroup.removeClass(className.error),$prompt.remove()),isDropdown?(module.verbose("Resetting dropdown value",$element,defaultValue),$element.dropdown("restore defaults")):isCheckbox?(module.verbose("Resetting checkbox value",$element,defaultValue),$field.prop("checked",defaultValue)):(module.verbose("Resetting field value",$field,defaultValue),$field.val(defaultValue)))})},determine:{isValid:function(){var allValid=!0;return $.each(validation,function(fieldName,field){module.validate.field(field,fieldName,!0)||(allValid=!1)}),allValid}},is:{bracketedRule:function(rule){return rule.type&&rule.type.match(settings.regExp.bracket)},empty:function($field){return $field&&0!==$field.length?$field.is('input[type="checkbox"]')?!$field.is(":checked"):module.is.blank($field):!0},blank:function($field){return""===$.trim($field.val())},valid:function(field){var allValid=!0;return field?(module.verbose("Checking if field is valid",field),module.validate.field(validation[field],field,!1)):(module.verbose("Checking if form is valid"),$.each(validation,function(fieldName){module.is.valid(fieldName)||(allValid=!1)}),allValid)}},removeEvents:function(){$module.off(eventNamespace),$field.off(eventNamespace),$submit.off(eventNamespace),$field.off(eventNamespace)},event:{field:{keydown:function(event){var $field=$(this),key=event.which,isInput=$field.is(selector.input),isCheckbox=$field.is(selector.checkbox),isInDropdown=$field.closest(selector.uiDropdown).length>0,keyCode={enter:13,escape:27};key==keyCode.escape&&(module.verbose("Escape key pressed blurring field"),$field.blur()),event.ctrlKey||key!=keyCode.enter||!isInput||isInDropdown||isCheckbox||(keyHeldDown||($field.one("keyup"+eventNamespace,module.event.field.keyup),module.submit(),module.debug("Enter pressed on input submitting form")),keyHeldDown=!0)},keyup:function(){keyHeldDown=!1},blur:function(){var $field=$(this),$fieldGroup=$field.closest($group),validationRules=module.get.validation($field);$fieldGroup.hasClass(className.error)?(module.debug("Revalidating field",$field,validationRules),validationRules&&module.validate.field(validationRules)):("blur"==settings.on||"change"==settings.on)&&validationRules&&module.validate.field(validationRules)},change:function(){var $field=$(this),$fieldGroup=$field.closest($group),validationRules=module.get.validation($field);validationRules&&("change"==settings.on||$fieldGroup.hasClass(className.error)&&settings.revalidate)&&(clearTimeout(module.timer),module.timer=setTimeout(function(){module.debug("Revalidating field",$field,module.get.validation($field)),module.validate.field(validationRules)},settings.delay))}}},get:{ancillaryValue:function(rule){return rule.type&&(rule.value||module.is.bracketedRule(rule))?rule.value!==undefined?rule.value:rule.type.match(settings.regExp.bracket)[1]+"":!1;

},ruleName:function(rule){return module.is.bracketedRule(rule)?rule.type.replace(rule.type.match(settings.regExp.bracket)[0],""):rule.type},changeEvent:function(type,$input){return"checkbox"==type||"radio"==type||"hidden"==type||$input.is("select")?"change":module.get.inputEvent()},inputEvent:function(){return document.createElement("input").oninput!==undefined?"input":document.createElement("input").onpropertychange!==undefined?"propertychange":"keyup"},prompt:function(rule,field){var $label,$field,name,ruleName=module.get.ruleName(rule),ancillary=module.get.ancillaryValue(rule),prompt=rule.prompt||settings.prompt[ruleName]||settings.text.unspecifiedRule,requiresValue=-1!==prompt.search("{value}"),requiresName=-1!==prompt.search("{name}");return(requiresName||requiresValue)&&($field=module.get.field(field.identifier)),requiresValue&&(prompt=prompt.replace("{value}",$field.val())),requiresName&&($label=$field.closest(selector.group).find("label").eq(0),name=1==$label.length?$label.text():$field.prop("placeholder")||settings.text.unspecifiedField,prompt=prompt.replace("{name}",name)),prompt=prompt.replace("{identifier}",field.identifier),prompt=prompt.replace("{ruleValue}",ancillary),rule.prompt||module.verbose("Using default validation prompt for type",prompt,ruleName),prompt},settings:function(){if($.isPlainObject(parameters)){var ruleKeys,keys=Object.keys(parameters),isLegacySettings=keys.length>0?parameters[keys[0]].identifier!==undefined&&parameters[keys[0]].rules!==undefined:!1;isLegacySettings?(settings=$.extend(!0,{},$.fn.form.settings,legacyParameters),validation=$.extend({},$.fn.form.settings.defaults,parameters),module.error(settings.error.oldSyntax,element),module.verbose("Extending settings from legacy parameters",validation,settings)):(parameters.fields&&(ruleKeys=Object.keys(parameters.fields),("string"==typeof parameters.fields[ruleKeys[0]]||$.isArray(parameters.fields[ruleKeys[0]]))&&$.each(parameters.fields,function(name,rules){"string"==typeof rules&&(rules=[rules]),parameters.fields[name]={rules:[]},$.each(rules,function(index,rule){parameters.fields[name].rules.push({type:rule})})})),settings=$.extend(!0,{},$.fn.form.settings,parameters),validation=$.extend({},$.fn.form.settings.defaults,settings.fields),module.verbose("Extending settings",validation,settings))}else settings=$.fn.form.settings,validation=$.fn.form.settings.defaults,module.verbose("Using default form validation",validation,settings);namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,className=settings.className,regExp=settings.regExp,error=settings.error,moduleNamespace="module-"+namespace,eventNamespace="."+namespace,instance=$module.data(moduleNamespace),module.refresh()},field:function(identifier){return module.verbose("Finding field with identifier",identifier),identifier=module.escape.string(identifier),$field.filter("#"+identifier).length>0?$field.filter("#"+identifier):$field.filter('[name="'+identifier+'"]').length>0?$field.filter('[name="'+identifier+'"]'):$field.filter('[name="'+identifier+'[]"]').length>0?$field.filter('[name="'+identifier+'[]"]'):$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0?$field.filter("[data-"+metadata.validate+'="'+identifier+'"]'):$("<input/>")},fields:function(fields){var $fields=$();return $.each(fields,function(index,name){$fields=$fields.add(module.get.field(name))}),$fields},validation:function($field){var fieldValidation,identifier;return validation?($.each(validation,function(fieldName,field){identifier=field.identifier||fieldName,module.get.field(identifier)[0]==$field[0]&&(field.identifier=identifier,fieldValidation=field)}),fieldValidation||!1):!1},value:function(field){var results,fields=[];return fields.push(field),results=module.get.values.call(element,fields),results[field]},values:function(fields){var $fields=$.isArray(fields)?module.get.fields(fields):$field,values={};return $fields.each(function(index,field){var $field=$(field),name=($field.prop("type"),$field.prop("name")),value=$field.val(),isCheckbox=$field.is(selector.checkbox),isRadio=$field.is(selector.radio),isMultiple=-1!==name.indexOf("[]"),isChecked=isCheckbox?$field.is(":checked"):!1;name&&(isMultiple?(name=name.replace("[]",""),values[name]||(values[name]=[]),values[name].push(isCheckbox?isChecked?value||!0:!1:value)):isRadio?isChecked&&(values[name]=value):values[name]=isCheckbox?isChecked?value||!0:!1:value)}),values}},has:{field:function(identifier){return module.verbose("Checking for existence of a field with identifier",identifier),identifier=module.escape.string(identifier),"string"!=typeof identifier&&module.error(error.identifier,identifier),$field.filter("#"+identifier).length>0?!0:$field.filter('[name="'+identifier+'"]').length>0?!0:$field.filter("[data-"+metadata.validate+'="'+identifier+'"]').length>0?!0:!1}},escape:{string:function(text){return text=String(text),text.replace(regExp.escape,"\\$&")}},add:{prompt:function(identifier,errors){var $field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt),promptExists=0!==$prompt.length;errors="string"==typeof errors?[errors]:errors,module.verbose("Adding field error state",identifier),$fieldGroup.addClass(className.error),settings.inline&&(promptExists||($prompt=settings.templates.prompt(errors),$prompt.appendTo($fieldGroup)),$prompt.html(errors[0]),promptExists?module.verbose("Inline errors are disabled, no inline error added",identifier):settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.verbose("Displaying error with css transition",settings.transition),$prompt.transition(settings.transition+" in",settings.duration)):(module.verbose("Displaying error with fallback javascript animation"),$prompt.fadeIn(settings.duration)))},errors:function(errors){module.debug("Adding form error messages",errors),module.set.error(),$message.html(settings.templates.error(errors))}},remove:{prompt:function(identifier){var $field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt);$fieldGroup.removeClass(className.error),settings.inline&&$prompt.is(":visible")&&(module.verbose("Removing prompt for field",identifier),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$prompt.transition(settings.transition+" out",settings.duration,function(){$prompt.remove()}):$prompt.fadeOut(settings.duration,function(){$prompt.remove()}))}},set:{success:function(){$module.removeClass(className.error).addClass(className.success)},defaults:function(){$field.each(function(){var $field=$(this),isCheckbox=$field.filter(selector.checkbox).length>0,value=isCheckbox?$field.is(":checked"):$field.val();$field.data(metadata.defaultValue,value)})},error:function(){$module.removeClass(className.success).addClass(className.error)},value:function(field,value){var fields={};return fields[field]=value,module.set.values.call(element,fields)},values:function(fields){$.isEmptyObject(fields)||$.each(fields,function(key,value){var $multipleField,$field=module.get.field(key),$element=$field.parent(),isMultiple=$.isArray(value),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown),isRadio=$field.is(selector.radio)&&isCheckbox,fieldExists=$field.length>0;fieldExists&&(isMultiple&&isCheckbox?(module.verbose("Selecting multiple",value,$field),$element.checkbox("uncheck"),$.each(value,function(index,value){$multipleField=$field.filter('[value="'+value+'"]'),$element=$multipleField.parent(),$multipleField.length>0&&$element.checkbox("check")})):isRadio?(module.verbose("Selecting radio value",value,$field),$field.filter('[value="'+value+'"]').parent(selector.uiCheckbox).checkbox("check")):isCheckbox?(module.verbose("Setting checkbox value",value,$element),$element.checkbox(value===!0?"check":"uncheck")):isDropdown?(module.verbose("Setting dropdown value",value,$element),$element.dropdown("set selected",value)):(module.verbose("Setting field value",value,$field),$field.val(value)))})}},validate:{form:function(event,ignoreCallbacks){var values=module.get.values();if(keyHeldDown)return!1;if(formErrors=[],module.determine.isValid()){if(module.debug("Form has no validation errors, submitting"),module.set.success(),ignoreCallbacks!==!0)return settings.onSuccess.call(element,event,values)}else if(module.debug("Form has errors"),module.set.error(),settings.inline||module.add.errors(formErrors),$module.data("moduleApi")!==undefined&&event.stopImmediatePropagation(),ignoreCallbacks!==!0)return settings.onFailure.call(element,formErrors,values)},field:function(field,fieldName,showErrors){showErrors=showErrors!==undefined?showErrors:!0,"string"==typeof field&&(module.verbose("Validating field",field),fieldName=field,field=validation[field]);var identifier=field.identifier||fieldName,$field=module.get.field(identifier),$dependsField=field.depends?module.get.field(field.depends):!1,fieldValid=!0,fieldErrors=[];return field.identifier||(module.debug("Using field name as identifier",identifier),field.identifier=identifier),$field.prop("disabled")?(module.debug("Field is disabled. Skipping",identifier),fieldValid=!0):field.optional&&module.is.blank($field)?(module.debug("Field is optional and blank. Skipping",identifier),fieldValid=!0):field.depends&&module.is.empty($dependsField)?(module.debug("Field depends on another value that is not present or empty. Skipping",$dependsField),fieldValid=!0):field.rules!==undefined&&$.each(field.rules,function(index,rule){module.has.field(identifier)&&!module.validate.rule(field,rule)&&(module.debug("Field is invalid",identifier,rule.type),fieldErrors.push(module.get.prompt(rule,field)),fieldValid=!1)}),fieldValid?(showErrors&&(module.remove.prompt(identifier,fieldErrors),settings.onValid.call($field)),!0):(showErrors&&(formErrors=formErrors.concat(fieldErrors),module.add.prompt(identifier,fieldErrors),settings.onInvalid.call($field,fieldErrors)),!1)},rule:function(field,rule){var $field=module.get.field(field.identifier),value=(rule.type,$field.val()),ancillary=module.get.ancillaryValue(rule),ruleName=module.get.ruleName(rule),ruleFunction=settings.rules[ruleName];return $.isFunction(ruleFunction)?(value=value===undefined||""===value||null===value?"":$.trim(value+""),ruleFunction.call($field,value,ancillary)):void module.error(error.noRule,ruleName)}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},module.initialize()}),returnedValue!==undefined?returnedValue:this},$.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(errors){var html='<ul class="list">';return $.each(errors,function(index,value){html+="<li>"+value+"</li>"}),html+="</ul>",$(html)},prompt:function(errors){return $("<div/>").addClass("ui basic red pointing prompt label").html(errors[0])}},rules:{empty:function(value){return!(value===undefined||""===value||$.isArray(value)&&0===value.length)},checked:function(){return $(this).filter(":checked").length>0},email:function(value){return $.fn.form.settings.regExp.email.test(value)},url:function(value){return $.fn.form.settings.regExp.url.test(value)},regExp:function(value,regExp){if(regExp instanceof RegExp)return value.match(regExp);var flags,regExpParts=regExp.match($.fn.form.settings.regExp.flags);return regExpParts&&(regExp=regExpParts.length>=2?regExpParts[1]:regExp,flags=regExpParts.length>=3?regExpParts[2]:""),value.match(new RegExp(regExp,flags))},integer:function(value,range){var min,max,parts,intRegExp=$.fn.form.settings.regExp.integer;return range&&-1===["",".."].indexOf(range)&&(-1==range.indexOf("..")?intRegExp.test(range)&&(min=max=range-0):(parts=range.split("..",2),intRegExp.test(parts[0])&&(min=parts[0]-0),intRegExp.test(parts[1])&&(max=parts[1]-0))),intRegExp.test(value)&&(min===undefined||value>=min)&&(max===undefined||max>=value)},decimal:function(value){return $.fn.form.settings.regExp.decimal.test(value)},number:function(value){return $.fn.form.settings.regExp.number.test(value)},is:function(value,text){return text="string"==typeof text?text.toLowerCase():text,value="string"==typeof value?value.toLowerCase():value,value==text},isExactly:function(value,text){return value==text},not:function(value,notValue){return value="string"==typeof value?value.toLowerCase():value,notValue="string"==typeof notValue?notValue.toLowerCase():notValue,value!=notValue},notExactly:function(value,notValue){return value!=notValue},contains:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1!==value.search(new RegExp(text,"i"))},containsExactly:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1!==value.search(new RegExp(text))},doesntContain:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1===value.search(new RegExp(text,"i"))},doesntContainExactly:function(value,text){return text=text.replace($.fn.form.settings.regExp.escape,"\\$&"),-1===value.search(new RegExp(text))},minLength:function(value,requiredLength){return value!==undefined?value.length>=requiredLength:!1},length:function(value,requiredLength){return value!==undefined?value.length>=requiredLength:!1},exactLength:function(value,requiredLength){return value!==undefined?value.length==requiredLength:!1},maxLength:function(value,maxLength){return value!==undefined?value.length<=maxLength:!1},match:function(value,identifier){{var matchingValue;$(this)}return $('[data-validate="'+identifier+'"]').length>0?matchingValue=$('[data-validate="'+identifier+'"]').val():$("#"+identifier).length>0?matchingValue=$("#"+identifier).val():$('[name="'+identifier+'"]').length>0?matchingValue=$('[name="'+identifier+'"]').val():$('[name="'+identifier+'[]"]').length>0&&(matchingValue=$('[name="'+identifier+'[]"]')),matchingValue!==undefined?value.toString()==matchingValue.toString():!1},different:function(value,identifier){{var matchingValue;$(this)}return $('[data-validate="'+identifier+'"]').length>0?matchingValue=$('[data-validate="'+identifier+'"]').val():$("#"+identifier).length>0?matchingValue=$("#"+identifier).val():$('[name="'+identifier+'"]').length>0?matchingValue=$('[name="'+identifier+'"]').val():$('[name="'+identifier+'[]"]').length>0&&(matchingValue=$('[name="'+identifier+'[]"]')),matchingValue!==undefined?value.toString()!==matchingValue.toString():!1},creditCard:function(cardNumber,cardTypes){var unionPay,validation,cards={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},valid={},validCard=!1,requiredTypes="string"==typeof cardTypes?cardTypes.split(","):!1;if("string"==typeof cardNumber&&0!==cardNumber.length){if(cardNumber=cardNumber.replace(/[\-]/g,""),requiredTypes&&($.each(requiredTypes,function(index,type){validation=cards[type],validation&&(valid={length:-1!==$.inArray(cardNumber.length,validation.length),pattern:-1!==cardNumber.search(validation.pattern)},valid.length&&valid.pattern&&(validCard=!0))}),!validCard))return!1;if(unionPay={number:-1!==$.inArray(cardNumber.length,cards.unionPay.length),pattern:-1!==cardNumber.search(cards.unionPay.pattern)},unionPay.number&&unionPay.pattern)return!0;for(var length=cardNumber.length,multiple=0,producedValue=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],sum=0;length--;)sum+=producedValue[multiple][parseInt(cardNumber.charAt(length),10)],multiple^=1;return sum%10===0&&sum>0}},minCount:function(value,minCount){return 0==minCount?!0:1==minCount?""!==value:value.split(",").length>=minCount},exactCount:function(value,exactCount){return 0==exactCount?""===value:1==exactCount?""!==value&&-1===value.search(","):value.split(",").length==exactCount},maxCount:function(value,maxCount){return 0==maxCount?!1:1==maxCount?-1===value.search(","):value.split(",").length<=maxCount}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.accordion=function(parameters){{var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)}}return $allModules.each(function(){var observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.accordion.settings,parameters):$.extend({},$.fn.accordion.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",$module=$(this),$title=$module.find(selector.title),$content=$module.find(selector.content),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying previous instance",$module),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){$title=$module.find(selector.title),$content=$module.find(selector.content)},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.debug("Binding delegated events"),$module.on(settings.on+eventNamespace,selector.trigger,module.event.click)}},event:{click:function(){module.toggle.call(this)}},toggle:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=isActive&&!isAnimating,isOpening=!isActive&&isAnimating;module.debug("Toggling visibility of content",$activeTitle),isOpen||isOpening?settings.collapsible?module.close.call($activeTitle):module.debug("Cannot close accordion content collapsing is disabled"):module.open.call($activeTitle)},open:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=isActive||isAnimating;return isOpen?void module.debug("Accordion already open, skipping",$activeContent):(module.debug("Opening accordion content",$activeTitle),settings.onOpening.call($activeContent),settings.exclusive&&module.closeOthers.call($activeTitle),$activeTitle.addClass(className.active),$activeContent.stop(!0,!0).addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0,!0).animate({opacity:1},settings.duration,module.resetOpacity)),void $activeContent.slideDown(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).addClass(className.active),module.reset.display.call(this),settings.onOpen.call(this),settings.onChange.call(this)}))},close:function(query){var $activeTitle=query!==undefined?"number"==typeof query?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpening=!isActive&&isAnimating,isClosing=isActive&&isAnimating;!isActive&&!isOpening||isClosing||(module.debug("Closing accordion content",$activeContent),settings.onClosing.call($activeContent),$activeTitle.removeClass(className.active),$activeContent.stop(!0,!0).addClass(className.animating),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$activeContent.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$activeContent.children().stop(!0,!0).animate({opacity:0},settings.duration,module.resetOpacity)),$activeContent.slideUp(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).removeClass(className.active),module.reset.display.call(this),settings.onClose.call(this),settings.onChange.call(this)}))},closeOthers:function(index){var $openTitles,$nestedTitles,$openContents,$activeTitle=index!==undefined?$title.eq(index):$(this).closest(selector.title),$parentTitles=$activeTitle.parents(selector.content).prev(selector.title),$activeAccordion=$activeTitle.closest(selector.accordion),activeSelector=selector.title+"."+className.active+":visible",activeContent=selector.content+"."+className.active+":visible";settings.closeNested?($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$openContents=$openTitles.next($content)):($openTitles=$activeAccordion.find(activeSelector).not($parentTitles),$nestedTitles=$activeAccordion.find(activeContent).find(activeSelector).not($parentTitles),$openTitles=$openTitles.not($nestedTitles),$openContents=$openTitles.next($content)),$openTitles.length>0&&(module.debug("Exclusive enabled, closing other content",$openTitles),$openTitles.removeClass(className.active),$openContents.removeClass(className.animating).stop(!0,!0),settings.animateChildren&&($.fn.transition!==undefined&&$module.transition("is supported")?$openContents.children().transition({animation:"fade out",useFailSafe:!0,debug:settings.debug,verbose:settings.verbose,duration:settings.duration}):$openContents.children().stop(!0,!0).animate({opacity:0},settings.duration,module.resetOpacity)),$openContents.slideUp(settings.duration,settings.easing,function(){$(this).removeClass(className.active),module.reset.display.call(this)}))},reset:{display:function(){module.verbose("Removing inline display from element",this),$(this).css("display",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")},opacity:function(){module.verbose("Removing inline opacity from element",this),$(this).css("opacity",""),""===$(this).attr("style")&&$(this).attr("style","").removeAttr("style")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){return module.debug("Changing internal",name,value),value===undefined?module[name]:void($.isPlainObject(name)?$.extend(!0,module,name):module[name]=value)},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),
found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.checkbox=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var observer,module,settings=$.extend(!0,{},$.fn.checkbox.settings,parameters),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$label=$(this).children(selector.label),$input=$(this).children(selector.input),input=$input[0],initialLoad=!1,shortcutPressed=!1,instance=$module.data(moduleNamespace),element=this;module={initialize:function(){module.verbose("Initializing checkbox",settings),module.create.label(),module.bind.events(),module.set.tabbable(),module.hide.input(),module.observeChanges(),module.instantiate(),module.setup()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying module"),module.unbind.events(),module.show.input(),$module.removeData(moduleNamespace)},fix:{reference:function(){$module.is(selector.input)&&(module.debug("Behavior called on <input> adjusting invoked element"),$module=$module.closest(selector.checkbox),module.refresh())}},setup:function(){module.set.initialLoad(),module.is.indeterminate()?(module.debug("Initial value is indeterminate"),module.indeterminate()):module.is.checked()?(module.debug("Initial value is checked"),module.check()):(module.debug("Initial value is unchecked"),module.uncheck()),module.remove.initialLoad()},refresh:function(){$label=$module.children(selector.label),$input=$module.children(selector.input),input=$input[0]},hide:{input:function(){module.verbose("Modifying <input> z-index to be unselectable"),$input.addClass(className.hidden)}},show:{input:function(){module.verbose("Modifying <input> z-index to be selectable"),$input.removeClass(className.hidden)}},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(){module.debug("DOM tree modified, updating selector cache"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},attachEvents:function(selector,event){var $element=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$element.length>0?(module.debug("Attaching checkbox events to element",selector,event),$element.on("click"+eventNamespace,event)):module.error(error.notFound)},event:{click:function(event){var $target=$(event.target);return $target.is(selector.input)?void module.verbose("Using default check action on initialized checkbox"):$target.is(selector.link)?void module.debug("Clicking link inside checkbox, skipping toggle"):(module.toggle(),$input.focus(),void event.preventDefault())},keydown:function(event){var key=event.which,keyCode={enter:13,space:32,escape:27};key==keyCode.escape?(module.verbose("Escape key pressed blurring field"),$input.blur(),shortcutPressed=!0):event.ctrlKey||key!=keyCode.space&&key!=keyCode.enter?shortcutPressed=!1:(module.verbose("Enter/space key pressed, toggling checkbox"),module.toggle(),shortcutPressed=!0)},keyup:function(event){shortcutPressed&&event.preventDefault()}},check:function(){module.should.allowCheck()&&(module.debug("Checking checkbox",$input),module.set.checked(),module.should.ignoreCallbacks()||(settings.onChecked.call(input),settings.onChange.call(input)))},uncheck:function(){module.should.allowUncheck()&&(module.debug("Unchecking checkbox"),module.set.unchecked(),module.should.ignoreCallbacks()||(settings.onUnchecked.call(input),settings.onChange.call(input)))},indeterminate:function(){return module.should.allowIndeterminate()?void module.debug("Checkbox is already indeterminate"):(module.debug("Making checkbox indeterminate"),module.set.indeterminate(),void(module.should.ignoreCallbacks()||(settings.onIndeterminate.call(input),settings.onChange.call(input))))},determinate:function(){return module.should.allowDeterminate()?void module.debug("Checkbox is already determinate"):(module.debug("Making checkbox determinate"),module.set.determinate(),void(module.should.ignoreCallbacks()||(settings.onDeterminate.call(input),settings.onChange.call(input))))},enable:function(){return module.is.enabled()?void module.debug("Checkbox is already enabled"):(module.debug("Enabling checkbox"),module.set.enabled(),settings.onEnable.call(input),void settings.onEnabled.call(input))},disable:function(){return module.is.disabled()?void module.debug("Checkbox is already disabled"):(module.debug("Disabling checkbox"),module.set.disabled(),settings.onDisable.call(input),void settings.onDisabled.call(input))},get:{radios:function(){var name=module.get.name();return $('input[name="'+name+'"]').closest(selector.checkbox)},otherRadios:function(){return module.get.radios().not($module)},name:function(){return $input.attr("name")}},is:{initialLoad:function(){return initialLoad},radio:function(){return $input.hasClass(className.radio)||"radio"==$input.attr("type")},indeterminate:function(){return $input.prop("indeterminate")!==undefined&&$input.prop("indeterminate")},checked:function(){return $input.prop("checked")!==undefined&&$input.prop("checked")},disabled:function(){return $input.prop("disabled")!==undefined&&$input.prop("disabled")},enabled:function(){return!module.is.disabled()},determinate:function(){return!module.is.indeterminate()},unchecked:function(){return!module.is.checked()}},should:{allowCheck:function(){return module.is.determinate()&&module.is.checked()&&!module.should.forceCallbacks()?(module.debug("Should not allow check, checkbox is already checked"),!1):settings.beforeChecked.apply(input)===!1?(module.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return module.is.determinate()&&module.is.unchecked()&&!module.should.forceCallbacks()?(module.debug("Should not allow uncheck, checkbox is already unchecked"),!1):settings.beforeUnchecked.apply(input)===!1?(module.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return module.is.indeterminate()&&!module.should.forceCallbacks()?(module.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):settings.beforeIndeterminate.apply(input)===!1?(module.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return module.is.determinate()&&!module.should.forceCallbacks()?(module.debug("Should not allow determinate, checkbox is already determinate"),!1):settings.beforeDeterminate.apply(input)===!1?(module.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return module.is.initialLoad()&&settings.fireOnInit},ignoreCallbacks:function(){return initialLoad&&!settings.fireOnInit}},can:{change:function(){return!($module.hasClass(className.disabled)||$module.hasClass(className.readOnly)||$input.prop("disabled")||$input.prop("readonly"))},uncheck:function(){return"boolean"==typeof settings.uncheckable?settings.uncheckable:!module.is.radio()}},set:{initialLoad:function(){initialLoad=!0},checked:function(){return module.verbose("Setting class to checked"),$module.removeClass(className.indeterminate).addClass(className.checked),module.is.radio()&&module.uncheckOthers(),!module.is.indeterminate()&&module.is.checked()?void module.debug("Input is already checked, skipping input property change"):(module.verbose("Setting state to checked",input),$input.prop("indeterminate",!1).prop("checked",!0),void module.trigger.change())},unchecked:function(){return module.verbose("Removing checked class"),$module.removeClass(className.indeterminate).removeClass(className.checked),!module.is.indeterminate()&&module.is.unchecked()?void module.debug("Input is already unchecked"):(module.debug("Setting state to unchecked"),$input.prop("indeterminate",!1).prop("checked",!1),void module.trigger.change())},indeterminate:function(){return module.verbose("Setting class to indeterminate"),$module.addClass(className.indeterminate),module.is.indeterminate()?void module.debug("Input is already indeterminate, skipping input property change"):(module.debug("Setting state to indeterminate"),$input.prop("indeterminate",!0),void module.trigger.change())},determinate:function(){return module.verbose("Removing indeterminate class"),$module.removeClass(className.indeterminate),module.is.determinate()?void module.debug("Input is already determinate, skipping input property change"):(module.debug("Setting state to determinate"),void $input.prop("indeterminate",!1))},disabled:function(){return module.verbose("Setting class to disabled"),$module.addClass(className.disabled),module.is.disabled()?void module.debug("Input is already disabled, skipping input property change"):(module.debug("Setting state to disabled"),$input.prop("disabled","disabled"),void module.trigger.change())},enabled:function(){return module.verbose("Removing disabled class"),$module.removeClass(className.disabled),module.is.enabled()?void module.debug("Input is already enabled, skipping input property change"):(module.debug("Setting state to enabled"),$input.prop("disabled",!1),void module.trigger.change())},tabbable:function(){module.verbose("Adding tabindex to checkbox"),$input.attr("tabindex")===undefined&&$input.attr("tabindex",0)}},remove:{initialLoad:function(){initialLoad=!1}},trigger:{change:function(){var events=document.createEvent("HTMLEvents"),inputElement=$input[0];inputElement&&(module.verbose("Triggering native change event"),events.initEvent("change",!0,!1),inputElement.dispatchEvent(events))}},create:{label:function(){$input.prevAll(selector.label).length>0?($input.prev(selector.label).detach().insertAfter($input),module.debug("Moving existing label",$label)):module.has.label()||($label=$("<label>").insertAfter($input),module.debug("Creating label",$label))}},has:{label:function(){return $label.length>0}},bind:{events:function(){module.verbose("Attaching checkbox events"),$module.on("click"+eventNamespace,module.event.click).on("keydown"+eventNamespace,selector.input,module.event.keydown).on("keyup"+eventNamespace,selector.input,module.event.keyup)}},unbind:{events:function(){module.debug("Removing events"),$module.off(eventNamespace)}},uncheckOthers:function(){var $radios=module.get.otherRadios();module.debug("Unchecking other radios",$radios),$radios.removeClass(className.checked)},toggle:function(){return module.can.change()?void(module.is.indeterminate()||module.is.unchecked()?(module.debug("Currently unchecked"),module.check()):module.is.checked()&&module.can.uncheck()&&(module.debug("Currently checked"),module.uncheck())):void(module.is.radio()||module.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.dimmer=function(parameters){var returnedValue,$allModules=$(this),time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $dimmer,$dimmable,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dimmer.settings,parameters):$.extend({},$.fn.dimmer.settings),selector=settings.selector,namespace=settings.namespace,className=settings.className,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,moduleSelector=$allModules.selector||"",clickEvent="ontouchstart"in document.documentElement?"touchstart":"click",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={preinitialize:function(){module.is.dimmer()?($dimmable=$module.parent(),$dimmer=$module):($dimmable=$module,$dimmer=module.has.dimmer()?settings.dimmerName?$dimmable.find(selector.dimmer).filter("."+settings.dimmerName):$dimmable.find(selector.dimmer):module.create(),module.set.variation())},initialize:function(){module.debug("Initializing dimmer",settings),module.bind.events(),module.set.dimmable(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module",$dimmer),module.unbind.events(),module.remove.variation(),$dimmable.off(eventNamespace)},bind:{events:function(){"hover"==settings.on?$dimmable.on("mouseenter"+eventNamespace,module.show).on("mouseleave"+eventNamespace,module.hide):"click"==settings.on&&$dimmable.on(clickEvent+eventNamespace,module.toggle),module.is.page()&&(module.debug("Setting as a page dimmer",$dimmable),module.set.pageDimmer()),module.is.closable()&&(module.verbose("Adding dimmer close event",$dimmer),$dimmable.on(clickEvent+eventNamespace,selector.dimmer,module.event.click))}},unbind:{events:function(){$module.removeData(moduleNamespace),$dimmable.off(eventNamespace)}},event:{click:function(event){module.verbose("Determining if event occured on dimmer",event),(0===$dimmer.find(event.target).length||$(event.target).is(selector.content))&&(module.hide(),event.stopImmediatePropagation())}},addContent:function(element){var $content=$(element);module.debug("Add content to dimmer",$content),$content.parent()[0]!==$dimmer[0]&&$content.detach().appendTo($dimmer)},create:function(){var $element=$(settings.template.dimmer());return settings.dimmerName&&(module.debug("Creating named dimmer",settings.dimmerName),$element.addClass(settings.dimmerName)),$element.appendTo($dimmable),$element},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.debug("Showing dimmer",$dimmer,settings),module.is.dimmed()&&!module.is.animating()||!module.is.enabled()?module.debug("Dimmer is already shown or disabled"):(module.animate.show(callback),settings.onShow.call(element),settings.onChange.call(element))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.dimmed()||module.is.animating()?(module.debug("Hiding dimmer",$dimmer),module.animate.hide(callback),settings.onHide.call(element),settings.onChange.call(element)):module.debug("Dimmer is not visible")},toggle:function(){module.verbose("Toggling dimmer visibility",$dimmer),module.is.dimmed()?module.hide():module.show()},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?("auto"!==settings.opacity&&module.set.opacity(),$dimmer.transition({animation:settings.transition+" in",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.set.dimmed()},onComplete:function(){module.set.active(),callback()}})):(module.verbose("Showing dimmer animation with javascript"),module.set.dimmed(),"auto"==settings.opacity&&(settings.opacity=.8),$dimmer.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(module.get.duration(),settings.opacity,function(){$dimmer.removeAttr("style"),module.set.active(),callback()}))},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition("is supported")?(module.verbose("Hiding dimmer with css"),$dimmer.transition({animation:settings.transition+" out",queue:!1,duration:module.get.duration(),useFailSafe:!0,onStart:function(){module.remove.dimmed()},onComplete:function(){module.remove.active(),callback()}})):(module.verbose("Hiding dimmer with javascript"),module.remove.dimmed(),$dimmer.stop().fadeOut(module.get.duration(),function(){module.remove.active(),$dimmer.removeAttr("style"),callback()}))}},get:{dimmer:function(){return $dimmer},duration:function(){return"object"==typeof settings.duration?module.is.active()?settings.duration.hide:settings.duration.show:settings.duration}},has:{dimmer:function(){return settings.dimmerName?$module.find(selector.dimmer).filter("."+settings.dimmerName).length>0:$module.find(selector.dimmer).length>0}},is:{active:function(){return $dimmer.hasClass(className.active)},animating:function(){return $dimmer.is(":animated")||$dimmer.hasClass(className.animating)},closable:function(){return"auto"==settings.closable?"hover"==settings.on?!1:!0:settings.closable},dimmer:function(){return $module.hasClass(className.dimmer)},dimmable:function(){return $module.hasClass(className.dimmable)},dimmed:function(){return $dimmable.hasClass(className.dimmed)},disabled:function(){return $dimmable.hasClass(className.disabled)},enabled:function(){return!module.is.disabled()},page:function(){return $dimmable.is("body")},pageDimmer:function(){return $dimmer.hasClass(className.pageDimmer)}},can:{show:function(){return!$dimmer.hasClass(className.disabled)}},set:{opacity:function(opacity){var color=$dimmer.css("background-color"),colorArray=color.split(","),isRGB=colorArray&&3==colorArray.length,isRGBA=colorArray&&4==colorArray.length;opacity=0===settings.opacity?0:settings.opacity||opacity,isRGB||isRGBA?(colorArray[3]=opacity+")",color=colorArray.join(",")):color="rgba(0, 0, 0, "+opacity+")",module.debug("Setting opacity to",opacity),$dimmer.css("background-color",color)},active:function(){$dimmer.addClass(className.active)},dimmable:function(){$dimmable.addClass(className.dimmable)},dimmed:function(){$dimmable.addClass(className.dimmed)},pageDimmer:function(){$dimmer.addClass(className.pageDimmer)},disabled:function(){$dimmer.addClass(className.disabled)},variation:function(variation){variation=variation||settings.variation,variation&&$dimmer.addClass(variation)}},remove:{active:function(){$dimmer.removeClass(className.active)},dimmed:function(){$dimmable.removeClass(className.dimmed)},disabled:function(){$dimmer.removeClass(className.disabled)},variation:function(variation){variation=variation||settings.variation,variation&&$dimmer.removeClass(variation)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},module.preinitialize(),methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return $("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.dropdown=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||"",hasTouch="ontouchstart"in document.documentElement,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(elementIndex){var initialLoad,pageLostFocus,willRefocus,elementNamespace,id,selectObserver,menuObserver,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.dropdown.settings,parameters):$.extend({},$.fn.dropdown.settings),className=settings.className,message=settings.message,fields=settings.fields,keys=settings.keys,metadata=settings.metadata,namespace=settings.namespace,regExp=settings.regExp,selector=settings.selector,error=settings.error,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$text=$module.find(selector.text),$search=$module.find(selector.search),$sizer=$module.find(selector.sizer),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item),activated=!1,itemActivated=!1,internalChange=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing dropdown",settings),module.is.alreadySetup()?module.setup.reference():(module.setup.layout(),module.refreshData(),module.save.defaults(),module.restore.selected(),module.create.id(),module.bind.events(),module.observeChanges(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of dropdown",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous dropdown",$module),module.remove.tabbable(),$module.off(eventNamespace).removeData(moduleNamespace),$menu.off(eventNamespace),$document.off(elementNamespace),module.disconnect.menuObserver(),module.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in window&&(selectObserver=new MutationObserver(module.event.select.mutation),menuObserver=new MutationObserver(module.event.menu.mutation),module.debug("Setting up mutation observer",selectObserver,menuObserver),module.observe.select(),module.observe.menu())},disconnect:{menuObserver:function(){menuObserver&&menuObserver.disconnect()},selectObserver:function(){selectObserver&&selectObserver.disconnect()}},observe:{select:function(){module.has.input()&&selectObserver.observe($input[0],{childList:!0,subtree:!0})},menu:function(){module.has.menu()&&menuObserver.observe($menu[0],{childList:!0,subtree:!0})}},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},userChoice:function(values){var $userChoices,$userChoice,html;return(values=values||module.get.userValues())?(values=$.isArray(values)?values:[values],$.each(values,function(index,value){module.get.item(value)===!1&&(html=settings.templates.addition(module.add.variables(message.addResult,value)),$userChoice=$("<div />").html(html).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).addClass(className.addition).addClass(className.item),settings.hideAdditions&&$userChoice.addClass(className.hidden),$userChoices=$userChoices===undefined?$userChoice:$userChoices.add($userChoice),module.verbose("Creating user choices for value",value,$userChoice))}),$userChoices):!1},userLabels:function(){var userValues=module.get.userValues();userValues&&(module.debug("Adding user labels",userValues),$.each(userValues,function(index,value){module.verbose("Adding custom user value"),module.add.label(value,value)}))},menu:function(){$menu=$("<div />").addClass(className.menu).appendTo($module)},sizer:function(){$sizer=$("<span />").addClass(className.sizer).insertAfter($search)}},search:function(query){query=query!==undefined?query:module.get.query(),module.verbose("Searching for query",query),module.has.minCharacters(query)?module.filter(query):module.hide()},select:{firstUnfiltered:function(){module.verbose("Selecting first non-filtered element"),module.remove.selectedItem(),$item.not(selector.unselectable).not(selector.addition+selector.hidden).eq(0).addClass(className.selected)},nextAvailable:function($selected){$selected=$selected.eq(0);var $nextAvailable=$selected.nextAll(selector.item).not(selector.unselectable).eq(0),$prevAvailable=$selected.prevAll(selector.item).not(selector.unselectable).eq(0),hasNext=$nextAvailable.length>0;

hasNext?(module.verbose("Moving selection to",$nextAvailable),$nextAvailable.addClass(className.selected)):(module.verbose("Moving selection to",$prevAvailable),$prevAvailable.addClass(className.selected))}},setup:{api:function(){var apiSettings={debug:settings.debug,urlData:{value:module.get.value(),query:module.get.query()},on:!1};module.verbose("First request, initializing API"),$module.api(apiSettings)},layout:function(){$module.is("select")&&(module.setup.select(),module.setup.returnedObject()),module.has.menu()||module.create.menu(),module.is.search()&&!module.has.search()&&(module.verbose("Adding search input"),$search=$("<input />").addClass(className.search).prop("autocomplete","off").insertBefore($text)),module.is.multiple()&&module.is.searchSelection()&&!module.has.sizer()&&module.create.sizer(),settings.allowTab&&module.set.tabbable()},select:function(){var selectValues=module.get.selectValues();module.debug("Dropdown initialized on a select",selectValues),$module.is("select")&&($input=$module),$input.parent(selector.dropdown).length>0?(module.debug("UI dropdown already exists. Creating dropdown menu only"),$module=$input.closest(selector.dropdown),module.has.menu()||module.create.menu(),$menu=$module.children(selector.menu),module.setup.menu(selectValues)):(module.debug("Creating entire dropdown from select"),$module=$("<div />").attr("class",$input.attr("class")).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues)).insertBefore($input),$input.hasClass(className.multiple)&&$input.prop("multiple")===!1&&(module.error(error.missingMultiple),$input.prop("multiple",!0)),$input.is("[multiple]")&&module.set.multiple(),$input.prop("disabled")&&(module.debug("Disabling dropdown"),$module.addClass(className.disabled)),$input.removeAttr("class").detach().prependTo($module)),module.refresh()},menu:function(values){$menu.html(templates.menu(values,fields)),$item=$menu.find(selector.item)},reference:function(){module.debug("Dropdown behavior was called on select, replacing with closest dropdown"),$module=$module.parent(selector.dropdown),module.refresh(),module.setup.returnedObject(),methodInvoked&&(instance=module,module.invoke(query))},returnedObject:function(){var $firstModules=$allModules.slice(0,elementIndex),$lastModules=$allModules.slice(elementIndex+1);$allModules=$firstModules.add($module).add($lastModules)}},refresh:function(){module.refreshSelectors(),module.refreshData()},refreshItems:function(){$item=$menu.find(selector.item)},refreshSelectors:function(){module.verbose("Refreshing selector cache"),$text=$module.find(selector.text),$search=$module.find(selector.search),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$combo=$module.prev().find(selector.text).length>0?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item)},refreshData:function(){module.verbose("Refreshing cached metadata"),$item.removeData(metadata.text).removeData(metadata.value)},clearData:function(){module.verbose("Clearing metadata"),$item.removeData(metadata.text).removeData(metadata.value),$module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText)},toggle:function(){module.verbose("Toggling menu visibility"),module.is.active()?module.hide():module.show()},show:function(callback){if(callback=$.isFunction(callback)?callback:function(){},!module.can.show()&&module.is.remote()&&(module.debug("No API results retrieved, searching before show"),module.queryRemote(module.get.query(),module.show)),module.can.show()&&!module.is.active()){if(module.debug("Showing dropdown"),!module.has.message()||module.has.maxSelections()||module.has.allResultsFiltered()||module.remove.message(),module.is.allFiltered())return!0;settings.onShow.call(element)!==!1&&module.animate.show(function(){module.can.click()&&module.bind.intent(),module.has.menuSearch()&&module.focusSearch(),module.set.visible(),callback.call(element)})}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.active()&&(module.debug("Hiding dropdown"),settings.onHide.call(element)!==!1&&module.animate.hide(function(){module.remove.visible(),callback.call(element)}))},hideOthers:function(){module.verbose("Finding other dropdowns to hide"),$allModules.not($module).has(selector.menu+"."+className.visible).dropdown("hide")},hideMenu:function(){module.verbose("Hiding menu  instantaneously"),module.remove.active(),module.remove.visible(),$menu.transition("hide")},hideSubMenus:function(){var $subMenus=$menu.children(selector.item).find(selector.menu);module.verbose("Hiding sub menus",$subMenus),$subMenus.transition("hide")},bind:{events:function(){hasTouch&&module.bind.touchEvents(),module.bind.keyboardEvents(),module.bind.inputEvents(),module.bind.mouseEvents()},touchEvents:function(){module.debug("Touch device detected binding additional touch events"),module.is.searchSelection()||module.is.single()&&$module.on("touchstart"+eventNamespace,module.event.test.toggle),$menu.on("touchstart"+eventNamespace,selector.item,module.event.item.mouseenter)},keyboardEvents:function(){module.verbose("Binding keyboard events"),$module.on("keydown"+eventNamespace,module.event.keydown),module.has.search()&&$module.on(module.get.inputEvent()+eventNamespace,selector.search,module.event.input),module.is.multiple()&&$document.on("keydown"+elementNamespace,module.event.document.keydown)},inputEvents:function(){module.verbose("Binding input change events"),$module.on("change"+eventNamespace,selector.input,module.event.change)},mouseEvents:function(){module.verbose("Binding mouse events"),module.is.multiple()&&$module.on("click"+eventNamespace,selector.label,module.event.label.click).on("click"+eventNamespace,selector.remove,module.event.remove.click),module.is.searchSelection()?($module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("mousedown"+eventNamespace,selector.menu,module.event.menu.mousedown).on("mouseup"+eventNamespace,selector.menu,module.event.menu.mouseup).on("click"+eventNamespace,selector.icon,module.event.icon.click).on("focus"+eventNamespace,selector.search,module.event.search.focus).on("click"+eventNamespace,selector.search,module.event.search.focus).on("blur"+eventNamespace,selector.search,module.event.search.blur).on("click"+eventNamespace,selector.text,module.event.text.focus),module.is.multiple()&&$module.on("click"+eventNamespace,module.event.click)):("click"==settings.on?$module.on("click"+eventNamespace,selector.icon,module.event.icon.click).on("click"+eventNamespace,module.event.test.toggle):"hover"==settings.on?$module.on("mouseenter"+eventNamespace,module.delay.show).on("mouseleave"+eventNamespace,module.delay.hide):$module.on(settings.on+eventNamespace,module.toggle),$module.on("mousedown"+eventNamespace,module.event.mousedown).on("mouseup"+eventNamespace,module.event.mouseup).on("focus"+eventNamespace,module.event.focus),module.has.menuSearch()?$module.on("blur"+eventNamespace,selector.search,module.event.search.blur):$module.on("blur"+eventNamespace,module.event.blur)),$menu.on("mouseenter"+eventNamespace,selector.item,module.event.item.mouseenter).on("mouseleave"+eventNamespace,selector.item,module.event.item.mouseleave).on("click"+eventNamespace,selector.item,module.event.item.click)},intent:function(){module.verbose("Binding hide intent event to document"),hasTouch&&$document.on("touchstart"+elementNamespace,module.event.test.touch).on("touchmove"+elementNamespace,module.event.test.touch),$document.on("click"+elementNamespace,module.event.test.hide)}},unbind:{intent:function(){module.verbose("Removing hide intent event from document"),hasTouch&&$document.off("touchstart"+elementNamespace).off("touchmove"+elementNamespace),$document.off("click"+elementNamespace)}},filter:function(query){var searchTerm=query!==undefined?query:module.get.query(),afterFiltered=function(){module.is.multiple()&&module.filterActive(),module.select.firstUnfiltered(),module.has.allResultsFiltered()?settings.onNoResults.call(element,searchTerm)?settings.allowAdditions?settings.hideAdditions&&(module.verbose("User addition with no menu, setting empty style"),module.set.empty(),module.hideMenu()):(module.verbose("All items filtered, showing message",searchTerm),module.add.message(message.noResults)):(module.verbose("All items filtered, hiding dropdown",searchTerm),module.hideMenu()):(module.remove.empty(),module.remove.message()),settings.allowAdditions&&module.add.userSuggestion(query),module.is.searchSelection()&&module.can.show()&&module.is.focusedOnSearch()&&module.show()};settings.useLabels&&module.has.maxSelections()||(settings.apiSettings?module.can.useAPI()?module.queryRemote(searchTerm,function(){settings.filterRemoteData&&module.filterItems(searchTerm),afterFiltered()}):module.error(error.noAPI):(module.filterItems(searchTerm),afterFiltered()))},queryRemote:function(query,callback){var apiSettings={errorDuration:!1,cache:"local",throttle:settings.throttle,urlData:{query:query},onError:function(){module.add.message(message.serverError),callback()},onFailure:function(){module.add.message(message.serverError),callback()},onSuccess:function(response){module.remove.message(),module.setup.menu({values:response[fields.remoteValues]}),callback()}};$module.api("get request")||module.setup.api(),apiSettings=$.extend(!0,{},apiSettings,settings.apiSettings),$module.api("setting",apiSettings).api("query")},filterItems:function(query){var searchTerm=query!==undefined?query:module.get.query(),results=null,escapedTerm=module.escape.string(searchTerm),beginsWithRegExp=new RegExp("^"+escapedTerm,"igm");module.has.query()&&(results=[],module.verbose("Searching for matching values",searchTerm),$item.each(function(){var text,value,$choice=$(this);if("both"==settings.match||"text"==settings.match){if(text=String(module.get.choiceText($choice,!1)),-1!==text.search(beginsWithRegExp))return results.push(this),!0;if("exact"===settings.fullTextSearch&&module.exactSearch(searchTerm,text))return results.push(this),!0;if(settings.fullTextSearch===!0&&module.fuzzySearch(searchTerm,text))return results.push(this),!0}if("both"==settings.match||"value"==settings.match){if(value=String(module.get.choiceValue($choice,text)),-1!==value.search(beginsWithRegExp))return results.push(this),!0;if("exact"===settings.fullTextSearch&&module.exactSearch(searchTerm,value))return results.push(this),!0;if(settings.fullTextSearch===!0&&module.fuzzySearch(searchTerm,value))return results.push(this),!0}})),module.debug("Showing only matched items",searchTerm),module.remove.filteredItem(),results&&$item.not(results).addClass(className.filtered)},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;queryLength>characterIndex;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);termLength>nextCharacterIndex;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},exactSearch:function(query,term){return query=query.toLowerCase(),term=term.toLowerCase(),term.indexOf(query)>-1?!0:!1},filterActive:function(){settings.useLabels&&$item.filter("."+className.active).addClass(className.filtered)},focusSearch:function(skipHandler){module.has.search()&&!module.is.focusedOnSearch()&&(skipHandler?($module.off("focus"+eventNamespace,selector.search),$search.focus(),$module.on("focus"+eventNamespace,selector.search,module.event.search.focus)):$search.focus())},forceSelection:function(){var $currentlySelected=$item.not(className.filtered).filter("."+className.selected).eq(0),$activeItem=$item.not(className.filtered).filter("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,hasSelected=$selectedItem.length>0;return hasSelected&&!module.is.multiple()?(module.debug("Forcing partial selection to selected item",$selectedItem),void module.event.item.click.call($selectedItem,{},!0)):void(settings.allowAdditions?(module.set.selected(module.get.query()),module.remove.searchTerm()):module.remove.searchTerm())},event:{change:function(){internalChange||(module.debug("Input changed, updating selection"),module.set.selected())},focus:function(){settings.showOnFocus&&!activated&&module.is.hidden()&&!pageLostFocus&&module.show()},blur:function(){pageLostFocus=document.activeElement===this,activated||pageLostFocus||(module.remove.activeLabel(),module.hide())},mousedown:function(){module.is.searchSelection()?willRefocus=!0:activated=!0},mouseup:function(){module.is.searchSelection()?willRefocus=!1:activated=!1},click:function(event){var $target=$(event.target);$target.is($module)&&(module.is.focusedOnSearch()?module.show():module.focusSearch())},search:{focus:function(){activated=!0,module.is.multiple()&&module.remove.activeLabel(),settings.showOnFocus&&module.search()},blur:function(){pageLostFocus=document.activeElement===this,module.is.searchSelection()&&!willRefocus&&(itemActivated||pageLostFocus||(settings.forceSelection&&module.forceSelection(),module.hide())),willRefocus=!1}},icon:{click:function(){module.toggle()}},text:{focus:function(){activated=!0,module.focusSearch()}},input:function(){(module.is.multiple()||module.is.searchSelection())&&module.set.filtered(),clearTimeout(module.timer),module.timer=setTimeout(module.search,settings.delay.search)},label:{click:function(event){var $label=$(this),$labels=$module.find(selector.label),$activeLabels=$labels.filter("."+className.active),$nextActive=$label.nextAll("."+className.active),$prevActive=$label.prevAll("."+className.active),$range=$nextActive.length>0?$label.nextUntil($nextActive).add($activeLabels).add($label):$label.prevUntil($prevActive).add($activeLabels).add($label);event.shiftKey?($activeLabels.removeClass(className.active),$range.addClass(className.active)):event.ctrlKey?$label.toggleClass(className.active):($activeLabels.removeClass(className.active),$label.addClass(className.active)),settings.onLabelSelect.apply(this,$labels.filter("."+className.active))}},remove:{click:function(){var $label=$(this).parent();$label.hasClass(className.active)?module.remove.activeLabels():module.remove.activeLabels($label)}},test:{toggle:function(event){var toggleBehavior=module.is.multiple()?module.show:module.toggle;module.is.bubbledLabelClick(event)||module.is.bubbledIconClick(event)||module.determine.eventOnElement(event,toggleBehavior)&&event.preventDefault()},touch:function(event){module.determine.eventOnElement(event,function(){"touchstart"==event.type?module.timer=setTimeout(function(){module.hide()},settings.delay.touch):"touchmove"==event.type&&clearTimeout(module.timer)}),event.stopPropagation()},hide:function(event){module.determine.eventInModule(event,module.hide)}},select:{mutation:function(){module.debug("<select> modified, recreating menu"),module.setup.select()}},menu:{mutation:function(mutations){var mutation=mutations[0],$addedNode=$(mutation.addedNodes?mutation.addedNodes[0]:!1),$removedNode=$(mutation.removedNodes?mutation.removedNodes[0]:!1),$changedNodes=$addedNode.add($removedNode),isUserAddition=$changedNodes.is(selector.addition)||$changedNodes.closest(selector.addition).length>0,isMessage=$changedNodes.is(selector.message)||$changedNodes.closest(selector.message).length>0;isUserAddition||isMessage?(module.debug("Updating item selector cache"),module.refreshItems()):(module.debug("Menu modified, updating selector cache"),module.refresh())},mousedown:function(){itemActivated=!0},mouseup:function(){itemActivated=!1}},item:{mouseenter:function(event){var $target=$(event.target),$item=$(this),$subMenu=$item.children(selector.menu),$otherMenus=$item.siblings(selector.item).children(selector.menu),hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;!isBubbledEvent&&hasSubMenu&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Showing sub-menu",$subMenu),$.each($otherMenus,function(){module.animate.hide(!1,$(this))}),module.animate.show(!1,$subMenu)},settings.delay.show),event.preventDefault())},mouseleave:function(){var $subMenu=$(this).children(selector.menu);$subMenu.length>0&&(clearTimeout(module.itemTimer),module.itemTimer=setTimeout(function(){module.verbose("Hiding sub-menu",$subMenu),module.animate.hide(!1,$subMenu)},settings.delay.hide))},click:function(event,skipRefocus){var $choice=$(this),$target=$(event?event.target:""),$subMenu=$choice.find(selector.menu),text=module.get.choiceText($choice),value=module.get.choiceValue($choice,text),hasSubMenu=$subMenu.length>0,isBubbledEvent=$subMenu.find($target).length>0;module.has.menuSearch()&&$(document.activeElement).blur(),isBubbledEvent||hasSubMenu&&!settings.allowCategorySelection||(module.is.searchSelection()&&(settings.allowAdditions&&module.remove.userAddition(),module.remove.searchTerm(),module.is.focusedOnSearch()||1==skipRefocus||module.focusSearch(!0)),settings.useLabels||(module.remove.filteredItem(),module.set.scrollPosition($choice)),module.determine.selectAction.call(this,text,value))}},document:{keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $label=$module.find(selector.label),$activeLabel=$label.filter("."+className.active),labelIndex=($activeLabel.data(metadata.value),$label.index($activeLabel)),labelCount=$label.length,hasActiveLabel=$activeLabel.length>0,hasMultipleActive=$activeLabel.length>1,isFirstLabel=0===labelIndex,isLastLabel=labelIndex+1==labelCount,isSearch=module.is.searchSelection(),isFocusedOnSearch=module.is.focusedOnSearch(),isFocused=module.is.focused(),caretAtStart=isFocusedOnSearch&&0===module.get.caretPosition();if(isSearch&&!hasActiveLabel&&!isFocusedOnSearch)return;pressedKey==keys.leftArrow?!isFocused&&!caretAtStart||hasActiveLabel?hasActiveLabel&&(event.shiftKey?module.verbose("Adding previous label to selection"):(module.verbose("Selecting previous label"),$label.removeClass(className.active)),isFirstLabel&&!hasMultipleActive?$activeLabel.addClass(className.active):$activeLabel.prev(selector.siblingLabel).addClass(className.active).end(),event.preventDefault()):(module.verbose("Selecting previous label"),$label.last().addClass(className.active)):pressedKey==keys.rightArrow?(isFocused&&!hasActiveLabel&&$label.first().addClass(className.active),hasActiveLabel&&(event.shiftKey?module.verbose("Adding next label to selection"):(module.verbose("Selecting next label"),$label.removeClass(className.active)),isLastLabel?isSearch?isFocusedOnSearch?$label.removeClass(className.active):module.focusSearch():hasMultipleActive?$activeLabel.next(selector.siblingLabel).addClass(className.active):$activeLabel.addClass(className.active):$activeLabel.next(selector.siblingLabel).addClass(className.active),event.preventDefault())):pressedKey==keys.deleteKey||pressedKey==keys.backspace?hasActiveLabel?(module.verbose("Removing active labels"),isLastLabel&&isSearch&&!isFocusedOnSearch&&module.focusSearch(),$activeLabel.last().next(selector.siblingLabel).addClass(className.active),module.remove.activeLabels($activeLabel),event.preventDefault()):caretAtStart&&!hasActiveLabel&&pressedKey==keys.backspace&&(module.verbose("Removing last label on input backspace"),$activeLabel=$label.last().addClass(className.active),module.remove.activeLabels($activeLabel)):$activeLabel.removeClass(className.active)}}},keydown:function(event){var pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var $nextItem,isSubMenuItem,$currentlySelected=$item.not(selector.unselectable).filter("."+className.selected).eq(0),$activeItem=$menu.children("."+className.active).eq(0),$selectedItem=$currentlySelected.length>0?$currentlySelected:$activeItem,$visibleItems=$selectedItem.length>0?$selectedItem.siblings(":not(."+className.filtered+")").addBack():$menu.children(":not(."+className.filtered+")"),$subMenu=$selectedItem.children(selector.menu),$parentMenu=$selectedItem.closest(selector.menu),inVisibleMenu=$parentMenu.hasClass(className.visible)||$parentMenu.hasClass(className.animating)||$parentMenu.parent(selector.menu).length>0,hasSubMenu=$subMenu.length>0,hasSelectedItem=$selectedItem.length>0,selectedIsSelectable=$selectedItem.not(selector.unselectable).length>0,delimiterPressed=pressedKey==keys.delimiter&&settings.allowAdditions&&module.is.multiple(),isAdditionWithoutMenu=settings.allowAdditions&&settings.hideAdditions&&(pressedKey==keys.enter||delimiterPressed)&&selectedIsSelectable;if(isAdditionWithoutMenu&&(module.verbose("Selecting item from keyboard shortcut",$selectedItem),module.event.item.click.call($selectedItem,event),module.is.searchSelection()&&module.remove.searchTerm()),module.is.visible()){if((pressedKey==keys.enter||delimiterPressed)&&(pressedKey==keys.enter&&hasSelectedItem&&hasSubMenu&&!settings.allowCategorySelection?(module.verbose("Pressed enter on unselectable category, opening sub menu"),pressedKey=keys.rightArrow):selectedIsSelectable&&(module.verbose("Selecting item from keyboard shortcut",$selectedItem),module.event.item.click.call($selectedItem,event),module.is.searchSelection()&&module.remove.searchTerm()),event.preventDefault()),hasSelectedItem&&(pressedKey==keys.leftArrow&&(isSubMenuItem=$parentMenu[0]!==$menu[0],isSubMenuItem&&(module.verbose("Left key pressed, closing sub-menu"),module.animate.hide(!1,$parentMenu),$selectedItem.removeClass(className.selected),$parentMenu.closest(selector.item).addClass(className.selected),event.preventDefault())),pressedKey==keys.rightArrow&&hasSubMenu&&(module.verbose("Right key pressed, opening sub-menu"),module.animate.show(!1,$subMenu),$selectedItem.removeClass(className.selected),$subMenu.find(selector.item).eq(0).addClass(className.selected),event.preventDefault())),pressedKey==keys.upArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$selectedItem.prevAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),$visibleItems.index($nextItem)<0)return module.verbose("Up key pressed but reached top of current menu"),void event.preventDefault();module.verbose("Up key pressed, changing active item"),$selectedItem.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextItem),event.preventDefault()}if(pressedKey==keys.downArrow){if($nextItem=hasSelectedItem&&inVisibleMenu?$nextItem=$selectedItem.nextAll(selector.item+":not("+selector.unselectable+")").eq(0):$item.eq(0),0===$nextItem.length)return module.verbose("Down key pressed but reached bottom of current menu"),void event.preventDefault();module.verbose("Down key pressed, changing active item"),$item.removeClass(className.selected),$nextItem.addClass(className.selected),module.set.scrollPosition($nextItem),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextItem),event.preventDefault()}pressedKey==keys.pageUp&&(module.scrollPage("up"),event.preventDefault()),pressedKey==keys.pageDown&&(module.scrollPage("down"),event.preventDefault()),pressedKey==keys.escape&&(module.verbose("Escape key pressed, closing dropdown"),module.hide())}else delimiterPressed&&event.preventDefault(),pressedKey!=keys.downArrow||module.is.visible()||(module.verbose("Down key pressed, showing dropdown"),module.select.firstUnfiltered(),module.show(),event.preventDefault())}else module.has.search()||module.set.selectedLetter(String.fromCharCode(pressedKey))}},trigger:{change:function(){var events=document.createEvent("HTMLEvents"),inputElement=$input[0];inputElement&&(module.verbose("Triggering native change event"),events.initEvent("change",!0,!1),inputElement.dispatchEvent(events))}},determine:{selectAction:function(text,value){module.verbose("Determining action",settings.action),$.isFunction(module.action[settings.action])?(module.verbose("Triggering preset action",settings.action,text,value),module.action[settings.action].call(element,text,value,this)):$.isFunction(settings.action)?(module.verbose("Triggering user action",settings.action,text,value),settings.action.call(element,text,value,this)):module.error(error.action,settings.action)},eventInModule:function(event,callback){var $target=$(event.target),inDocument=$target.closest(document.documentElement).length>0,inModule=$target.closest($module).length>0;return callback=$.isFunction(callback)?callback:function(){},inDocument&&!inModule?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(event,callback){var $target=$(event.target),$label=$target.closest(selector.siblingLabel),inVisibleDOM=document.body.contains(event.target),notOnLabel=0===$module.find($label).length,notInMenu=0===$target.closest($menu).length;return callback=$.isFunction(callback)?callback:function(){},inVisibleDOM&&notOnLabel&&notInMenu?(module.verbose("Triggering event",callback),callback(),!0):(module.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(text,value,element){if(value=value!==undefined?value:text,module.can.activate($(element))){if(module.set.selected(value,$(element)),module.is.multiple()&&!module.is.allFiltered())return;module.hideAndClear()}},select:function(text,value,element){if(value=value!==undefined?value:text,module.can.activate($(element))){if(module.set.value(value,$(element)),module.is.multiple()&&!module.is.allFiltered())return;module.hideAndClear()}},combo:function(text,value,element){value=value!==undefined?value:text,module.set.selected(value,$(element)),module.hideAndClear()},hide:function(text,value){module.set.value(value,text),module.hideAndClear()}},get:{id:function(){return id},defaultText:function(){return $module.data(metadata.defaultText)},defaultValue:function(){return $module.data(metadata.defaultValue)},placeholderText:function(){return $module.data(metadata.placeholderText)||""},text:function(){return $text.text()},query:function(){return $.trim($search.val())},searchWidth:function(value){return value=value!==undefined?value:$search.val(),$sizer.text(value),Math.ceil($sizer.width()+1)},selectionCount:function(){var count,values=module.get.values();return count=module.is.multiple()?$.isArray(values)?values.length:0:""!==module.get.value()?1:0},transition:function($subMenu){return"auto"==settings.transition?module.is.upward($subMenu)?"slide up":"slide down":settings.transition},userValues:function(){var values=module.get.values();return values?(values=$.isArray(values)?values:[values],$.grep(values,function(value){return module.get.item(value)===!1})):!1},uniqueArray:function(array){return $.grep(array,function(value,index){return $.inArray(value,array)===index})},caretPosition:function(){var range,rangeLength,input=$search.get(0);return"selectionStart"in input?input.selectionStart:document.selection?(input.focus(),range=document.selection.createRange(),rangeLength=range.text.length,range.moveStart("character",-input.value.length),range.text.length-rangeLength):void 0},value:function(){var value=$input.length>0?$input.val():$module.data(metadata.value),isEmptyMultiselect=$.isArray(value)&&1===value.length&&""===value[0];return value===undefined||isEmptyMultiselect?"":value},values:function(){var value=module.get.value();return""===value?"":!module.has.selectInput()&&module.is.multiple()?"string"==typeof value?value.split(settings.delimiter):"":value},remoteValues:function(){var values=module.get.values(),remoteValues=!1;return values&&("string"==typeof values&&(values=[values]),$.each(values,function(index,value){var name=module.read.remoteData(value);module.verbose("Restoring value from session data",name,value),name&&(remoteValues||(remoteValues={}),remoteValues[value]=name)})),remoteValues},choiceText:function($choice,preserveHTML){return preserveHTML=preserveHTML!==undefined?preserveHTML:settings.preserveHTML,$choice?($choice.find(selector.menu).length>0&&(module.verbose("Retrieving text of element with sub-menu"),$choice=$choice.clone(),$choice.find(selector.menu).remove(),$choice.find(selector.menuIcon).remove()),$choice.data(metadata.text)!==undefined?$choice.data(metadata.text):$.trim(preserveHTML?$choice.html():$choice.text())):void 0},choiceValue:function($choice,choiceText){return choiceText=choiceText||module.get.choiceText($choice),$choice?$choice.data(metadata.value)!==undefined?String($choice.data(metadata.value)):"string"==typeof choiceText?$.trim(choiceText.toLowerCase()):String(choiceText):!1},inputEvent:function(){var input=$search[0];return input?input.oninput!==undefined?"input":input.onpropertychange!==undefined?"propertychange":"keyup":!1},selectValues:function(){var select={};return select.values=[],$module.find("option").each(function(){var $option=$(this),name=$option.html(),disabled=$option.attr("disabled"),value=$option.attr("value")!==undefined?$option.attr("value"):name;"auto"===settings.placeholder&&""===value?select.placeholder=name:select.values.push({name:name,value:value,disabled:disabled})}),settings.placeholder&&"auto"!==settings.placeholder&&(module.debug("Setting placeholder value to",settings.placeholder),select.placeholder=settings.placeholder),settings.sortSelect?(select.values.sort(function(a,b){return a.name>b.name?1:-1}),module.debug("Retrieved and sorted values from select",select)):module.debug("Retrieved values from select",select),select},activeItem:function(){return $item.filter("."+className.active)},selectedItem:function(){var $selectedItem=$item.not(selector.unselectable).filter("."+className.selected);return $selectedItem.length>0?$selectedItem:$item.eq(0)},itemWithAdditions:function(value){var $items=module.get.item(value),$userItems=module.create.userChoice(value),hasUserItems=$userItems&&$userItems.length>0;return hasUserItems&&($items=$items.length>0?$items.add($userItems):$userItems),$items},item:function(value,strict){var shouldSearch,isMultiple,$selectedItem=!1;return value=value!==undefined?value:module.get.values()!==undefined?module.get.values():module.get.text(),shouldSearch=isMultiple?value.length>0:value!==undefined&&null!==value,isMultiple=module.is.multiple()&&$.isArray(value),strict=""===value||0===value?!0:strict||!1,shouldSearch&&$item.each(function(){var $choice=$(this),optionText=module.get.choiceText($choice),optionValue=module.get.choiceValue($choice,optionText);if(null!==optionValue&&optionValue!==undefined)if(isMultiple)(-1!==$.inArray(String(optionValue),value)||-1!==$.inArray(optionText,value))&&($selectedItem=$selectedItem?$selectedItem.add($choice):$choice);else if(strict){if(module.verbose("Ambiguous dropdown value using strict type check",$choice,value),optionValue===value||optionText===value)return $selectedItem=$choice,!0}else if(String(optionValue)==String(value)||optionText==value)return module.verbose("Found select item by value",optionValue,value),$selectedItem=$choice,!0}),$selectedItem}},check:{maxSelections:function(selectionCount){return settings.maxSelections?(selectionCount=selectionCount!==undefined?selectionCount:module.get.selectionCount(),selectionCount>=settings.maxSelections?(module.debug("Maximum selection count reached"),settings.useLabels&&($item.addClass(className.filtered),module.add.message(message.maxSelections)),!0):(module.verbose("No longer at maximum selection count"),module.remove.message(),module.remove.filteredItem(),module.is.searchSelection()&&module.filterItems(),!1)):!0}},restore:{defaults:function(){module.clear(),module.restore.defaultText(),module.restore.defaultValue()},defaultText:function(){var defaultText=module.get.defaultText(),placeholderText=module.get.placeholderText;defaultText===placeholderText?(module.debug("Restoring default placeholder text",defaultText),
module.set.placeholderText(defaultText)):(module.debug("Restoring default text",defaultText),module.set.text(defaultText))},placeholderText:function(){module.set.placeholderText()},defaultValue:function(){var defaultValue=module.get.defaultValue();defaultValue!==undefined&&(module.debug("Restoring default value",defaultValue),""!==defaultValue?(module.set.value(defaultValue),module.set.selected()):(module.remove.activeItem(),module.remove.selectedItem()))},labels:function(){settings.allowAdditions&&(settings.useLabels||(module.error(error.labels),settings.useLabels=!0),module.debug("Restoring selected values"),module.create.userLabels()),module.check.maxSelections()},selected:function(){module.restore.values(),module.is.multiple()?(module.debug("Restoring previously selected values and labels"),module.restore.labels()):module.debug("Restoring previously selected values")},values:function(){module.set.initialLoad(),settings.apiSettings&&settings.saveRemoteData&&module.get.remoteValues()?module.restore.remoteValues():module.set.selected(),module.remove.initialLoad()},remoteValues:function(){var values=module.get.remoteValues();module.debug("Recreating selected from session data",values),values&&(module.is.single()?$.each(values,function(value,name){module.set.text(name)}):$.each(values,function(value,name){module.add.label(value,name)}))}},read:{remoteData:function(value){var name;return window.Storage===undefined?void module.error(error.noStorage):(name=sessionStorage.getItem(value),name!==undefined?name:!1)}},save:{defaults:function(){module.save.defaultText(),module.save.placeholderText(),module.save.defaultValue()},defaultValue:function(){var value=module.get.value();module.verbose("Saving default value as",value),$module.data(metadata.defaultValue,value)},defaultText:function(){var text=module.get.text();module.verbose("Saving default text as",text),$module.data(metadata.defaultText,text)},placeholderText:function(){var text;settings.placeholder!==!1&&$text.hasClass(className.placeholder)&&(text=module.get.text(),module.verbose("Saving placeholder text as",text),$module.data(metadata.placeholderText,text))},remoteData:function(name,value){return window.Storage===undefined?void module.error(error.noStorage):(module.verbose("Saving remote data to session storage",value,name),void sessionStorage.setItem(value,name))}},clear:function(){module.is.multiple()&&settings.useLabels?module.remove.labels():(module.remove.activeItem(),module.remove.selectedItem()),module.set.placeholderText(),module.clearValue()},clearValue:function(){module.set.value("")},scrollPage:function(direction,$selectedItem){var isWithinRange,$nextSelectedItem,elementIndex,$currentItem=$selectedItem||module.get.selectedItem(),$menu=$currentItem.closest(selector.menu),menuHeight=$menu.outerHeight(),currentScroll=$menu.scrollTop(),itemHeight=$item.eq(0).outerHeight(),itemsPerPage=Math.floor(menuHeight/itemHeight),newScroll=($menu.prop("scrollHeight"),"up"==direction?currentScroll-itemHeight*itemsPerPage:currentScroll+itemHeight*itemsPerPage),$selectableItem=$item.not(selector.unselectable);elementIndex="up"==direction?$selectableItem.index($currentItem)-itemsPerPage:$selectableItem.index($currentItem)+itemsPerPage,isWithinRange="up"==direction?elementIndex>=0:elementIndex<$selectableItem.length,$nextSelectedItem=isWithinRange?$selectableItem.eq(elementIndex):"up"==direction?$selectableItem.first():$selectableItem.last(),$nextSelectedItem.length>0&&(module.debug("Scrolling page",direction,$nextSelectedItem),$currentItem.removeClass(className.selected),$nextSelectedItem.addClass(className.selected),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextSelectedItem),$menu.scrollTop(newScroll))},set:{filtered:function(){var isMultiple=module.is.multiple(),isSearch=module.is.searchSelection(),isSearchMultiple=isMultiple&&isSearch,searchValue=isSearch?module.get.query():"",hasSearchValue="string"==typeof searchValue&&searchValue.length>0,searchWidth=module.get.searchWidth(),valueIsSet=""!==searchValue;isMultiple&&hasSearchValue&&(module.verbose("Adjusting input width",searchWidth,settings.glyphWidth),$search.css("width",searchWidth)),hasSearchValue||isSearchMultiple&&valueIsSet?(module.verbose("Hiding placeholder text"),$text.addClass(className.filtered)):(!isMultiple||isSearchMultiple&&!valueIsSet)&&(module.verbose("Showing placeholder text"),$text.removeClass(className.filtered))},empty:function(){$module.addClass(className.empty)},loading:function(){$module.addClass(className.loading)},placeholderText:function(text){text=text||module.get.placeholderText(),module.debug("Setting placeholder text",text),module.set.text(text),$text.addClass(className.placeholder)},tabbable:function(){module.is.searchSelection()?(module.debug("Added tabindex to searchable dropdown"),$search.val("").attr("tabindex",0),$menu.attr("tabindex",-1)):(module.debug("Added tabindex to dropdown"),$module.attr("tabindex")===undefined&&($module.attr("tabindex",0),$menu.attr("tabindex",-1)))},initialLoad:function(){module.verbose("Setting initial load"),initialLoad=!0},activeItem:function($item){$item.addClass(settings.allowAdditions&&$item.filter(selector.addition).length>0?className.filtered:className.active)},partialSearch:function(text){var length=module.get.query().length;$search.val(text.substr(0,length))},scrollPosition:function($item,forceScroll){var $menu,hasActive,offset,itemOffset,menuOffset,menuScroll,menuHeight,abovePage,belowPage,edgeTolerance=5;$item=$item||module.get.selectedItem(),$menu=$item.closest(selector.menu),hasActive=$item&&$item.length>0,forceScroll=forceScroll!==undefined?forceScroll:!1,$item&&$menu.length>0&&hasActive&&(itemOffset=$item.position().top,$menu.addClass(className.loading),menuScroll=$menu.scrollTop(),menuOffset=$menu.offset().top,itemOffset=$item.offset().top,offset=menuScroll-menuOffset+itemOffset,forceScroll||(menuHeight=$menu.height(),belowPage=offset+edgeTolerance>menuScroll+menuHeight,abovePage=menuScroll>offset-edgeTolerance),module.debug("Scrolling to active item",offset),(forceScroll||abovePage||belowPage)&&$menu.scrollTop(offset),$menu.removeClass(className.loading))},text:function(text){"select"!==settings.action&&("combo"==settings.action?(module.debug("Changing combo button text",text,$combo),settings.preserveHTML?$combo.html(text):$combo.text(text)):(text!==module.get.placeholderText()&&$text.removeClass(className.placeholder),module.debug("Changing text",text,$text),$text.removeClass(className.filtered),settings.preserveHTML?$text.html(text):$text.text(text)))},selectedItem:function($item){var value=module.get.choiceValue($item),searchText=module.get.choiceText($item,!1),text=module.get.choiceText($item,!0);module.debug("Setting user selection to item",$item),module.remove.activeItem(),module.set.partialSearch(searchText),module.set.activeItem($item),module.set.selected(value,$item),module.set.text(text)},selectedLetter:function(letter){var $nextItem,$selectedItem=$item.filter("."+className.selected),alreadySelectedLetter=$selectedItem.length>0&&module.has.firstLetter($selectedItem,letter),$nextValue=!1;alreadySelectedLetter&&($nextItem=$selectedItem.nextAll($item).eq(0),module.has.firstLetter($nextItem,letter)&&($nextValue=$nextItem)),$nextValue||$item.each(function(){return module.has.firstLetter($(this),letter)?($nextValue=$(this),!1):void 0}),$nextValue&&(module.verbose("Scrolling to next value with letter",letter),module.set.scrollPosition($nextValue),$selectedItem.removeClass(className.selected),$nextValue.addClass(className.selected),settings.selectOnKeydown&&module.is.single()&&module.set.selectedItem($nextValue))},direction:function($menu){"auto"==settings.direction?module.is.onScreen($menu)?module.remove.upward($menu):module.set.upward($menu):"upward"==settings.direction&&module.set.upward($menu)},upward:function($menu){var $element=$menu||$module;$element.addClass(className.upward)},value:function(value,text,$selected){var escapedValue=module.escape.value(value),hasInput=$input.length>0,currentValue=(!module.has.value(value),module.get.values()),stringValue=value!==undefined?String(value):value;if(hasInput){if(!settings.allowReselection&&stringValue==currentValue&&(module.verbose("Skipping value update already same value",value,currentValue),!module.is.initialLoad()))return;module.is.single()&&module.has.selectInput()&&module.can.extendSelect()&&(module.debug("Adding user option",value),module.add.optionValue(value)),module.debug("Updating input value",escapedValue,currentValue),internalChange=!0,$input.val(escapedValue),settings.fireOnInit===!1&&module.is.initialLoad()?module.debug("Input native change event ignored on initial load"):module.trigger.change(),internalChange=!1}else module.verbose("Storing value in metadata",escapedValue,$input),escapedValue!==currentValue&&$module.data(metadata.value,stringValue);settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onChange):settings.onChange.call(element,value,text,$selected)},active:function(){$module.addClass(className.active)},multiple:function(){$module.addClass(className.multiple)},visible:function(){$module.addClass(className.visible)},exactly:function(value,$selectedItem){module.debug("Setting selected to exact values"),module.clear(),module.set.selected(value,$selectedItem)},selected:function(value,$selectedItem){var isMultiple=module.is.multiple();$selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value),$selectedItem&&(module.debug("Setting selected menu item to",$selectedItem),module.is.multiple()&&module.remove.searchWidth(),module.is.single()?(module.remove.activeItem(),module.remove.selectedItem()):settings.useLabels&&module.remove.selectedItem(),$selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText),isFiltered=$selected.hasClass(className.filtered),isActive=$selected.hasClass(className.active),isUserValue=$selected.hasClass(className.addition),shouldAnimate=isMultiple&&1==$selectedItem.length;isMultiple?!isActive||isUserValue?(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),settings.useLabels?(module.add.value(selectedValue,selectedText,$selected),module.add.label(selectedValue,selectedText,shouldAnimate),module.set.activeItem($selected),module.filterActive(),module.select.nextAvailable($selectedItem)):(module.add.value(selectedValue,selectedText,$selected),module.set.text(module.add.variables(message.count)),module.set.activeItem($selected))):isFiltered||(module.debug("Selected active value, removing label"),module.remove.selected(selectedValue)):(settings.apiSettings&&settings.saveRemoteData&&module.save.remoteData(selectedText,selectedValue),module.set.text(selectedText),module.set.value(selectedValue,selectedText,$selected),$selected.addClass(className.active).addClass(className.selected))}))}},add:{label:function(value,text,shouldAnimate){var $label,$next=module.is.searchSelection()?$search:$text,escapedValue=module.escape.value(value);return $label=$("<a />").addClass(className.label).attr("data-"+metadata.value,escapedValue).html(templates.label(escapedValue,text)),$label=settings.onLabelCreate.call($label,escapedValue,text),module.has.label(value)?void module.debug("Label already exists, skipping",escapedValue):(settings.label.variation&&$label.addClass(settings.label.variation),void(shouldAnimate===!0?(module.debug("Animating in label",$label),$label.addClass(className.hidden).insertBefore($next).transition(settings.label.transition,settings.label.duration)):(module.debug("Adding selection label",$label),$label.insertBefore($next))))},message:function(message){var $message=$menu.children(selector.message),html=settings.templates.message(module.add.variables(message));$message.length>0?$message.html(html):$message=$("<div/>").html(html).addClass(className.message).appendTo($menu)},optionValue:function(value){var escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=$option.length>0;hasOption||(module.disconnect.selectObserver(),module.is.single()&&(module.verbose("Removing previous user addition"),$input.find("option."+className.addition).remove()),$("<option/>").prop("value",escapedValue).addClass(className.addition).html(value).appendTo($input),module.verbose("Adding user addition as an <option>",value),module.observe.select())},userSuggestion:function(value){var html,$addition=$menu.children(selector.addition),$existingItem=module.get.item(value),alreadyHasValue=$existingItem&&$existingItem.not(selector.addition).length,hasUserSuggestion=$addition.length>0;if(!settings.useLabels||!module.has.maxSelections()){if(""===value||alreadyHasValue)return void $addition.remove();hasUserSuggestion?($addition.data(metadata.value,value).data(metadata.text,value).attr("data-"+metadata.value,value).attr("data-"+metadata.text,value).removeClass(className.filtered),settings.hideAdditions||(html=settings.templates.addition(module.add.variables(message.addResult,value)),$addition.html(html)),module.verbose("Replacing user suggestion with new value",$addition)):($addition=module.create.userChoice(value),$addition.prependTo($menu),module.verbose("Adding item choice to menu corresponding with user choice addition",$addition)),(!settings.hideAdditions||module.is.allFiltered())&&$addition.addClass(className.selected).siblings().removeClass(className.selected),module.refreshItems()}},variables:function(message,term){var count,query,hasCount=-1!==message.search("{count}"),hasMaxCount=-1!==message.search("{maxCount}"),hasTerm=-1!==message.search("{term}");return module.verbose("Adding templated variables to message",message),hasCount&&(count=module.get.selectionCount(),message=message.replace("{count}",count)),hasMaxCount&&(count=module.get.selectionCount(),message=message.replace("{maxCount}",settings.maxSelections)),hasTerm&&(query=term||module.get.query(),message=message.replace("{term}",query)),message},value:function(addedValue,addedText,$selectedItem){var newValue,currentValue=module.get.values();return""===addedValue?void module.debug("Cannot select blank values from multiselect"):($.isArray(currentValue)?(newValue=currentValue.concat([addedValue]),newValue=module.get.uniqueArray(newValue)):newValue=[addedValue],module.has.selectInput()?module.can.extendSelect()&&(module.debug("Adding value to select",addedValue,newValue,$input),module.add.optionValue(addedValue)):(newValue=newValue.join(settings.delimiter),module.debug("Setting hidden input to delimited value",newValue,$input)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("Skipping onadd callback on initial load",settings.onAdd):settings.onAdd.call(element,addedValue,addedText,$selectedItem),module.set.value(newValue,addedValue,addedText,$selectedItem),void module.check.maxSelections())}},remove:{active:function(){$module.removeClass(className.active)},activeLabel:function(){$module.find(selector.label).removeClass(className.active)},empty:function(){$module.removeClass(className.empty)},loading:function(){$module.removeClass(className.loading)},initialLoad:function(){initialLoad=!1},upward:function($menu){var $element=$menu||$module;$element.removeClass(className.upward)},visible:function(){$module.removeClass(className.visible)},activeItem:function(){$item.removeClass(className.active)},filteredItem:function(){settings.useLabels&&module.has.maxSelections()||(settings.useLabels&&module.is.multiple()?$item.not("."+className.active).removeClass(className.filtered):$item.removeClass(className.filtered),module.remove.empty())},optionValue:function(value){var escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=$option.length>0;hasOption&&$option.hasClass(className.addition)&&(selectObserver&&(selectObserver.disconnect(),module.verbose("Temporarily disconnecting mutation observer")),$option.remove(),module.verbose("Removing user addition as an <option>",escapedValue),selectObserver&&selectObserver.observe($input[0],{childList:!0,subtree:!0}))},message:function(){$menu.children(selector.message).remove()},searchWidth:function(){$search.css("width","")},searchTerm:function(){module.verbose("Cleared search term"),$search.val(""),module.set.filtered()},userAddition:function(){$item.filter(selector.addition).remove()},selected:function(value,$selectedItem){return($selectedItem=settings.allowAdditions?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value))?void $selectedItem.each(function(){var $selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText);module.is.multiple()?settings.useLabels?(module.remove.value(selectedValue,selectedText,$selected),module.remove.label(selectedValue)):(module.remove.value(selectedValue,selectedText,$selected),0===module.get.selectionCount()?module.set.placeholderText():module.set.text(module.add.variables(message.count))):module.remove.value(selectedValue,selectedText,$selected),$selected.removeClass(className.filtered).removeClass(className.active),settings.useLabels&&$selected.removeClass(className.selected)}):!1},selectedItem:function(){$item.removeClass(className.selected)},value:function(removedValue,removedText,$removedItem){var newValue,values=module.get.values();module.has.selectInput()?(module.verbose("Input is <select> removing selected option",removedValue),newValue=module.remove.arrayValue(removedValue,values),module.remove.optionValue(removedValue)):(module.verbose("Removing from delimited values",removedValue),newValue=module.remove.arrayValue(removedValue,values),newValue=newValue.join(settings.delimiter)),settings.fireOnInit===!1&&module.is.initialLoad()?module.verbose("No callback on initial load",settings.onRemove):settings.onRemove.call(element,removedValue,removedText,$removedItem),module.set.value(newValue,removedText,$removedItem),module.check.maxSelections()},arrayValue:function(removedValue,values){return $.isArray(values)||(values=[values]),values=$.grep(values,function(value){return removedValue!=value}),module.verbose("Removed value from delimited string",removedValue,values),values},label:function(value){var $labels=$module.find(selector.label),$removedLabel=$labels.filter("[data-"+metadata.value+'="'+module.escape.string(value)+'"]');module.verbose("Removing label",$removedLabel),$removedLabel.remove()},activeLabels:function($activeLabels){$activeLabels=$activeLabels||$module.find(selector.label).filter("."+className.active),module.verbose("Removing active label selections",$activeLabels),module.remove.labels($activeLabels)},labels:function($labels){$labels=$labels||$module.find(selector.label),module.verbose("Removing labels",$labels),$labels.each(function(){var $label=$(this),value=$label.data(metadata.value),stringValue=value!==undefined?String(value):value,isUserValue=module.is.userValue(stringValue);return settings.onLabelRemove.call($label,value)===!1?void module.debug("Label remove callback cancelled removal"):(module.remove.message(),void(isUserValue?(module.remove.value(stringValue),module.remove.label(stringValue)):module.remove.selected(stringValue)))})},tabbable:function(){module.is.searchSelection()?(module.debug("Searchable dropdown initialized"),$search.removeAttr("tabindex"),$menu.removeAttr("tabindex")):(module.debug("Simple selection dropdown initialized"),$module.removeAttr("tabindex"),$menu.removeAttr("tabindex"))}},has:{menuSearch:function(){return module.has.search()&&$search.closest($menu).length>0},search:function(){return $search.length>0},sizer:function(){return $sizer.length>0},selectInput:function(){return $input.is("select")},minCharacters:function(searchTerm){return settings.minCharacters?(searchTerm=String(searchTerm!==undefined?searchTerm:module.get.query()),searchTerm.length>=settings.minCharacters):!0},firstLetter:function($item,letter){var text,firstLetter;return $item&&0!==$item.length&&"string"==typeof letter?(text=module.get.choiceText($item,!1),letter=letter.toLowerCase(),firstLetter=String(text).charAt(0).toLowerCase(),letter==firstLetter):!1},input:function(){return $input.length>0},items:function(){return $item.length>0},menu:function(){return $menu.length>0},message:function(){return 0!==$menu.children(selector.message).length},label:function(value){var escapedValue=module.escape.value(value),$labels=$module.find(selector.label);return $labels.filter("[data-"+metadata.value+'="'+module.escape.string(escapedValue)+'"]').length>0},maxSelections:function(){return settings.maxSelections&&module.get.selectionCount()>=settings.maxSelections},allResultsFiltered:function(){var $normalResults=$item.not(selector.addition);return $normalResults.filter(selector.unselectable).length===$normalResults.length},userSuggestion:function(){return $menu.children(selector.addition).length>0},query:function(){return""!==module.get.query()},value:function(value){var values=module.get.values(),hasValue=$.isArray(values)?values&&-1!==$.inArray(value,values):values==value;return hasValue?!0:!1}},is:{active:function(){return $module.hasClass(className.active)},bubbledLabelClick:function(event){return $(event.target).is("select, input")&&$module.closest("label").length>0},bubbledIconClick:function(event){return $(event.target).closest($icon).length>0},alreadySetup:function(){return $module.is("select")&&$module.parent(selector.dropdown).length>0&&0===$module.prev().length},animating:function($subMenu){return $subMenu?$subMenu.transition&&$subMenu.transition("is animating"):$menu.transition&&$menu.transition("is animating")},disabled:function(){return $module.hasClass(className.disabled)},focused:function(){return document.activeElement===$module[0]},focusedOnSearch:function(){return document.activeElement===$search[0]},allFiltered:function(){return(module.is.multiple()||module.has.search())&&!(0==settings.hideAdditions&&module.has.userSuggestion())&&!module.has.message()&&module.has.allResultsFiltered()},hidden:function($subMenu){return!module.is.visible($subMenu)},initialLoad:function(){return initialLoad},onScreen:function($subMenu){var calculations,$currentMenu=$subMenu||$menu,canOpenDownward=!0,onScreen={};return $currentMenu.addClass(className.loading),calculations={context:{scrollTop:$context.scrollTop(),height:$context.outerHeight()},menu:{offset:$currentMenu.offset(),height:$currentMenu.outerHeight()}},module.is.verticallyScrollableContext()&&(calculations.menu.offset.top+=calculations.context.scrollTop),onScreen={above:calculations.context.scrollTop<=calculations.menu.offset.top-calculations.menu.height,below:calculations.context.scrollTop+calculations.context.height>=calculations.menu.offset.top+calculations.menu.height},onScreen.below?(module.verbose("Dropdown can fit in context downward",onScreen),canOpenDownward=!0):onScreen.below||onScreen.above?(module.verbose("Dropdown cannot fit below, opening upward",onScreen),canOpenDownward=!1):(module.verbose("Dropdown cannot fit in either direction, favoring downward",onScreen),canOpenDownward=!0),$currentMenu.removeClass(className.loading),canOpenDownward},inObject:function(needle,object){var found=!1;return $.each(object,function(index,property){return property==needle?(found=!0,!0):void 0}),found},multiple:function(){return $module.hasClass(className.multiple)},remote:function(){return settings.apiSettings&&module.can.useAPI()},single:function(){return!module.is.multiple()},selectMutation:function(mutations){var selectChanged=!1;return $.each(mutations,function(index,mutation){return mutation.target&&$(mutation.target).is("select")?(selectChanged=!0,!0):void 0}),selectChanged},search:function(){return $module.hasClass(className.search)},searchSelection:function(){return module.has.search()&&1===$search.parent(selector.dropdown).length},selection:function(){return $module.hasClass(className.selection)},userValue:function(value){return-1!==$.inArray(value,module.get.userValues())},upward:function($menu){var $element=$menu||$module;return $element.hasClass(className.upward)},visible:function($subMenu){return $subMenu?$subMenu.hasClass(className.visible):$menu.hasClass(className.visible)},verticallyScrollableContext:function(){var overflowY=$context.get(0)!==window?$context.css("overflow-y"):!1;return"auto"==overflowY||"scroll"==overflowY}},can:{activate:function($item){return settings.useLabels?!0:module.has.maxSelections()?module.has.maxSelections()&&$item.hasClass(className.active)?!0:!1:!0},click:function(){return hasTouch||"click"==settings.on},extendSelect:function(){return settings.allowAdditions||settings.apiSettings},show:function(){return!module.is.disabled()&&(module.has.items()||module.has.message())},useAPI:function(){return $.fn.api!==undefined}},animate:{show:function(callback,$subMenu){var transition,$currentMenu=$subMenu||$menu,start=$subMenu?function(){}:function(){module.hideSubMenus(),module.hideOthers(),module.set.active()};callback=$.isFunction(callback)?callback:function(){},module.verbose("Doing menu show animation",$currentMenu),module.set.direction($subMenu),transition=module.get.transition($subMenu),module.is.selection()&&module.set.scrollPosition(module.get.selectedItem(),!0),(module.is.hidden($currentMenu)||module.is.animating($currentMenu))&&("none"==transition?(start(),$currentMenu.transition("show"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:!0,onStart:start,onComplete:function(){callback.call(element)}}):module.error(error.noTransition,transition))},hide:function(callback,$subMenu){var $currentMenu=$subMenu||$menu,start=($subMenu?.9*settings.duration:settings.duration,$subMenu?function(){}:function(){module.can.click()&&module.unbind.intent(),module.remove.active()}),transition=module.get.transition($subMenu);callback=$.isFunction(callback)?callback:function(){},(module.is.visible($currentMenu)||module.is.animating($currentMenu))&&(module.verbose("Doing menu hide animation",$currentMenu),"none"==transition?(start(),$currentMenu.transition("hide"),callback.call(element)):$.fn.transition!==undefined&&$module.transition("is supported")?$currentMenu.transition({animation:transition+" out",duration:settings.duration,debug:settings.debug,verbose:settings.verbose,queue:!0,onStart:start,onComplete:function(){"auto"==settings.direction&&module.remove.upward($subMenu),callback.call(element)}}):module.error(error.transition))}},hideAndClear:function(){module.remove.searchTerm(),module.has.maxSelections()||(module.has.search()?module.hide(function(){module.remove.filteredItem()}):module.hide())},delay:{show:function(){module.verbose("Delaying show event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.show,settings.delay.show)},hide:function(){module.verbose("Delaying hide event to ensure user intent"),clearTimeout(module.timer),module.timer=setTimeout(module.hide,settings.delay.hide)}},escape:{value:function(value){var multipleValues=$.isArray(value),stringValue="string"==typeof value,isUnparsable=!stringValue&&!multipleValues,hasQuotes=stringValue&&-1!==value.search(regExp.quote),values=[];return isUnparsable||!hasQuotes?value:(module.debug("Encoding quote values for use in select",value),multipleValues?($.each(value,function(index,value){values.push(value.replace(regExp.quote,"&quot;"))}),values):value.replace(regExp.quote,"&quot;"))},string:function(text){return text=String(text),text.replace(regExp.escape,"\\$&")}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:$allModules},$.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:window,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(){},onAdd:function(){},onRemove:function(){},onLabelSelect:function(){},onLabelCreate:function(){return $(this)},onLabelRemove:function(){return!0},onNoResults:function(){return!0},onShow:function(){},
onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},$.fn.dropdown.settings.templates={dropdown:function(select){var placeholder=select.placeholder||!1,html=(select.values||{},"");return html+='<i class="dropdown icon"></i>',html+=select.placeholder?'<div class="default text">'+placeholder+"</div>":'<div class="text"></div>',html+='<div class="menu">',$.each(select.values,function(index,option){html+=option.disabled?'<div class="disabled item" data-value="'+option.value+'">'+option.name+"</div>":'<div class="item" data-value="'+option.value+'">'+option.name+"</div>"}),html+="</div>"},menu:function(response,fields){var values=response[fields.values]||{},html="";return $.each(values,function(index,option){var maybeText=option[fields.text]?'data-text="'+option[fields.text]+'"':"",maybeDisabled=option[fields.disabled]?"disabled ":"";html+='<div class="'+maybeDisabled+'item" data-value="'+option[fields.value]+'"'+maybeText+">",html+=option[fields.name],html+="</div>"}),html},label:function(value,text){return text+'<i class="delete icon"></i>'},message:function(message){return message},addition:function(choice){return choice}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.embed=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.embed.settings,parameters):$.extend({},$.fn.embed.settings),selector=settings.selector,className=settings.className,sources=settings.sources,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,templates=settings.templates,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=($(window),$(this)),$placeholder=$module.find(selector.placeholder),$icon=$module.find(selector.icon),$embed=$module.find(selector.embed),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing embed"),module.determine.autoplay(),module.create(),module.bind.events(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance of embed"),module.reset(),$module.removeData(moduleNamespace).off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$placeholder=$module.find(selector.placeholder),$icon=$module.find(selector.icon),$embed=$module.find(selector.embed)},bind:{events:function(){module.has.placeholder()&&(module.debug("Adding placeholder events"),$module.on("click"+eventNamespace,selector.placeholder,module.createAndShow).on("click"+eventNamespace,selector.icon,module.createAndShow))}},create:function(){var placeholder=module.get.placeholder();placeholder?module.createPlaceholder():module.createAndShow()},createPlaceholder:function(placeholder){{var icon=module.get.icon(),url=module.get.url();module.generate.embed(url)}placeholder=placeholder||module.get.placeholder(),$module.html(templates.placeholder(placeholder,icon)),module.debug("Creating placeholder for embed",placeholder,icon)},createEmbed:function(url){module.refresh(),url=url||module.get.url(),$embed=$("<div/>").addClass(className.embed).html(module.generate.embed(url)).appendTo($module),settings.onCreate.call(element,url),module.debug("Creating embed object",$embed)},changeEmbed:function(url){$embed.html(module.generate.embed(url))},createAndShow:function(){module.createEmbed(),module.show()},change:function(source,id,url){module.debug("Changing video to ",source,id,url),$module.data(metadata.source,source).data(metadata.id,id),url?$module.data(metadata.url,url):$module.removeData(metadata.url),module.has.embed()?module.changeEmbed():module.create()},reset:function(){module.debug("Clearing embed and showing placeholder"),module.remove.active(),module.remove.embed(),module.showPlaceholder(),settings.onReset.call(element)},show:function(){module.debug("Showing embed"),module.set.active(),settings.onDisplay.call(element)},hide:function(){module.debug("Hiding embed"),module.showPlaceholder()},showPlaceholder:function(){module.debug("Showing placeholder image"),module.remove.active(),settings.onPlaceholderDisplay.call(element)},get:{id:function(){return settings.id||$module.data(metadata.id)},placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder)},icon:function(){return settings.icon?settings.icon:$module.data(metadata.icon)!==undefined?$module.data(metadata.icon):module.determine.icon()},source:function(){return settings.source?settings.source:$module.data(metadata.source)!==undefined?$module.data(metadata.source):module.determine.source()},type:function(){var source=module.get.source();return sources[source]!==undefined?sources[source].type:!1},url:function(){return settings.url?settings.url:$module.data(metadata.url)!==undefined?$module.data(metadata.url):module.determine.url()}},determine:{autoplay:function(){module.should.autoplay()&&(settings.autoplay=!0)},source:function(url){var matchedSource=!1;return url=url||module.get.url(),url&&$.each(sources,function(name,source){return-1!==url.search(source.domain)?(matchedSource=name,!1):void 0}),matchedSource},icon:function(){var source=module.get.source();return sources[source]!==undefined?sources[source].icon:!1},url:function(){var url,id=settings.id||$module.data(metadata.id),source=settings.source||$module.data(metadata.source);return url=sources[source]!==undefined?sources[source].url.replace("{id}",id):!1,url&&$module.data(metadata.url,url),url}},set:{active:function(){$module.addClass(className.active)}},remove:{active:function(){$module.removeClass(className.active)},embed:function(){$embed.empty()}},encode:{parameters:function(parameters){var index,urlString=[];for(index in parameters)urlString.push(encodeURIComponent(index)+"="+encodeURIComponent(parameters[index]));return urlString.join("&amp;")}},generate:{embed:function(url){module.debug("Generating embed html");var html,parameters,source=module.get.source();return url=module.get.url(url),url?(parameters=module.generate.parameters(source),html=templates.iframe(url,parameters)):module.error(error.noURL,$module),html},parameters:function(source,extraParameters){var parameters=sources[source]&&sources[source].parameters!==undefined?sources[source].parameters(settings):{};return extraParameters=extraParameters||settings.parameters,extraParameters&&(parameters=$.extend({},parameters,extraParameters)),parameters=settings.onEmbed(parameters),module.encode.parameters(parameters)}},has:{embed:function(){return $embed.length>0},placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder)}},should:{autoplay:function(){return"auto"===settings.autoplay?settings.placeholder||$module.data(metadata.placeholder)!==undefined:settings.autoplay}},is:{video:function(){return"video"==module.get.type()}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(){},onEmbed:function(parameters){return parameters},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(settings){return{autohide:!settings.brandedUI,autoplay:settings.autoplay,color:settings.color||undefined,hq:settings.hd,jsapi:settings.api,modestbranding:!settings.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(settings){return{api:settings.api,autoplay:settings.autoplay,byline:settings.brandedUI,color:settings.color||undefined,portrait:settings.brandedUI,title:settings.brandedUI}}}},templates:{iframe:function(url,parameters){var src=url;return parameters&&(src+="?"+parameters),'<iframe src="'+src+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(image,icon){var html="";return icon&&(html+='<i class="'+icon+' icon"></i>'),image&&(html+='<img class="placeholder" src="'+image+'">'),html}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.modal=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$body=$("body"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $allModals,$otherModals,$focusedElement,$dimmable,$dimmer,elementEventNamespace,id,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.modal.settings,parameters):$.extend({},$.fn.modal.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$close=$module.find(selector.close),element=this,instance=$module.data(moduleNamespace),ignoreRepeatedEvents=!1;module={initialize:function(){module.verbose("Initializing dimmer",$context),module.create.id(),module.create.dimmer(),module.refreshModals(),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of modal"),instance=module,$module.data(moduleNamespace,instance)},create:{dimmer:function(){var defaultSettings={debug:settings.debug,dimmerName:"modals",duration:{show:settings.duration,hide:settings.duration}},dimmerSettings=$.extend(!0,defaultSettings,settings.dimmerSettings);return settings.inverted&&(dimmerSettings.variation=dimmerSettings.variation!==undefined?dimmerSettings.variation+" inverted":"inverted"),$.fn.dimmer===undefined?void module.error(error.dimmer):(module.debug("Creating dimmer with settings",dimmerSettings),$dimmable=$context.dimmer(dimmerSettings),settings.detachable?(module.verbose("Modal is detachable, moving content into dimmer"),$dimmable.dimmer("add content",$module)):module.set.undetached(),settings.blurring&&$dimmable.addClass(className.blurring),void($dimmer=$dimmable.dimmer("get dimmer")))},id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementEventNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous modal"),$module.removeData(moduleNamespace).off(eventNamespace),$window.off(elementEventNamespace),$dimmer.off(elementEventNamespace),$close.off(eventNamespace),$context.dimmer("destroy")},observeChanges:function(){"MutationObserver"in window&&(observer=new MutationObserver(function(){module.debug("DOM tree modified, refreshing"),module.refresh()}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},refresh:function(){module.remove.scrolling(),module.cacheSizes(),module.set.screenHeight(),module.set.type(),module.set.position()},refreshModals:function(){$otherModals=$module.siblings(selector.modal),$allModals=$otherModals.add($module)},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching modal events to element",selector,event),$toggle.off(eventNamespace).on("click"+eventNamespace,event)):module.error(error.notFound,selector)},bind:{events:function(){module.verbose("Attaching events"),$module.on("click"+eventNamespace,selector.close,module.event.close).on("click"+eventNamespace,selector.approve,module.event.approve).on("click"+eventNamespace,selector.deny,module.event.deny),$window.on("resize"+elementEventNamespace,module.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return ignoreRepeatedEvents||settings.onApprove.call(element,$(this))===!1?void module.verbose("Approve callback returned false cancelling hide"):(ignoreRepeatedEvents=!0,void module.hide(function(){ignoreRepeatedEvents=!1}))},deny:function(){return ignoreRepeatedEvents||settings.onDeny.call(element,$(this))===!1?void module.verbose("Deny callback returned false cancelling hide"):(ignoreRepeatedEvents=!0,void module.hide(function(){ignoreRepeatedEvents=!1}))},close:function(){module.hide()},click:function(event){var $target=$(event.target),isInModal=$target.closest(selector.modal).length>0,isInDOM=$.contains(document.documentElement,event.target);!isInModal&&isInDOM&&(module.debug("Dimmer clicked, hiding all modals"),module.is.active()&&(module.remove.clickaway(),settings.allowMultiple?module.hide():module.hideAll()))},debounce:function(method,delay){clearTimeout(module.timer),module.timer=setTimeout(method,delay)},keyboard:function(event){var keyCode=event.which,escapeKey=27;keyCode==escapeKey&&(settings.closable?(module.debug("Escape key pressed hiding modal"),module.hide()):module.debug("Escape key pressed, but closable is set to false"),event.preventDefault())},resize:function(){$dimmable.dimmer("is active")&&requestAnimationFrame(module.refresh)}},toggle:function(){module.is.active()||module.is.animating()?module.hide():module.show()},show:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.showModal(callback)},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},module.refreshModals(),module.hideModal(callback)},showModal:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.animating()||!module.is.active()?(module.showDimmer(),module.cacheSizes(),module.set.position(),module.set.screenHeight(),module.set.type(),module.set.clickaway(),!settings.allowMultiple&&module.others.active()?module.hideOthers(module.showModal):(settings.onShow.call(element),settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.debug("Showing modal with css animations"),$module.transition({debug:settings.debug,animation:settings.transition+" in",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onComplete:function(){settings.onVisible.apply(element),settings.keyboardShortcuts&&module.add.keyboardShortcuts(),module.save.focus(),module.set.active(),settings.autofocus&&module.set.autofocus(),callback()}})):module.error(error.noTransition))):module.debug("Modal is already visible")},hideModal:function(callback,keepDimmed){return callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding modal"),settings.onHide.call(element,$(this))===!1?void module.verbose("Hide callback returned false cancelling hide"):void((module.is.animating()||module.is.active())&&(settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.remove.active(),$module.transition({debug:settings.debug,animation:settings.transition+" out",queue:settings.queue,duration:settings.duration,useFailSafe:!0,onStart:function(){module.others.active()||keepDimmed||module.hideDimmer(),settings.keyboardShortcuts&&module.remove.keyboardShortcuts()},onComplete:function(){settings.onHidden.call(element),module.restore.focus(),callback()}})):module.error(error.noTransition)))},showDimmer:function(){$dimmable.dimmer("is animating")||!$dimmable.dimmer("is active")?(module.debug("Showing dimmer"),$dimmable.dimmer("show")):module.debug("Dimmer already visible")},hideDimmer:function(){return $dimmable.dimmer("is animating")||$dimmable.dimmer("is active")?void $dimmable.dimmer("hide",function(){module.remove.clickaway(),module.remove.screenHeight()}):void module.debug("Dimmer is not visible cannot hide")},hideAll:function(callback){var $visibleModals=$allModals.filter("."+className.active+", ."+className.animating);callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding all visible modals"),module.hideDimmer(),$visibleModals.modal("hide modal",callback))},hideOthers:function(callback){var $visibleModals=$otherModals.filter("."+className.active+", ."+className.animating);callback=$.isFunction(callback)?callback:function(){},$visibleModals.length>0&&(module.debug("Hiding other modals",$otherModals),$visibleModals.modal("hide modal",callback,!0))},others:{active:function(){return $otherModals.filter("."+className.active).length>0},animating:function(){return $otherModals.filter("."+className.animating).length>0}},add:{keyboardShortcuts:function(){module.verbose("Adding keyboard shortcuts"),$document.on("keyup"+eventNamespace,module.event.keyboard)}},save:{focus:function(){$focusedElement=$(document.activeElement).blur()}},restore:{focus:function(){$focusedElement&&$focusedElement.length>0&&$focusedElement.focus()}},remove:{active:function(){$module.removeClass(className.active)},clickaway:function(){settings.closable&&$dimmer.off("click"+elementEventNamespace)},bodyStyle:function(){""===$body.attr("style")&&(module.verbose("Removing style attribute"),$body.removeAttr("style"))},screenHeight:function(){module.debug("Removing page height"),$body.css("height","")},keyboardShortcuts:function(){module.verbose("Removing keyboard shortcuts"),$document.off("keyup"+eventNamespace)},scrolling:function(){$dimmable.removeClass(className.scrolling),$module.removeClass(className.scrolling)}},cacheSizes:function(){var modalHeight=$module.outerHeight();(module.cache===undefined||0!==modalHeight)&&(module.cache={pageHeight:$(document).outerHeight(),height:modalHeight+settings.offset,contextHeight:"body"==settings.context?$(window).height():$dimmable.height()}),module.debug("Caching modal and container sizes",module.cache)},can:{fit:function(){return module.cache.height+2*settings.padding<module.cache.contextHeight}},is:{active:function(){return $module.hasClass(className.active)},animating:function(){return $module.transition("is supported")?$module.transition("is animating"):$module.is(":visible")},scrolling:function(){return $dimmable.hasClass(className.scrolling)},modernBrowser:function(){return!(window.ActiveXObject||"ActiveXObject"in window)}},set:{autofocus:function(){var $inputs=$module.find("[tabindex], :input").filter(":visible"),$autofocus=$inputs.filter("[autofocus]"),$input=$autofocus.length>0?$autofocus.first():$inputs.first();$input.length>0&&$input.focus()},clickaway:function(){settings.closable&&$dimmer.on("click"+elementEventNamespace,module.event.click)},screenHeight:function(){module.can.fit()?$body.css("height",""):(module.debug("Modal is taller than page content, resizing page height"),$body.css("height",module.cache.height+2*settings.padding))},active:function(){$module.addClass(className.active)},scrolling:function(){$dimmable.addClass(className.scrolling),$module.addClass(className.scrolling)},type:function(){module.can.fit()?(module.verbose("Modal fits on screen"),module.others.active()||module.others.animating()||module.remove.scrolling()):(module.verbose("Modal cannot fit on screen setting to scrolling"),module.set.scrolling())},position:function(){module.verbose("Centering modal on page",module.cache),$module.css(module.can.fit()?{top:"",marginTop:-(module.cache.height/2)}:{marginTop:"",top:$document.scrollTop()})},undetached:function(){$dimmable.addClass(className.undetached)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.nag=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){{var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.nag.settings,parameters):$.extend({},$.fn.nag.settings),selector=(settings.className,settings.selector),error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$context=($module.find(selector.close),$(settings.context?settings.context:"body")),element=this,instance=$module.data(moduleNamespace);window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)}}module={initialize:function(){module.verbose("Initializing element"),$module.on("click"+eventNamespace,selector.close,module.dismiss).data(moduleNamespace,module),settings.detachable&&$module.parent()[0]!==$context[0]&&$module.detach().prependTo($context),settings.displayTime>0&&setTimeout(module.hide,settings.displayTime),module.show()},destroy:function(){module.verbose("Destroying instance"),$module.removeData(moduleNamespace).off(eventNamespace)},show:function(){module.should.show()&&!$module.is(":visible")&&(module.debug("Showing nag",settings.animation.show),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideDown(settings.duration,settings.easing))},hide:function(){module.debug("Showing nag",settings.animation.hide),"fade"==settings.animation.show?$module.fadeIn(settings.duration,settings.easing):$module.slideUp(settings.duration,settings.easing);

},onHide:function(){module.debug("Removing nag",settings.animation.hide),$module.remove(),settings.onHide&&settings.onHide()},dismiss:function(event){settings.storageMethod&&module.storage.set(settings.key,settings.value),module.hide(),event.stopImmediatePropagation(),event.preventDefault()},should:{show:function(){return settings.persist?(module.debug("Persistent nag is set, can show nag"),!0):module.storage.get(settings.key)!=settings.value.toString()?(module.debug("Stored value is not set, can show nag",module.storage.get(settings.key)),!0):(module.debug("Stored value is set, cannot show nag",module.storage.get(settings.key)),!1)}},get:{storageOptions:function(){var options={};return settings.expires&&(options.expires=settings.expires),settings.domain&&(options.domain=settings.domain),settings.path&&(options.path=settings.path),options}},clear:function(){module.storage.remove(settings.key)},storage:{set:function(key,value){var options=module.get.storageOptions();if("localstorage"==settings.storageMethod&&window.localStorage!==undefined)window.localStorage.setItem(key,value),module.debug("Value stored using local storage",key,value);else if("sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined)window.sessionStorage.setItem(key,value),module.debug("Value stored using session storage",key,value);else{if($.cookie===undefined)return void module.error(error.noCookieStorage);$.cookie(key,value,options),module.debug("Value stored using cookie",key,value,options)}},get:function(key){var storedValue;return"localstorage"==settings.storageMethod&&window.localStorage!==undefined?storedValue=window.localStorage.getItem(key):"sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined?storedValue=window.sessionStorage.getItem(key):$.cookie!==undefined?storedValue=$.cookie(key):module.error(error.noCookieStorage),("undefined"==storedValue||"null"==storedValue||storedValue===undefined||null===storedValue)&&(storedValue=undefined),storedValue},remove:function(key){var options=module.get.storageOptions();"localstorage"==settings.storageMethod&&window.localStorage!==undefined?window.localStorage.removeItem(key):"sessionstorage"==settings.storageMethod&&window.sessionStorage!==undefined?window.sessionStorage.removeItem(key):$.cookie!==undefined?$.removeCookie(key,options):module.error(error.noStorage)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}})}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.popup=function(parameters){var returnedValue,$allModules=$(this),$document=$(document),$window=$(window),$body=$("body"),moduleSelector=$allModules.selector||"",hasTouch=!0,time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $popup,$offsetParent,documentObserver,elementNamespace,id,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.popup.settings,parameters):$.extend({},$.fn.popup.settings),selector=settings.selector,className=settings.className,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,eventNamespace="."+settings.namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$scrollContext=$(settings.scrollContext),$boundary=$(settings.boundary),$target=settings.target?$(settings.target):$module,searchDepth=0,triedPositions=!1,openedWithTouch=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing",$module),module.createID(),module.bind.events(),!module.exists()&&settings.preserve&&module.create(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance",module),instance=module,$module.data(moduleNamespace,instance)},observeChanges:function(){"MutationObserver"in window&&(documentObserver=new MutationObserver(module.event.documentChanged),documentObserver.observe(document,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",documentObserver))},refresh:function(){settings.popup?$popup=$(settings.popup).eq(0):settings.inline&&($popup=$target.nextAll(selector.popup).eq(0),settings.popup=$popup),settings.popup?($popup.addClass(className.loading),$offsetParent=module.get.offsetParent(),$popup.removeClass(className.loading),settings.movePopup&&module.has.popup()&&module.get.offsetParent($popup)[0]!==$offsetParent[0]&&(module.debug("Moving popup to the same offset parent as activating element"),$popup.detach().appendTo($offsetParent))):$offsetParent=settings.inline?module.get.offsetParent($target):module.has.popup()?module.get.offsetParent($popup):$body,$offsetParent.is("html")&&$offsetParent[0]!==$body[0]&&(module.debug("Setting page as offset parent"),$offsetParent=$body),module.get.variation()&&module.set.variation()},reposition:function(){module.refresh(),module.set.position()},destroy:function(){module.debug("Destroying previous module"),documentObserver&&documentObserver.disconnect(),$popup&&!settings.preserve&&module.removePopup(),clearTimeout(module.hideTimer),clearTimeout(module.showTimer),module.unbind.close(),module.unbind.events(),$module.removeData(moduleNamespace)},event:{start:function(){var delay=$.isPlainObject(settings.delay)?settings.delay.show:settings.delay;clearTimeout(module.hideTimer),openedWithTouch||(module.showTimer=setTimeout(module.show,delay))},end:function(){var delay=$.isPlainObject(settings.delay)?settings.delay.hide:settings.delay;clearTimeout(module.showTimer),module.hideTimer=setTimeout(module.hide,delay)},touchstart:function(){openedWithTouch=!0,module.show()},resize:function(){module.is.visible()&&module.set.position()},documentChanged:function(mutations){[].forEach.call(mutations,function(mutation){mutation.removedNodes&&[].forEach.call(mutation.removedNodes,function(node){(node==element||$(node).find(element).length>0)&&(module.debug("Element removed from DOM, tearing down events"),module.destroy())})})},hideGracefully:function(event){var $target=$(event.target),isInDOM=$.contains(document.documentElement,event.target),inPopup=$target.closest(selector.popup).length>0;event&&!inPopup&&isInDOM?(module.debug("Click occurred outside popup hiding popup"),module.hide()):module.debug("Click was inside popup, keeping popup open")}},create:function(){var html=module.get.html(),title=module.get.title(),content=module.get.content();html||content||title?(module.debug("Creating pop-up html"),html||(html=settings.templates.popup({title:title,content:content})),$popup=$("<div/>").addClass(className.popup).data(metadata.activator,$module).html(html),settings.inline?(module.verbose("Inserting popup element inline",$popup),$popup.insertAfter($module)):(module.verbose("Appending popup element to body",$popup),$popup.appendTo($context)),module.refresh(),module.set.variation(),settings.hoverable&&module.bind.popup(),settings.onCreate.call($popup,element)):0!==$target.next(selector.popup).length?(module.verbose("Pre-existing popup found"),settings.inline=!0,settings.popup=$target.next(selector.popup).data(metadata.activator,$module),module.refresh(),settings.hoverable&&module.bind.popup()):settings.popup?($(settings.popup).data(metadata.activator,$module),module.verbose("Used popup specified in settings"),module.refresh(),settings.hoverable&&module.bind.popup()):module.debug("No content specified skipping display",element)},createID:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)},toggle:function(){module.debug("Toggling pop-up"),module.is.hidden()?(module.debug("Popup is hidden, showing pop-up"),module.unbind.close(),module.show()):(module.debug("Popup is visible, hiding pop-up"),module.hide())},show:function(callback){if(callback=callback||function(){},module.debug("Showing pop-up",settings.transition),module.is.hidden()&&(!module.is.active()||!module.is.dropdown())){if(module.exists()||module.create(),settings.onShow.call($popup,element)===!1)return void module.debug("onShow callback returned false, cancelling popup animation");settings.preserve||settings.popup||module.refresh(),$popup&&module.set.position()&&(module.save.conditions(),settings.exclusive&&module.hideAll(),module.animate.show(callback))}},hide:function(callback){if(callback=callback||function(){},module.is.visible()||module.is.animating()){if(settings.onHide.call($popup,element)===!1)return void module.debug("onHide callback returned false, cancelling popup animation");module.remove.visible(),module.unbind.close(),module.restore.conditions(),module.animate.hide(callback)}},hideAll:function(){$(selector.popup).filter("."+className.visible).each(function(){$(this).data(metadata.activator).popup("hide")})},exists:function(){return $popup?settings.inline||settings.popup?module.has.popup():$popup.closest($context).length>=1?!0:!1:!1},removePopup:function(){module.has.popup()&&!settings.popup&&(module.debug("Removing popup",$popup),$popup.remove(),$popup=undefined,settings.onRemove.call($popup,element))},save:{conditions:function(){module.cache={title:$module.attr("title")},module.cache.title&&$module.removeAttr("title"),module.verbose("Saving original attributes",module.cache.title)}},restore:{conditions:function(){return module.cache&&module.cache.title&&($module.attr("title",module.cache.title),module.verbose("Restoring original attributes",module.cache.title)),!0}},supports:{svg:function(){return typeof SVGGraphicsElement===undefined}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){},settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?(module.set.visible(),$popup.transition({animation:settings.transition+" in",queue:!1,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){module.bind.close(),callback.call($popup,element),settings.onVisible.call($popup,element)}})):module.error(error.noTransition)},hide:function(callback){return callback=$.isFunction(callback)?callback:function(){},module.debug("Hiding pop-up"),settings.onHide.call($popup,element)===!1?void module.debug("onHide callback returned false, cancelling popup animation"):void(settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")?$popup.transition({animation:settings.transition+" out",queue:!1,duration:settings.duration,debug:settings.debug,verbose:settings.verbose,onComplete:function(){module.reset(),callback.call($popup,element),settings.onHidden.call($popup,element)}}):module.error(error.noTransition))}},change:{content:function(html){$popup.html(html)}},get:{html:function(){return $module.removeData(metadata.html),$module.data(metadata.html)||settings.html},title:function(){return $module.removeData(metadata.title),$module.data(metadata.title)||settings.title},content:function(){return $module.removeData(metadata.content),$module.data(metadata.content)||$module.attr("title")||settings.content},variation:function(){return $module.removeData(metadata.variation),$module.data(metadata.variation)||settings.variation},popup:function(){return $popup},popupOffset:function(){return $popup.offset()},calculations:function(){var screen,targetElement=$target[0],isWindow=$boundary[0]==window,targetPosition=settings.inline||settings.popup&&settings.movePopup?$target.position():$target.offset(),screenPosition=isWindow?{top:0,left:0}:$boundary.offset(),calculations={},scroll=isWindow?{top:$window.scrollTop(),left:$window.scrollLeft()}:{top:0,left:0};return calculations={target:{element:$target[0],width:$target.outerWidth(),height:$target.outerHeight(),top:targetPosition.top,left:targetPosition.left,margin:{}},popup:{width:$popup.outerWidth(),height:$popup.outerHeight()},parent:{width:$offsetParent.outerWidth(),height:$offsetParent.outerHeight()},screen:{top:screenPosition.top,left:screenPosition.left,scroll:{top:scroll.top,left:scroll.left},width:$boundary.width(),height:$boundary.height()}},settings.setFluidWidth&&module.is.fluid()&&(calculations.container={width:$popup.parent().outerWidth()},calculations.popup.width=calculations.container.width),calculations.target.margin.top=settings.inline?parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-top"),10):0,calculations.target.margin.left=settings.inline?module.is.rtl()?parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-right"),10):parseInt(window.getComputedStyle(targetElement).getPropertyValue("margin-left"),10):0,screen=calculations.screen,calculations.boundary={top:screen.top+screen.scroll.top,bottom:screen.top+screen.scroll.top+screen.height,left:screen.left+screen.scroll.left,right:screen.left+screen.scroll.left+screen.width},calculations},id:function(){return id},startEvent:function(){return"hover"==settings.on?"mouseenter":"focus"==settings.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==settings.on?"mouseleave":"focus"==settings.on?"blur":!1},distanceFromBoundary:function(offset,calculations){var popup,boundary,distanceFromBoundary={};return calculations=calculations||module.get.calculations(),popup=calculations.popup,boundary=calculations.boundary,offset&&(distanceFromBoundary={top:offset.top-boundary.top,left:offset.left-boundary.left,right:boundary.right-(offset.left+popup.width),bottom:boundary.bottom-(offset.top+popup.height)},module.verbose("Distance from boundaries determined",offset,distanceFromBoundary)),distanceFromBoundary},offsetParent:function($target){var element=$target!==undefined?$target[0]:$module[0],parentNode=element.parentNode,$node=$(parentNode);if(parentNode)for(var is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");parentNode&&!isHTML&&isStatic&&is2D;)parentNode=parentNode.parentNode,$node=$(parentNode),is2D="none"===$node.css("transform"),isStatic="static"===$node.css("position"),isHTML=$node.is("html");return $node&&$node.length>0?$node:$()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(position){var positions=position.split(" "),verticalPosition=positions[0],horizontalPosition=positions[1],opposite={top:"bottom",bottom:"top",left:"right",right:"left"},adjacent={left:"center",center:"right",right:"left"},backup={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},adjacentsAvailable="top"==verticalPosition||"bottom"==verticalPosition,oppositeTried=!1,adjacentTried=!1,nextPosition=!1;return triedPositions||(module.verbose("All available positions available"),triedPositions=module.get.positions()),module.debug("Recording last position tried",position),triedPositions[position]=!0,"opposite"===settings.prefer&&(nextPosition=[opposite[verticalPosition],horizontalPosition],nextPosition=nextPosition.join(" "),oppositeTried=triedPositions[nextPosition]===!0,module.debug("Trying opposite strategy",nextPosition)),"adjacent"===settings.prefer&&adjacentsAvailable&&(nextPosition=[verticalPosition,adjacent[horizontalPosition]],nextPosition=nextPosition.join(" "),adjacentTried=triedPositions[nextPosition]===!0,module.debug("Trying adjacent strategy",nextPosition)),(adjacentTried||oppositeTried)&&(module.debug("Using backup position",nextPosition),nextPosition=backup[position]),nextPosition}},set:{position:function(position,calculations){if(0===$target.length||0===$popup.length)return void module.error(error.notFound);var offset,distanceAway,target,popup,parent,positioning,popupOffset,distanceFromBoundary;if(calculations=calculations||module.get.calculations(),position=position||$module.data(metadata.position)||settings.position,offset=$module.data(metadata.offset)||settings.offset,distanceAway=settings.distanceAway,target=calculations.target,popup=calculations.popup,parent=calculations.parent,0===target.width&&0===target.height&&!module.is.svg(target.element))return module.debug("Popup target is hidden, no action taken"),!1;switch(settings.inline&&(module.debug("Adding margin to calculation",target.margin),"left center"==position||"right center"==position?(offset+=target.margin.top,distanceAway+=-target.margin.left):"top left"==position||"top center"==position||"top right"==position?(offset+=target.margin.left,distanceAway-=target.margin.top):(offset+=target.margin.left,distanceAway+=target.margin.top)),module.debug("Determining popup position from calculations",position,calculations),module.is.rtl()&&(position=position.replace(/left|right/g,function(match){return"left"==match?"right":"left"}),module.debug("RTL: Popup position updated",position)),searchDepth==settings.maxSearchDepth&&"string"==typeof settings.lastResort&&(position=settings.lastResort),position){case"top left":positioning={top:"auto",bottom:parent.height-target.top+distanceAway,left:target.left+offset,right:"auto"};break;case"top center":positioning={bottom:parent.height-target.top+distanceAway,left:target.left+target.width/2-popup.width/2+offset,top:"auto",right:"auto"};break;case"top right":positioning={bottom:parent.height-target.top+distanceAway,right:parent.width-target.left-target.width-offset,top:"auto",left:"auto"};break;case"left center":positioning={top:target.top+target.height/2-popup.height/2+offset,right:parent.width-target.left+distanceAway,left:"auto",bottom:"auto"};break;case"right center":positioning={top:target.top+target.height/2-popup.height/2+offset,left:target.left+target.width+distanceAway,bottom:"auto",right:"auto"};break;case"bottom left":positioning={top:target.top+target.height+distanceAway,left:target.left+offset,bottom:"auto",right:"auto"};break;case"bottom center":positioning={top:target.top+target.height+distanceAway,left:target.left+target.width/2-popup.width/2+offset,bottom:"auto",right:"auto"};break;case"bottom right":positioning={top:target.top+target.height+distanceAway,right:parent.width-target.left-target.width-offset,left:"auto",bottom:"auto"}}if(positioning===undefined&&module.error(error.invalidPosition,position),module.debug("Calculated popup positioning values",positioning),$popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading),popupOffset=module.get.popupOffset(),distanceFromBoundary=module.get.distanceFromBoundary(popupOffset,calculations),module.is.offstage(distanceFromBoundary,position)){if(module.debug("Position is outside viewport",position),searchDepth<settings.maxSearchDepth)return searchDepth++,position=module.get.nextPosition(position),module.debug("Trying new position",position),$popup?module.set.position(position,calculations):!1;if(!settings.lastResort)return module.debug("Popup could not find a position to display",$popup),module.error(error.cannotPlace,element),module.remove.attempts(),module.remove.loading(),module.reset(),settings.onUnplaceable.call($popup,element),!1;module.debug("No position found, showing with last position")}return module.debug("Position is on stage",position),module.remove.attempts(),module.remove.loading(),settings.setFluidWidth&&module.is.fluid()&&module.set.fluidWidth(calculations),!0},fluidWidth:function(calculations){calculations=calculations||module.get.calculations(),module.debug("Automatically setting element width to parent width",calculations.parent.width),$popup.css("width",calculations.container.width)},variation:function(variation){variation=variation||module.get.variation(),variation&&module.has.popup()&&(module.verbose("Adding variation to popup",variation),$popup.addClass(variation))},visible:function(){$module.addClass(className.visible)}},remove:{loading:function(){$popup.removeClass(className.loading)},variation:function(variation){variation=variation||module.get.variation(),variation&&(module.verbose("Removing variation",variation),$popup.removeClass(variation))},visible:function(){$module.removeClass(className.visible)},attempts:function(){module.verbose("Resetting all searched positions"),searchDepth=0,triedPositions=!1}},bind:{events:function(){module.debug("Binding popup events to module"),"click"==settings.on&&$module.on("click"+eventNamespace,module.toggle),"hover"==settings.on&&hasTouch&&$module.on("touchstart"+eventNamespace,module.event.touchstart),module.get.startEvent()&&$module.on(module.get.startEvent()+eventNamespace,module.event.start).on(module.get.endEvent()+eventNamespace,module.event.end),settings.target&&module.debug("Target set to element",$target),$window.on("resize"+elementNamespace,module.event.resize)},popup:function(){module.verbose("Allowing hover events on popup to prevent closing"),$popup&&module.has.popup()&&$popup.on("mouseenter"+eventNamespace,module.event.start).on("mouseleave"+eventNamespace,module.event.end)},close:function(){(settings.hideOnScroll===!0||"auto"==settings.hideOnScroll&&"click"!=settings.on)&&$scrollContext.one(module.get.scrollEvent()+elementNamespace,module.event.hideGracefully),"hover"==settings.on&&openedWithTouch&&(module.verbose("Binding popup close event to document"),$document.on("touchstart"+elementNamespace,function(event){module.verbose("Touched away from popup"),module.event.hideGracefully.call(element,event)})),"click"==settings.on&&settings.closable&&(module.verbose("Binding popup close event to document"),$document.on("click"+elementNamespace,function(event){module.verbose("Clicked away from popup"),module.event.hideGracefully.call(element,event)}))}},unbind:{events:function(){$window.off(elementNamespace),$module.off(eventNamespace)},close:function(){$document.off(elementNamespace),$scrollContext.off(elementNamespace)}},has:{popup:function(){return $popup&&$popup.length>0}},is:{offstage:function(distanceFromBoundary,position){var offstage=[];return $.each(distanceFromBoundary,function(direction,distance){distance<-settings.jitter&&(module.debug("Position exceeds allowable distance from edge",direction,distance,position),offstage.push(direction))}),offstage.length>0?!0:!1},svg:function(element){return module.supports.svg()&&element instanceof SVGGraphicsElement},active:function(){return $module.hasClass(className.active)},animating:function(){return $popup!==undefined&&$popup.hasClass(className.animating)},fluid:function(){return $popup!==undefined&&$popup.hasClass(className.fluid)},visible:function(){return $popup!==undefined&&$popup.hasClass(className.visible)},dropdown:function(){return $module.hasClass(className.dropdown)},hidden:function(){return!module.is.visible()},rtl:function(){return"rtl"==$module.css("direction")}},reset:function(){module.remove.visible(),settings.preserve?$.fn.transition!==undefined&&$popup.transition("remove transition"):module.removePopup()},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:window,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:window,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},popup:function(text){var html="",escape=$.fn.popup.settings.templates.escape;return typeof text!==undefined&&(typeof text.title!==undefined&&text.title&&(text.title=escape(text.title),html+='<div class="header">'+text.title+"</div>"),
typeof text.content!==undefined&&text.content&&(text.content=escape(text.content),html+='<div class="content">'+text.content+"</div>")),html}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();$.fn.progress=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var transitionEnd,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.progress.settings,parameters):$.extend({},$.fn.progress.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$bar=$(this).find(selector.bar),$progress=$(this).find(selector.progress),$label=$(this).find(selector.label),element=this,instance=$module.data(moduleNamespace),animating=!1;module={initialize:function(){module.debug("Initializing progress bar",settings),module.set.duration(),module.set.transitionEvent(),module.read.metadata(),module.read.settings(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of progress",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous progress for",$module),clearInterval(instance.interval),module.remove.state(),$module.removeData(moduleNamespace),instance=undefined},reset:function(){module.remove.nextValue(),module.update.progress(0)},complete:function(){(module.percent===undefined||module.percent<100)&&(module.remove.progressPoll(),module.set.percent(100))},read:{metadata:function(){var data={percent:$module.data(metadata.percent),total:$module.data(metadata.total),value:$module.data(metadata.value)};data.percent&&(module.debug("Current percent value set from metadata",data.percent),module.set.percent(data.percent)),data.total&&(module.debug("Total value set from metadata",data.total),module.set.total(data.total)),data.value&&(module.debug("Current value set from metadata",data.value),module.set.value(data.value),module.set.progress(data.value))},settings:function(){settings.total!==!1&&(module.debug("Current total set in settings",settings.total),module.set.total(settings.total)),settings.value!==!1&&(module.debug("Current value set in settings",settings.value),module.set.value(settings.value),module.set.progress(module.value)),settings.percent!==!1&&(module.debug("Current percent set in settings",settings.percent),module.set.percent(settings.percent))}},bind:{transitionEnd:function(callback){var transitionEnd=module.get.transitionEnd();$bar.one(transitionEnd+eventNamespace,function(event){clearTimeout(module.failSafeTimer),callback.call(this,event)}),module.failSafeTimer=setTimeout(function(){$bar.triggerHandler(transitionEnd)},settings.duration+settings.failSafeDelay),module.verbose("Adding fail safe timer",module.timer)}},increment:function(incrementValue){var maxValue,startValue,newValue;module.has.total()?(startValue=module.get.value(),incrementValue=incrementValue||1,newValue=startValue+incrementValue):(startValue=module.get.percent(),incrementValue=incrementValue||module.get.randomValue(),newValue=startValue+incrementValue,maxValue=100,module.debug("Incrementing percentage by",startValue,newValue)),newValue=module.get.normalizedValue(newValue),module.set.progress(newValue)},decrement:function(decrementValue){var startValue,newValue,total=module.get.total();total?(startValue=module.get.value(),decrementValue=decrementValue||1,newValue=startValue-decrementValue,module.debug("Decrementing value by",decrementValue,startValue)):(startValue=module.get.percent(),decrementValue=decrementValue||module.get.randomValue(),newValue=startValue-decrementValue,module.debug("Decrementing percentage by",decrementValue,startValue)),newValue=module.get.normalizedValue(newValue),module.set.progress(newValue)},has:{progressPoll:function(){return module.progressPoll},total:function(){return module.get.total()!==!1}},get:{text:function(templateText){var value=module.value||0,total=module.total||0,percent=animating?module.get.displayPercent():module.percent||0,left=module.total>0?total-value:100-percent;return templateText=templateText||"",templateText=templateText.replace("{value}",value).replace("{total}",total).replace("{left}",left).replace("{percent}",percent),module.verbose("Adding variables to progress bar text",templateText),templateText},normalizedValue:function(value){if(0>value)return module.debug("Value cannot decrement below 0"),0;if(module.has.total()){if(value>module.total)return module.debug("Value cannot increment above total",module.total),module.total}else if(value>100)return module.debug("Value cannot increment above 100 percent"),100;return value},updateInterval:function(){return"auto"==settings.updateInterval?settings.duration:settings.updateInterval},randomValue:function(){return module.debug("Generating random increment percentage"),Math.floor(Math.random()*settings.random.max+settings.random.min)},numericValue:function(value){return"string"==typeof value?""!==value.replace(/[^\d.]/g,"")?+value.replace(/[^\d.]/g,""):!1:value},transitionEnd:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},displayPercent:function(){var barWidth=$bar.width(),totalWidth=$module.width(),minDisplay=parseInt($bar.css("min-width"),10),displayPercent=barWidth>minDisplay?barWidth/totalWidth*100:module.percent;return settings.precision>0?Math.round(10*displayPercent*settings.precision)/(10*settings.precision):Math.round(displayPercent)},percent:function(){return module.percent||0},value:function(){return module.nextValue||module.value||0},total:function(){return module.total||!1}},create:{progressPoll:function(){module.progressPoll=setTimeout(function(){module.update.toNextValue(),module.remove.progressPoll()},module.get.updateInterval())}},is:{complete:function(){return module.is.success()||module.is.warning()||module.is.error()},success:function(){return $module.hasClass(className.success)},warning:function(){return $module.hasClass(className.warning)},error:function(){return $module.hasClass(className.error)},active:function(){return $module.hasClass(className.active)},visible:function(){return $module.is(":visible")}},remove:{progressPoll:function(){module.verbose("Removing progress poll timer"),module.progressPoll&&(clearTimeout(module.progressPoll),delete module.progressPoll)},nextValue:function(){module.verbose("Removing progress value stored for next update"),delete module.nextValue},state:function(){module.verbose("Removing stored state"),delete module.total,delete module.percent,delete module.value},active:function(){module.verbose("Removing active state"),$module.removeClass(className.active)},success:function(){module.verbose("Removing success state"),$module.removeClass(className.success)},warning:function(){module.verbose("Removing warning state"),$module.removeClass(className.warning)},error:function(){module.verbose("Removing error state"),$module.removeClass(className.error)}},set:{barWidth:function(value){value>100?module.error(error.tooHigh,value):0>value?module.error(error.tooLow,value):($bar.css("width",value+"%"),$module.attr("data-percent",parseInt(value,10)))},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting progress bar transition duration",duration),$bar.css({"transition-duration":duration})},percent:function(percent){percent="string"==typeof percent?+percent.replace("%",""):percent,percent=settings.precision>0?Math.round(10*percent*settings.precision)/(10*settings.precision):Math.round(percent),module.percent=percent,module.has.total()||(module.value=settings.precision>0?Math.round(percent/100*module.total*10*settings.precision)/(10*settings.precision):Math.round(percent/100*module.total*10)/10,settings.limitValues&&(module.value=module.value>100?100:module.value<0?0:module.value)),module.set.barWidth(percent),module.set.labelInterval(),module.set.labels(),settings.onChange.call(element,percent,module.value,module.total)},labelInterval:function(){var animationCallback=function(){module.verbose("Bar finished animating, removing continuous label updates"),clearInterval(module.interval),animating=!1,module.set.labels()};clearInterval(module.interval),module.bind.transitionEnd(animationCallback),animating=!0,module.interval=setInterval(function(){var isInDOM=$.contains(document.documentElement,element);isInDOM||(clearInterval(module.interval),animating=!1),module.set.labels()},settings.framerate)},labels:function(){module.verbose("Setting both bar progress and outer label text"),module.set.barLabel(),module.set.state()},label:function(text){text=text||"",text&&(text=module.get.text(text),module.verbose("Setting label to text",text),$label.text(text))},state:function(percent){percent=percent!==undefined?percent:module.percent,100===percent?settings.autoSuccess&&!(module.is.warning()||module.is.error()||module.is.success())?(module.set.success(),module.debug("Automatically triggering success at 100%")):(module.verbose("Reached 100% removing active state"),module.remove.active(),module.remove.progressPoll()):percent>0?(module.verbose("Adjusting active progress bar label",percent),module.set.active()):(module.remove.active(),module.set.label(settings.text.active))},barLabel:function(text){text!==undefined?$progress.text(module.get.text(text)):"ratio"==settings.label&&module.total?(module.verbose("Adding ratio to bar label"),$progress.text(module.get.text(settings.text.ratio))):"percent"==settings.label&&(module.verbose("Adding percentage to bar label"),$progress.text(module.get.text(settings.text.percent)))},active:function(text){text=text||settings.text.active,module.debug("Setting active state"),settings.showActivity&&!module.is.active()&&$module.addClass(className.active),module.remove.warning(),module.remove.error(),module.remove.success(),text=settings.onLabelUpdate("active",text,module.value,module.total),text&&module.set.label(text),module.bind.transitionEnd(function(){settings.onActive.call(element,module.value,module.total)})},success:function(text){text=text||settings.text.success||settings.text.active,module.debug("Setting success state"),$module.addClass(className.success),module.remove.active(),module.remove.warning(),module.remove.error(),module.complete(),settings.text.success?(text=settings.onLabelUpdate("success",text,module.value,module.total),module.set.label(text)):(text=settings.onLabelUpdate("active",text,module.value,module.total),module.set.label(text)),module.bind.transitionEnd(function(){settings.onSuccess.call(element,module.total)})},warning:function(text){text=text||settings.text.warning,module.debug("Setting warning state"),$module.addClass(className.warning),module.remove.active(),module.remove.success(),module.remove.error(),module.complete(),text=settings.onLabelUpdate("warning",text,module.value,module.total),text&&module.set.label(text),module.bind.transitionEnd(function(){settings.onWarning.call(element,module.value,module.total)})},error:function(text){text=text||settings.text.error,module.debug("Setting error state"),$module.addClass(className.error),module.remove.active(),module.remove.success(),module.remove.warning(),module.complete(),text=settings.onLabelUpdate("error",text,module.value,module.total),text&&module.set.label(text),module.bind.transitionEnd(function(){settings.onError.call(element,module.value,module.total)})},transitionEvent:function(){transitionEnd=module.get.transitionEnd()},total:function(totalValue){module.total=totalValue},value:function(value){module.value=value},progress:function(value){module.has.progressPoll()?(module.debug("Updated within interval, setting next update to use new value",value),module.set.nextValue(value)):(module.debug("First update in progress update interval, immediately updating",value),module.update.progress(value),module.create.progressPoll())},nextValue:function(value){module.nextValue=value}},update:{toNextValue:function(){var nextValue=module.nextValue;nextValue&&(module.debug("Update interval complete using last updated value",nextValue),module.update.progress(nextValue),module.remove.nextValue())},progress:function(value){var percentComplete;value=module.get.numericValue(value),value===!1&&module.error(error.nonNumeric,value),value=module.get.normalizedValue(value),module.has.total()?(module.set.value(value),percentComplete=value/module.total*100,module.debug("Calculating percent complete from total",percentComplete),module.set.percent(percentComplete)):(percentComplete=value,module.debug("Setting value to exact percentage value",percentComplete),module.set.percent(percentComplete))}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(state,text){return text},onChange:function(){},onSuccess:function(){},onActive:function(){},onError:function(){},onWarning:function(){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.rating=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var initialLoad,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.rating.settings,parameters):$.extend({},$.fn.rating.settings),namespace=settings.namespace,className=settings.className,metadata=settings.metadata,selector=settings.selector,eventNamespace=(settings.error,"."+namespace),moduleNamespace="module-"+namespace,element=this,instance=$(this).data(moduleNamespace),$module=$(this),$icon=$module.find(selector.icon);module={initialize:function(){module.verbose("Initializing rating module",settings),0===$icon.length&&module.setup.layout(),settings.interactive?module.enable():module.disable(),module.set.initialLoad(),module.set.rating(module.get.initialRating()),module.remove.initialLoad(),module.instantiate()},instantiate:function(){module.verbose("Instantiating module",settings),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance",instance),module.remove.events(),$module.removeData(moduleNamespace)},refresh:function(){$icon=$module.find(selector.icon)},setup:{layout:function(){var maxRating=module.get.maxRating(),html=$.fn.rating.settings.templates.icon(maxRating);module.debug("Generating icon html dynamically"),$module.html(html),module.refresh()}},event:{mouseenter:function(){var $activeIcon=$(this);$activeIcon.nextAll().removeClass(className.selected),$module.addClass(className.selected),$activeIcon.addClass(className.selected).prevAll().addClass(className.selected)},mouseleave:function(){$module.removeClass(className.selected),$icon.removeClass(className.selected)},click:function(){var $activeIcon=$(this),currentRating=module.get.rating(),rating=$icon.index($activeIcon)+1,canClear="auto"==settings.clearable?1===$icon.length:settings.clearable;canClear&&currentRating==rating?module.clearRating():module.set.rating(rating)}},clearRating:function(){module.debug("Clearing current rating"),module.set.rating(0)},bind:{events:function(){module.verbose("Binding events"),$module.on("mouseenter"+eventNamespace,selector.icon,module.event.mouseenter).on("mouseleave"+eventNamespace,selector.icon,module.event.mouseleave).on("click"+eventNamespace,selector.icon,module.event.click)}},remove:{events:function(){module.verbose("Removing events"),$module.off(eventNamespace)},initialLoad:function(){initialLoad=!1}},enable:function(){module.debug("Setting rating to interactive mode"),module.bind.events(),$module.removeClass(className.disabled)},disable:function(){module.debug("Setting rating to read-only mode"),module.remove.events(),$module.addClass(className.disabled)},is:{initialLoad:function(){return initialLoad}},get:{initialRating:function(){return $module.data(metadata.rating)!==undefined?($module.removeData(metadata.rating),$module.data(metadata.rating)):settings.initialRating},maxRating:function(){return $module.data(metadata.maxRating)!==undefined?($module.removeData(metadata.maxRating),$module.data(metadata.maxRating)):settings.maxRating},rating:function(){var currentRating=$icon.filter("."+className.active).length;return module.verbose("Current rating retrieved",currentRating),currentRating}},set:{rating:function(rating){var ratingIndex=rating-1>=0?rating-1:0,$activeIcon=$icon.eq(ratingIndex);$module.removeClass(className.selected),$icon.removeClass(className.selected).removeClass(className.active),rating>0&&(module.verbose("Setting current rating to",rating),$activeIcon.prevAll().addBack().addClass(className.active)),module.is.initialLoad()||settings.onRate.call(element,rating)},initialLoad:function(){initialLoad=!0}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(maxRating){for(var icon=1,html="";maxRating>=icon;)html+='<i class="icon"></i>',icon++;return html}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.search=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $(this).each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.search.settings,parameters):$.extend({},$.fn.search.settings),className=settings.className,metadata=settings.metadata,regExp=settings.regExp,fields=settings.fields,selector=settings.selector,error=settings.error,namespace=settings.namespace,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),$prompt=$module.find(selector.prompt),$searchButton=$module.find(selector.searchButton),$results=$module.find(selector.results),$result=$module.find(selector.result),$category=$module.find(selector.category),element=this,instance=$module.data(moduleNamespace),disabledBubbled=!1,resultsDismissed=!1;module={initialize:function(){module.verbose("Initializing module"),module.determine.searchFields(),module.bind.events(),module.set.type(),module.create.results(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying instance"),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){module.debug("Refreshing selector cache"),$prompt=$module.find(selector.prompt),$searchButton=$module.find(selector.searchButton),$category=$module.find(selector.category),$results=$module.find(selector.results),$result=$module.find(selector.result)},refreshResults:function(){$results=$module.find(selector.results),$result=$module.find(selector.result)},bind:{events:function(){module.verbose("Binding events to search"),settings.automatic&&($module.on(module.get.inputEvent()+eventNamespace,selector.prompt,module.event.input),$prompt.attr("autocomplete","off")),$module.on("focus"+eventNamespace,selector.prompt,module.event.focus).on("blur"+eventNamespace,selector.prompt,module.event.blur).on("keydown"+eventNamespace,selector.prompt,module.handleKeyboard).on("click"+eventNamespace,selector.searchButton,module.query).on("mousedown"+eventNamespace,selector.results,module.event.result.mousedown).on("mouseup"+eventNamespace,selector.results,module.event.result.mouseup).on("click"+eventNamespace,selector.result,module.event.result.click)}},determine:{searchFields:function(){parameters&&parameters.searchFields!==undefined&&(settings.searchFields=parameters.searchFields)}},event:{input:function(){clearTimeout(module.timer),module.timer=setTimeout(module.query,settings.searchDelay)},focus:function(){module.set.focus(),settings.searchOnFocus&&module.has.minimumCharacters()&&module.query(function(){module.can.show()&&module.showResults()})},blur:function(){var pageLostFocus=document.activeElement===this,callback=function(){module.cancel.query(),module.remove.focus(),module.timer=setTimeout(module.hideResults,settings.hideDelay)};pageLostFocus||(resultsDismissed=!1,module.resultsClicked?(module.debug("Determining if user action caused search to close"),$module.one("click.close"+eventNamespace,selector.results,function(event){return module.is.inMessage(event)||disabledBubbled?void $prompt.focus():(disabledBubbled=!1,void(module.is.animating()||module.is.hidden()||callback()))})):(module.debug("Input blurred without user action, closing results"),callback()))},result:{mousedown:function(){module.resultsClicked=!0},mouseup:function(){module.resultsClicked=!1},click:function(event){module.debug("Search result selected");var $result=$(this),$title=$result.find(selector.title).eq(0),$link=$result.is("a[href]")?$result:$result.find("a[href]").eq(0),href=$link.attr("href")||!1,target=$link.attr("target")||!1,value=($title.html(),$title.length>0?$title.text():!1),results=module.get.results(),result=$result.data(metadata.result)||module.get.result(value,results);return $.isFunction(settings.onSelect)&&settings.onSelect.call(element,result,results)===!1?(module.debug("Custom onSelect callback cancelled default select action"),void(disabledBubbled=!0)):(module.hideResults(),value&&module.set.value(value),void(href&&(module.verbose("Opening search link found in result",$link),"_blank"==target||event.ctrlKey?window.open(href):window.location.href=href)))}}},handleKeyboard:function(event){var newIndex,$result=$module.find(selector.result),$category=$module.find(selector.category),$activeResult=$result.filter("."+className.active),currentIndex=$result.index($activeResult),resultSize=$result.length,hasActiveResult=$activeResult.length>0,keyCode=event.which,keys={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(keyCode==keys.escape&&(module.verbose("Escape key pressed, blurring search field"),module.hideResults(),resultsDismissed=!0),module.is.visible())if(keyCode==keys.enter){if(module.verbose("Enter key pressed, selecting active result"),$result.filter("."+className.active).length>0)return module.event.result.click.call($result.filter("."+className.active),event),event.preventDefault(),!1}else keyCode==keys.upArrow&&hasActiveResult?(module.verbose("Up key pressed, changing active result"),newIndex=0>currentIndex-1?currentIndex:currentIndex-1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault()):keyCode==keys.downArrow&&(module.verbose("Down key pressed, changing active result"),newIndex=currentIndex+1>=resultSize?currentIndex:currentIndex+1,$category.removeClass(className.active),$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active),event.preventDefault());else keyCode==keys.enter&&(module.verbose("Enter key pressed, executing query"),module.query(),module.set.buttonPressed(),$prompt.one("keyup",module.remove.buttonFocus))},setup:{api:function(searchTerm,callback){var apiSettings={debug:settings.debug,on:!1,cache:!0,action:"search",urlData:{query:searchTerm},onSuccess:function(response){
module.parse.response.call(element,response,searchTerm),callback()},onFailure:function(){module.displayMessage(error.serverError),callback()},onAbort:function(){},onError:module.error};$.extend(!0,apiSettings,settings.apiSettings),module.verbose("Setting up API request",apiSettings),$module.api(apiSettings)}},can:{useAPI:function(){return $.fn.api!==undefined},show:function(){return module.is.focused()&&!module.is.visible()&&!module.is.empty()},transition:function(){return settings.transition&&$.fn.transition!==undefined&&$module.transition("is supported")}},is:{animating:function(){return $results.hasClass(className.animating)},hidden:function(){return $results.hasClass(className.hidden)},inMessage:function(event){if(event.target){var $target=$(event.target),isInDOM=$.contains(document.documentElement,event.target);return isInDOM&&$target.closest(selector.message).length>0}},empty:function(){return""===$results.html()},visible:function(){return $results.filter(":visible").length>0},focused:function(){return $prompt.filter(":focus").length>0}},get:{inputEvent:function(){var prompt=$prompt[0],inputEvent=prompt!==undefined&&prompt.oninput!==undefined?"input":prompt!==undefined&&prompt.onpropertychange!==undefined?"propertychange":"keyup";return inputEvent},value:function(){return $prompt.val()},results:function(){var results=$module.data(metadata.results);return results},result:function(value,results){var lookupFields=["title","id"],result=!1;return value=value!==undefined?value:module.get.value(),results=results!==undefined?results:module.get.results(),"category"===settings.type?(module.debug("Finding result that matches",value),$.each(results,function(index,category){return $.isArray(category.results)&&(result=module.search.object(value,category.results,lookupFields)[0])?!1:void 0})):(module.debug("Finding result in results object",value),result=module.search.object(value,results,lookupFields)[0]),result||!1}},select:{firstResult:function(){module.verbose("Selecting first result"),$result.first().addClass(className.active)}},set:{focus:function(){$module.addClass(className.focus)},loading:function(){$module.addClass(className.loading)},value:function(value){module.verbose("Setting search input value",value),$prompt.val(value)},type:function(type){type=type||settings.type,"category"==settings.type&&$module.addClass(settings.type)},buttonPressed:function(){$searchButton.addClass(className.pressed)}},remove:{loading:function(){$module.removeClass(className.loading)},focus:function(){$module.removeClass(className.focus)},buttonPressed:function(){$searchButton.removeClass(className.pressed)}},query:function(callback){callback=$.isFunction(callback)?callback:function(){};var searchTerm=module.get.value(),cache=module.read.cache(searchTerm);callback=callback||function(){},module.has.minimumCharacters()?(cache?(module.debug("Reading result from cache",searchTerm),module.save.results(cache.results),module.addResults(cache.html),module.inject.id(cache.results),callback()):(module.debug("Querying for",searchTerm),$.isPlainObject(settings.source)||$.isArray(settings.source)?(module.search.local(searchTerm),callback()):module.can.useAPI()?module.search.remote(searchTerm,callback):(module.error(error.source),callback())),settings.onSearchQuery.call(element,searchTerm)):module.hideResults()},search:{local:function(searchTerm){var searchHTML,results=module.search.object(searchTerm,settings.content);module.set.loading(),module.save.results(results),module.debug("Returned local search results",results),searchHTML=module.generateResults({results:results}),module.remove.loading(),module.addResults(searchHTML),module.inject.id(results),module.write.cache(searchTerm,{html:searchHTML,results:results})},remote:function(searchTerm,callback){callback=$.isFunction(callback)?callback:function(){},$module.api("is loading")&&$module.api("abort"),module.setup.api(searchTerm,callback),$module.api("query")},object:function(searchTerm,source,searchFields){var results=[],fuzzyResults=[],searchExp=searchTerm.toString().replace(regExp.escape,"\\$&"),matchRegExp=new RegExp(regExp.beginsWith+searchExp,"i"),addResult=function(array,result){var notResult=-1==$.inArray(result,results),notFuzzyResult=-1==$.inArray(result,fuzzyResults);notResult&&notFuzzyResult&&array.push(result)};return source=source||settings.source,searchFields=searchFields!==undefined?searchFields:settings.searchFields,$.isArray(searchFields)||(searchFields=[searchFields]),source===undefined||source===!1?(module.error(error.source),[]):($.each(searchFields,function(index,field){$.each(source,function(label,content){var fieldExists="string"==typeof content[field];fieldExists&&(-1!==content[field].search(matchRegExp)?addResult(results,content):settings.searchFullText&&module.fuzzySearch(searchTerm,content[field])&&addResult(fuzzyResults,content))})}),$.merge(results,fuzzyResults))}},fuzzySearch:function(query,term){var termLength=term.length,queryLength=query.length;if("string"!=typeof query)return!1;if(query=query.toLowerCase(),term=term.toLowerCase(),queryLength>termLength)return!1;if(queryLength===termLength)return query===term;search:for(var characterIndex=0,nextCharacterIndex=0;queryLength>characterIndex;characterIndex++){for(var queryCharacter=query.charCodeAt(characterIndex);termLength>nextCharacterIndex;)if(term.charCodeAt(nextCharacterIndex++)===queryCharacter)continue search;return!1}return!0},parse:{response:function(response,searchTerm){var searchHTML=module.generateResults(response);module.verbose("Parsing server response",response),response!==undefined&&searchTerm!==undefined&&response[fields.results]!==undefined&&(module.addResults(searchHTML),module.inject.id(response[fields.results]),module.write.cache(searchTerm,{html:searchHTML,results:response[fields.results]}),module.save.results(response[fields.results]))}},cancel:{query:function(){module.can.useAPI()&&$module.api("abort")}},has:{minimumCharacters:function(){var searchTerm=module.get.value(),numCharacters=searchTerm.length;return numCharacters>=settings.minCharacters},results:function(){if(0===$results.length)return!1;var html=$results.html();return""!=html}},clear:{cache:function(value){var cache=$module.data(metadata.cache);value?value&&cache&&cache[value]&&(module.debug("Removing value from cache",value),delete cache[value],$module.data(metadata.cache,cache)):(module.debug("Clearing cache",value),$module.removeData(metadata.cache))}},read:{cache:function(name){var cache=$module.data(metadata.cache);return settings.cache?(module.verbose("Checking cache for generated html for query",name),"object"==typeof cache&&cache[name]!==undefined?cache[name]:!1):!1}},create:{id:function(resultIndex,categoryIndex){var letterID,id,resultID=resultIndex+1;return categoryIndex!==undefined?(letterID=String.fromCharCode(97+categoryIndex),id=letterID+resultID,module.verbose("Creating category result id",id)):(id=resultID,module.verbose("Creating result id",id)),id},results:function(){0===$results.length&&($results=$("<div />").addClass(className.results).appendTo($module))}},inject:{result:function(result,resultIndex,categoryIndex){module.verbose("Injecting result into results");var $selectedResult=categoryIndex!==undefined?$results.children().eq(categoryIndex).children(selector.result).eq(resultIndex):$results.children(selector.result).eq(resultIndex);module.verbose("Injecting results metadata",$selectedResult),$selectedResult.data(metadata.result,result)},id:function(results){module.debug("Injecting unique ids into results");var categoryIndex=0,resultIndex=0;return"category"===settings.type?$.each(results,function(index,category){resultIndex=0,$.each(category.results,function(index){var result=category.results[index];result.id===undefined&&(result.id=module.create.id(resultIndex,categoryIndex)),module.inject.result(result,resultIndex,categoryIndex),resultIndex++}),categoryIndex++}):$.each(results,function(index){var result=results[index];result.id===undefined&&(result.id=module.create.id(resultIndex)),module.inject.result(result,resultIndex),resultIndex++}),results}},save:{results:function(results){module.verbose("Saving current search results to metadata",results),$module.data(metadata.results,results)}},write:{cache:function(name,value){var cache=$module.data(metadata.cache)!==undefined?$module.data(metadata.cache):{};settings.cache&&(module.verbose("Writing generated html to cache",name,value),cache[name]=value,$module.data(metadata.cache,cache))}},addResults:function(html){return $.isFunction(settings.onResultsAdd)&&settings.onResultsAdd.call($results,html)===!1?(module.debug("onResultsAdd callback cancelled default action"),!1):void(html?($results.html(html),module.refreshResults(),settings.selectFirstResult&&module.select.firstResult(),module.showResults()):module.hideResults(function(){$results.empty()}))},showResults:function(callback){callback=$.isFunction(callback)?callback:function(){},resultsDismissed||!module.is.visible()&&module.has.results()&&(module.can.transition()?(module.debug("Showing results with css animations"),$results.transition({animation:settings.transition+" in",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){callback()},queue:!0})):(module.debug("Showing results with javascript"),$results.stop().fadeIn(settings.duration,settings.easing)),settings.onResultsOpen.call($results))},hideResults:function(callback){callback=$.isFunction(callback)?callback:function(){},module.is.visible()&&(module.can.transition()?(module.debug("Hiding results with css animations"),$results.transition({animation:settings.transition+" out",debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){callback()},queue:!0})):(module.debug("Hiding results with javascript"),$results.stop().fadeOut(settings.duration,settings.easing)),settings.onResultsClose.call($results))},generateResults:function(response){module.debug("Generating html from response",response);var template=settings.templates[settings.type],isProperObject=$.isPlainObject(response[fields.results])&&!$.isEmptyObject(response[fields.results]),isProperArray=$.isArray(response[fields.results])&&response[fields.results].length>0,html="";return isProperObject||isProperArray?(settings.maxResults>0&&(isProperObject?"standard"==settings.type&&module.error(error.maxResults):response[fields.results]=response[fields.results].slice(0,settings.maxResults)),$.isFunction(template)?html=template(response,fields):module.error(error.noTemplate,!1)):settings.showNoResults&&(html=module.displayMessage(error.noResults,"empty")),settings.onResults.call(element,response),html},displayMessage:function(text,type){return type=type||"standard",module.debug("Displaying message",text,type),module.addResults(settings.templates.message(text,type)),settings.templates.message(text,type)},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(string){var badChars=/[&<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr]};return shouldEscape.test(string)?string.replace(badChars,escapedChar):string},message:function(message,type){var html="";return message!==undefined&&type!==undefined&&(html+='<div class="message '+type+'">',html+="empty"==type?'<div class="header">No Results</div class="header"><div class="description">'+message+'</div class="description">':' <div class="description">'+message+"</div>",html+="</div>"),html},category:function(response,fields){{var html="";$.fn.search.settings.templates.escape}return response[fields.categoryResults]!==undefined?($.each(response[fields.categoryResults],function(index,category){category[fields.results]!==undefined&&category.results.length>0&&(html+='<div class="category">',category[fields.categoryName]!==undefined&&(html+='<div class="name">'+category[fields.categoryName]+"</div>"),$.each(category.results,function(index,result){html+=result[fields.url]?'<a class="result" href="'+result[fields.url]+'">':'<a class="result">',result[fields.image]!==undefined&&(html+='<div class="image"> <img src="'+result[fields.image]+'"></div>'),html+='<div class="content">',result[fields.price]!==undefined&&(html+='<div class="price">'+result[fields.price]+"</div>"),result[fields.title]!==undefined&&(html+='<div class="title">'+result[fields.title]+"</div>"),result[fields.description]!==undefined&&(html+='<div class="description">'+result[fields.description]+"</div>"),html+="</div>",html+="</a>"}),html+="</div>")}),response[fields.action]&&(html+='<a href="'+response[fields.action][fields.actionURL]+'" class="action">'+response[fields.action][fields.actionText]+"</a>"),html):!1},standard:function(response,fields){var html="";return response[fields.results]!==undefined?($.each(response[fields.results],function(index,result){html+=result[fields.url]?'<a class="result" href="'+result[fields.url]+'">':'<a class="result">',result[fields.image]!==undefined&&(html+='<div class="image"> <img src="'+result[fields.image]+'"></div>'),html+='<div class="content">',result[fields.price]!==undefined&&(html+='<div class="price">'+result[fields.price]+"</div>"),result[fields.title]!==undefined&&(html+='<div class="title">'+result[fields.title]+"</div>"),result[fields.description]!==undefined&&(html+='<div class="description">'+result[fields.description]+"</div>"),html+="</div>",html+="</a>"}),response[fields.action]&&(html+='<a href="'+response[fields.action][fields.actionURL]+'" class="action">'+response[fields.action][fields.actionText]+"</a>"),html):!1}}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.shape=function(parameters){var returnedValue,$allModules=$(this),time=($("body"),(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $activeSide,$nextSide,module,moduleSelector=$allModules.selector||"",settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.shape.settings,parameters):$.extend({},$.fn.shape.settings),namespace=settings.namespace,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$sides=$module.find(selector.sides),$side=$module.find(selector.side),nextIndex=!1,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module for",element),module.set.defaultSide(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},refresh:function(){module.verbose("Refreshing selector cache for",element),$module=$(element),$sides=$(this).find(selector.shape),$side=$(this).find(selector.side)},repaint:function(){module.verbose("Forcing repaint event");{var shape=$sides[0]||document.createElement("div");shape.offsetWidth}},animate:function(propertyObject,callback){module.verbose("Animating box with properties",propertyObject),callback=callback||function(event){module.verbose("Executing animation callback"),event!==undefined&&event.stopPropagation(),module.reset(),module.set.active()},settings.beforeChange.call($nextSide[0]),module.get.transitionEvent()?(module.verbose("Starting CSS animation"),$module.addClass(className.animating),$sides.css(propertyObject).one(module.get.transitionEvent(),callback),module.set.duration(settings.duration),requestAnimationFrame(function(){$module.addClass(className.animating),$activeSide.addClass(className.hidden)})):callback()},queue:function(method){module.debug("Queueing animation of",method),$sides.one(module.get.transitionEvent(),function(){module.debug("Executing queued animation"),setTimeout(function(){$module.shape(method)},0)})},reset:function(){module.verbose("Animating states reset"),$module.removeClass(className.animating).attr("style","").removeAttr("style"),$sides.attr("style","").removeAttr("style"),$side.attr("style","").removeAttr("style").removeClass(className.hidden),$nextSide.removeClass(className.animating).attr("style","").removeAttr("style")},is:{complete:function(){return $side.filter("."+className.active)[0]==$nextSide[0]},animating:function(){return $module.hasClass(className.animating)}},set:{defaultSide:function(){$activeSide=$module.find("."+settings.className.active),$nextSide=$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first(),nextIndex=!1,module.verbose("Active side set to",$activeSide),module.verbose("Next side set to",$nextSide)},duration:function(duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,module.verbose("Setting animation duration",duration),(settings.duration||0===settings.duration)&&$sides.add($side).css({"-webkit-transition-duration":duration,"-moz-transition-duration":duration,"-ms-transition-duration":duration,"-o-transition-duration":duration,"transition-duration":duration})},currentStageSize:function(){var $activeSide=$module.find("."+settings.className.active),width=$activeSide.outerWidth(!0),height=$activeSide.outerHeight(!0);$module.css({width:width,height:height})},stageSize:function(){var $clone=$module.clone().addClass(className.loading),$activeSide=$clone.find("."+settings.className.active),$nextSide=nextIndex?$clone.find(selector.side).eq(nextIndex):$activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$clone.find(selector.side).first(),newWidth="next"==settings.width?$nextSide.outerWidth(!0):"initial"==settings.width?$module.width():settings.width,newHeight="next"==settings.height?$nextSide.outerHeight(!0):"initial"==settings.height?$module.height():settings.height;$activeSide.removeClass(className.active),$nextSide.addClass(className.active),$clone.insertAfter($module),$clone.remove(),"auto"!=settings.width&&($module.css("width",newWidth+settings.jitter),module.verbose("Specifying width during animation",newWidth)),"auto"!=settings.height&&($module.css("height",newHeight+settings.jitter),module.verbose("Specifying height during animation",newHeight))},nextSide:function(selector){nextIndex=selector,$nextSide=$side.filter(selector),nextIndex=$side.index($nextSide),0===$nextSide.length&&(module.set.defaultSide(),module.error(error.side)),module.verbose("Next side manually set to",$nextSide)},active:function(){module.verbose("Setting new side to active",$nextSide),$side.removeClass(className.active),$nextSide.addClass(className.active),settings.onChange.call($nextSide[0]),module.set.defaultSide()}},flip:{up:function(){if(module.is.complete()&&!module.is.animating()&&!settings.allowRepeats)return void module.debug("Side already visible",$nextSide);if(module.is.animating())module.queue("flip up");else{module.debug("Flipping up",$nextSide);var transform=module.get.transform.up();module.set.stageSize(),module.stage.above(),module.animate(transform)}},down:function(){if(module.is.complete()&&!module.is.animating()&&!settings.allowRepeats)return void module.debug("Side already visible",$nextSide);if(module.is.animating())module.queue("flip down");else{module.debug("Flipping down",$nextSide);var transform=module.get.transform.down();module.set.stageSize(),module.stage.below(),module.animate(transform)}},left:function(){if(module.is.complete()&&!module.is.animating()&&!settings.allowRepeats)return void module.debug("Side already visible",$nextSide);if(module.is.animating())module.queue("flip left");else{module.debug("Flipping left",$nextSide);var transform=module.get.transform.left();module.set.stageSize(),module.stage.left(),module.animate(transform)}},right:function(){if(module.is.complete()&&!module.is.animating()&&!settings.allowRepeats)return void module.debug("Side already visible",$nextSide);if(module.is.animating())module.queue("flip right");else{module.debug("Flipping right",$nextSide);var transform=module.get.transform.right();module.set.stageSize(),module.stage.right(),module.animate(transform)}},over:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip over"):(module.debug("Flipping over",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.over()))):void module.debug("Side already visible",$nextSide)},back:function(){return!module.is.complete()||module.is.animating()||settings.allowRepeats?void(module.is.animating()?module.queue("flip back"):(module.debug("Flipping back",$nextSide),module.set.stageSize(),module.stage.behind(),module.animate(module.get.transform.back()))):void module.debug("Side already visible",$nextSide)}},get:{transform:{up:function(){var translate={y:-(($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2),z:-($activeSide.outerHeight(!0)/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(-90deg)"}},down:function(){var translate={y:-(($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2),z:-($activeSide.outerHeight(!0)/2)};return{transform:"translateY("+translate.y+"px) translateZ("+translate.z+"px) rotateX(90deg)"}},left:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2),z:-($activeSide.outerWidth(!0)/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(90deg)"}},right:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2),z:-($activeSide.outerWidth(!0)/2)};return{transform:"translateX("+translate.x+"px) translateZ("+translate.z+"px) rotateY(-90deg)"}},over:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2)};return{transform:"translateX("+translate.x+"px) rotateY(180deg)"}},back:function(){var translate={x:-(($activeSide.outerWidth(!0)-$nextSide.outerWidth(!0))/2)};return{transform:"translateX("+translate.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]},nextSide:function(){return $activeSide.next(selector.side).length>0?$activeSide.next(selector.side):$module.find(selector.side).first()}},stage:{above:function(){var box={origin:($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2,depth:{active:$nextSide.outerHeight(!0)/2,next:$activeSide.outerHeight(!0)/2}};module.verbose("Setting the initial animation position as above",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({top:box.origin+"px",transform:"rotateX(90deg) translateZ("+box.depth.next+"px)"})},below:function(){var box={origin:($activeSide.outerHeight(!0)-$nextSide.outerHeight(!0))/2,depth:{active:$nextSide.outerHeight(!0)/2,next:$activeSide.outerHeight(!0)/2}};module.verbose("Setting the initial animation position as below",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({top:box.origin+"px",transform:"rotateX(-90deg) translateZ("+box.depth.next+"px)"})},left:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(-90deg) translateZ("+box.depth.next+"px)"})},right:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as left",$nextSide,box),$sides.css({transform:"translateZ(-"+box.depth.active+"px)"}),$activeSide.css({transform:"rotateY(0deg) translateZ("+box.depth.active+"px)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(90deg) translateZ("+box.depth.next+"px)"})},behind:function(){var height={active:$activeSide.outerWidth(!0),next:$nextSide.outerWidth(!0)},box={origin:(height.active-height.next)/2,depth:{active:height.next/2,next:height.active/2}};module.verbose("Setting the initial animation position as behind",$nextSide,box),$activeSide.css({transform:"rotateY(0deg)"}),$nextSide.addClass(className.animating).css({left:box.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),
$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.sidebar=function(parameters){var returnedValue,$allModules=$(this),$window=$(window),$document=$(document),$html=$("html"),$head=$("head"),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)};return $allModules.each(function(){var $style,elementNamespace,id,currentScroll,transitionEvent,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sidebar.settings,parameters):$.extend({},$.fn.sidebar.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,regExp=settings.regExp,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$context=$(settings.context),$sidebars=$module.children(selector.sidebar),$fixed=$context.children(selector.fixed),$pusher=$context.children(selector.pusher),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing sidebar",parameters),module.create.id(),transitionEvent=module.get.transitionEvent(),module.is.ios()&&module.set.ios(),settings.delaySetup?requestAnimationFrame(module.setup.layout):module.setup.layout(),requestAnimationFrame(function(){module.setup.cache()}),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},create:{id:function(){id=(Math.random().toString(16)+"000000000").substr(2,8),elementNamespace="."+id,module.verbose("Creating unique id for element",id)}},destroy:function(){module.verbose("Destroying previous module for",$module),$module.off(eventNamespace).removeData(moduleNamespace),module.is.ios()&&module.remove.ios(),$context.off(elementNamespace),$window.off(elementNamespace),$document.off(elementNamespace)},event:{clickaway:function(event){var clickedInPusher=$pusher.find(event.target).length>0||$pusher.is(event.target),clickedContext=$context.is(event.target);clickedInPusher&&(module.verbose("User clicked on dimmed page"),module.hide()),clickedContext&&(module.verbose("User clicked on dimmable context (scaled out page)"),module.hide())},touch:function(){},containScroll:function(){element.scrollTop<=0&&(element.scrollTop=1),element.scrollTop+element.offsetHeight>=element.scrollHeight&&(element.scrollTop=element.scrollHeight-element.offsetHeight-1)},scroll:function(event){0===$(event.target).closest(selector.sidebar).length&&event.preventDefault()}},bind:{clickaway:function(){module.verbose("Adding clickaway events to context",$context),settings.closable&&$context.on("click"+elementNamespace,module.event.clickaway).on("touchend"+elementNamespace,module.event.clickaway)},scrollLock:function(){settings.scrollLock&&(module.debug("Disabling page scroll"),$window.on("DOMMouseScroll"+elementNamespace,module.event.scroll)),module.verbose("Adding events to contain sidebar scroll"),$document.on("touchmove"+elementNamespace,module.event.touch),$module.on("scroll"+eventNamespace,module.event.containScroll)}},unbind:{clickaway:function(){module.verbose("Removing clickaway events from context",$context),$context.off(elementNamespace)},scrollLock:function(){module.verbose("Removing scroll lock from page"),$document.off(elementNamespace),$window.off(elementNamespace),$module.off("scroll"+eventNamespace)}},add:{inlineCSS:function(){var style,width=module.cache.width||$module.outerWidth(),height=module.cache.height||$module.outerHeight(),isRTL=module.is.rtl(),direction=module.get.direction(),distance={left:width,right:-width,top:height,bottom:-height};isRTL&&(module.verbose("RTL detected, flipping widths"),distance.left=-width,distance.right=width),style="<style>","left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):("top"===direction||"bottom"==direction)&&(style+=" .ui.visible."+direction+".sidebar ~ .fixed, .ui.visible."+direction+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),module.is.ie()&&("left"===direction||"right"===direction?(module.debug("Adding CSS rules for animation distance",width),style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+distance[direction]+"px, 0, 0);           transform: translate3d("+distance[direction]+"px, 0, 0); }"):("top"===direction||"bottom"==direction)&&(style+=" body.pushable > .ui.visible."+direction+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+distance[direction]+"px, 0);           transform: translate3d(0, "+distance[direction]+"px, 0); }"),style+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),style+="</style>",$style=$(style).appendTo($head),module.debug("Adding sizing css to head",$style)}},refresh:function(){module.verbose("Refreshing selector cache"),$context=$(settings.context),$sidebars=$context.children(selector.sidebar),$pusher=$context.children(selector.pusher),$fixed=$context.children(selector.fixed),module.clear.cache()},refreshSidebars:function(){module.verbose("Refreshing other sidebars"),$sidebars=$context.children(selector.sidebar)},repaint:function(){module.verbose("Forcing repaint event"),element.style.display="none";element.offsetHeight;element.scrollTop=element.scrollTop,element.style.display=""},setup:{cache:function(){module.cache={width:$module.outerWidth(),height:$module.outerHeight(),rtl:"rtl"==$module.css("direction")}},layout:function(){0===$context.children(selector.pusher).length&&(module.debug("Adding wrapper element for sidebar"),module.error(error.pusher),$pusher=$('<div class="pusher" />'),$context.children().not(selector.omitted).not($sidebars).wrapAll($pusher),module.refresh()),(0===$module.nextAll(selector.pusher).length||$module.nextAll(selector.pusher)[0]!==$pusher[0])&&(module.debug("Moved sidebar to correct parent element"),module.error(error.movedSidebar,element),$module.detach().prependTo($context),module.refresh()),module.clear.cache(),module.set.pushable(),module.set.direction()}},attachEvents:function(selector,event){var $toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle,$toggle.length>0?(module.debug("Attaching sidebar events to element",selector,event),$toggle.on("click"+eventNamespace,event)):module.error(error.notFound,selector)},show:function(callback){if(callback=$.isFunction(callback)?callback:function(){},module.is.hidden()){if(module.refreshSidebars(),settings.overlay&&(module.error(error.overlay),settings.transition="overlay"),module.refresh(),module.othersActive())if(module.debug("Other sidebars currently visible"),settings.exclusive){if("overlay"!=settings.transition)return void module.hideOthers(module.show);module.hideOthers()}else settings.transition="overlay";module.pushPage(function(){callback.call(element),settings.onShow.call(element)}),settings.onChange.call(element),settings.onVisible.call(element)}else module.debug("Sidebar is already visible")},hide:function(callback){callback=$.isFunction(callback)?callback:function(){},(module.is.visible()||module.is.animating())&&(module.debug("Hiding sidebar",callback),module.refreshSidebars(),module.pullPage(function(){callback.call(element),settings.onHidden.call(element)}),settings.onChange.call(element),settings.onHide.call(element))},othersAnimating:function(){return $sidebars.not($module).filter("."+className.animating).length>0},othersVisible:function(){return $sidebars.not($module).filter("."+className.visible).length>0},othersActive:function(){return module.othersVisible()||module.othersAnimating()},hideOthers:function(callback){var $otherSidebars=$sidebars.not($module).filter("."+className.visible),sidebarCount=$otherSidebars.length,callbackCount=0;callback=callback||function(){},$otherSidebars.sidebar("hide",function(){callbackCount++,callbackCount==sidebarCount&&callback()})},toggle:function(){module.verbose("Determining toggled direction"),module.is.hidden()?module.show():module.hide()},pushPage:function(callback){var animate,dim,transitionEnd,transition=module.get.transition(),$transition="overlay"===transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},"scale down"==settings.transition&&module.scrollToTop(),module.set.transition(transition),module.repaint(),animate=function(){module.bind.clickaway(),module.add.inlineCSS(),module.set.animating(),module.set.visible()},dim=function(){module.set.dimmed()},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.bind.scrollLock(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate),settings.dimPage&&!module.othersVisible()&&requestAnimationFrame(dim)},pullPage:function(callback){var animate,transitionEnd,transition=module.get.transition(),$transition="overlay"==transition||module.othersActive()?$module:$pusher;callback=$.isFunction(callback)?callback:function(){},module.verbose("Removing context push state",module.get.direction()),module.unbind.clickaway(),module.unbind.scrollLock(),animate=function(){module.set.transition(transition),module.set.animating(),module.remove.visible(),settings.dimPage&&!module.othersVisible()&&$pusher.removeClass(className.dimmed)},transitionEnd=function(event){event.target==$transition[0]&&($transition.off(transitionEvent+elementNamespace,transitionEnd),module.remove.animating(),module.remove.transition(),module.remove.inlineCSS(),("scale down"==transition||settings.returnScroll&&module.is.mobile())&&module.scrollBack(),callback.call(element))},$transition.off(transitionEvent+elementNamespace),$transition.on(transitionEvent+elementNamespace,transitionEnd),requestAnimationFrame(animate)},scrollToTop:function(){module.verbose("Scrolling to top of page to avoid animation issues"),currentScroll=$(window).scrollTop(),$module.scrollTop(0),window.scrollTo(0,0)},scrollBack:function(){module.verbose("Scrolling back to original page position"),window.scrollTo(0,currentScroll)},clear:{cache:function(){module.verbose("Clearing cached dimensions"),module.cache={}}},set:{ios:function(){$html.addClass(className.ios)},pushed:function(){$context.addClass(className.pushed)},pushable:function(){$context.addClass(className.pushable)},dimmed:function(){$pusher.addClass(className.dimmed)},active:function(){$module.addClass(className.active)},animating:function(){$module.addClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.addClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.addClass(className[direction])},visible:function(){$module.addClass(className.visible)},overlay:function(){$module.addClass(className.overlay)}},remove:{inlineCSS:function(){module.debug("Removing inline css styles",$style),$style&&$style.length>0&&$style.remove()},ios:function(){$html.removeClass(className.ios)},pushed:function(){$context.removeClass(className.pushed)},pushable:function(){$context.removeClass(className.pushable)},active:function(){$module.removeClass(className.active)},animating:function(){$module.removeClass(className.animating)},transition:function(transition){transition=transition||module.get.transition(),$module.removeClass(transition)},direction:function(direction){direction=direction||module.get.direction(),$module.removeClass(className[direction])},visible:function(){$module.removeClass(className.visible)},overlay:function(){$module.removeClass(className.overlay)}},get:{direction:function(){return $module.hasClass(className.top)?className.top:$module.hasClass(className.right)?className.right:$module.hasClass(className.bottom)?className.bottom:className.left},transition:function(){var transition,direction=module.get.direction();return transition=module.is.mobile()?"auto"==settings.mobileTransition?settings.defaultTransition.mobile[direction]:settings.mobileTransition:"auto"==settings.transition?settings.defaultTransition.computer[direction]:settings.transition,module.verbose("Determined transition",transition),transition},transitionEvent:function(){var transition,element=document.createElement("element"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(transition in transitions)if(element.style[transition]!==undefined)return transitions[transition]}},is:{ie:function(){var isIE11=!window.ActiveXObject&&"ActiveXObject"in window,isIE="ActiveXObject"in window;return isIE11||isIE},ios:function(){var userAgent=navigator.userAgent,isIOS=userAgent.match(regExp.ios),isMobileChrome=userAgent.match(regExp.mobileChrome);return isIOS&&!isMobileChrome?(module.verbose("Browser was found to be iOS",userAgent),!0):!1},mobile:function(){var userAgent=navigator.userAgent,isMobile=userAgent.match(regExp.mobile);return isMobile?(module.verbose("Browser was found to be mobile",userAgent),!0):(module.verbose("Browser is not mobile, using regular transition",userAgent),!1)},hidden:function(){return!module.is.visible()},visible:function(){return $module.hasClass(className.visible)},open:function(){return module.is.visible()},closed:function(){return module.is.hidden()},vertical:function(){return $module.hasClass(className.top)},animating:function(){return $context.hasClass(className.animating)},rtl:function(){return module.cache.rtl===undefined&&(module.cache.rtl="rtl"==$module.css("direction")),module.cache.rtl}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&module.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.sticky=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var $container,$context,documentObserver,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.sticky.settings,parameters):$.extend({},$.fn.sticky.settings),className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$window=$(window),$scroll=$(settings.scrollContext),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this;module={initialize:function(){module.determineContainer(),module.determineContext(),module.verbose("Initializing sticky",settings,$container),module.save.positions(),module.checkErrors(),module.bind.events(),settings.observeChanges&&module.observeChanges(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous instance"),module.reset(),documentObserver&&documentObserver.disconnect(),observer&&observer.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$scroll.off("scrollchange"+eventNamespace,module.event.scrollchange),$module.removeData(moduleNamespace)},observeChanges:function(){"MutationObserver"in window&&(documentObserver=new MutationObserver(module.event.documentChanged),observer=new MutationObserver(module.event.changed),documentObserver.observe(document,{childList:!0,subtree:!0}),observer.observe(element,{childList:!0,subtree:!0}),observer.observe($context[0],{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},determineContainer:function(){$container=settings.container?$(settings.container):$module.offsetParent()},determineContext:function(){return $context=settings.context?$(settings.context):$container,0===$context.length?void module.error(error.invalidContext,settings.context,$module):void 0},checkErrors:function(){return module.is.hidden()&&module.error(error.visible,$module),module.cache.element.height>module.cache.context.height?(module.reset(),void module.error(error.elementSize,$module)):void 0},bind:{events:function(){$window.on("load"+eventNamespace,module.event.load).on("resize"+eventNamespace,module.event.resize),$scroll.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)}},event:{changed:function(mutations){clearTimeout(module.timer),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu",mutations),module.refresh()},100)},documentChanged:function(mutations){[].forEach.call(mutations,function(mutation){mutation.removedNodes&&[].forEach.call(mutation.removedNodes,function(node){(node==element||$(node).find(element).length>0)&&(module.debug("Element removed from DOM, tearing down events"),module.destroy())})})},load:function(){module.verbose("Page contents finished loading"),requestAnimationFrame(module.refresh)},resize:function(){module.verbose("Window resized"),requestAnimationFrame(module.refresh)},scroll:function(){requestAnimationFrame(function(){$scroll.triggerHandler("scrollchange"+eventNamespace,$scroll.scrollTop())})},scrollchange:function(event,scrollPosition){module.stick(scrollPosition),settings.onScroll.call(element)}},refresh:function(hardRefresh){module.reset(),settings.context||module.determineContext(),hardRefresh&&module.determineContainer(),module.save.positions(),module.stick(),settings.onReposition.call(element)},supports:{sticky:function(){{var $element=$("<div/>");$element[0]}return $element.addClass(className.supported),$element.css("position").match("sticky")}},save:{lastScroll:function(scroll){module.lastScroll=scroll},elementScroll:function(scroll){module.elementScroll=scroll},positions:function(){{var scrollContext={height:$scroll.height()},element={margin:{top:parseInt($module.css("margin-top"),10),bottom:parseInt($module.css("margin-bottom"),10)},offset:$module.offset(),width:$module.outerWidth(),height:$module.outerHeight()},context={offset:$context.offset(),height:$context.outerHeight()};({height:$container.outerHeight()})}module.is.standardScroll()||(module.debug("Non-standard scroll. Removing scroll offset from element offset"),scrollContext.top=$scroll.scrollTop(),scrollContext.left=$scroll.scrollLeft(),element.offset.top+=scrollContext.top,context.offset.top+=scrollContext.top,element.offset.left+=scrollContext.left,context.offset.left+=scrollContext.left),module.cache={fits:element.height<scrollContext.height,scrollContext:{height:scrollContext.height},element:{margin:element.margin,top:element.offset.top-element.margin.top,left:element.offset.left,width:element.width,height:element.height,bottom:element.offset.top+element.height},context:{top:context.offset.top,height:context.height,bottom:context.offset.top+context.height}},module.set.containerSize(),module.set.size(),module.stick(),module.debug("Caching element positions",module.cache)}},get:{direction:function(scroll){var direction="down";return scroll=scroll||$scroll.scrollTop(),module.lastScroll!==undefined&&(module.lastScroll<scroll?direction="down":module.lastScroll>scroll&&(direction="up")),direction},scrollChange:function(scroll){return scroll=scroll||$scroll.scrollTop(),module.lastScroll?scroll-module.lastScroll:0},currentElementScroll:function(){return module.elementScroll?module.elementScroll:module.is.top()?Math.abs(parseInt($module.css("top"),10))||0:Math.abs(parseInt($module.css("bottom"),10))||0},elementScroll:function(scroll){scroll=scroll||$scroll.scrollTop();var element=module.cache.element,scrollContext=module.cache.scrollContext,delta=module.get.scrollChange(scroll),maxScroll=element.height-scrollContext.height+settings.offset,elementScroll=module.get.currentElementScroll(),possibleScroll=elementScroll+delta;return elementScroll=module.cache.fits||0>possibleScroll?0:possibleScroll>maxScroll?maxScroll:possibleScroll}},remove:{lastScroll:function(){delete module.lastScroll},elementScroll:function(){delete module.elementScroll},offset:function(){$module.css("margin-top","")}},set:{offset:function(){module.verbose("Setting offset on element",settings.offset),$module.css("margin-top",settings.offset)},containerSize:function(){var tagName=$container.get(0).tagName;"HTML"===tagName||"body"==tagName?module.determineContainer():Math.abs($container.outerHeight()-module.cache.context.height)>settings.jitter&&(module.debug("Context has padding, specifying exact height for container",module.cache.context.height),$container.css({height:module.cache.context.height}))},minimumSize:function(){var element=module.cache.element;$container.css("min-height",element.height)},scroll:function(scroll){module.debug("Setting scroll on element",scroll),module.elementScroll!=scroll&&(module.is.top()&&$module.css("bottom","").css("top",-scroll),module.is.bottom()&&$module.css("top","").css("bottom",scroll))},size:function(){0!==module.cache.element.height&&0!==module.cache.element.width&&(element.style.setProperty("width",module.cache.element.width+"px","important"),element.style.setProperty("height",module.cache.element.height+"px","important"))}},is:{standardScroll:function(){return $scroll[0]==window},top:function(){return $module.hasClass(className.top)},bottom:function(){return $module.hasClass(className.bottom)},initialPosition:function(){return!module.is.fixed()&&!module.is.bound()},hidden:function(){return!$module.is(":visible")},bound:function(){return $module.hasClass(className.bound)},fixed:function(){return $module.hasClass(className.fixed)}},stick:function(scroll){var cachedPosition=scroll||$scroll.scrollTop(),cache=module.cache,fits=cache.fits,element=cache.element,scrollContext=cache.scrollContext,context=cache.context,offset=module.is.bottom()&&settings.pushing?settings.bottomOffset:settings.offset,scroll={top:cachedPosition+offset,bottom:cachedPosition+offset+scrollContext.height},elementScroll=(module.get.direction(scroll.top),fits?0:module.get.elementScroll(scroll.top)),doesntFit=!fits,elementVisible=0!==element.height;elementVisible&&(module.is.initialPosition()?scroll.top>=context.bottom?(module.debug("Initial element position is bottom of container"),module.bindBottom()):scroll.top>element.top&&(element.height+scroll.top-elementScroll>=context.bottom?(module.debug("Initial element position is bottom of container"),module.bindBottom()):(module.debug("Initial element position is fixed"),module.fixTop())):module.is.fixed()?module.is.top()?scroll.top<=element.top?(module.debug("Fixed element reached top of container"),module.setInitialPosition()):element.height+scroll.top-elementScroll>=context.bottom?(module.debug("Fixed element reached bottom of container"),module.bindBottom()):doesntFit&&(module.set.scroll(elementScroll),module.save.lastScroll(scroll.top),module.save.elementScroll(elementScroll)):module.is.bottom()&&(scroll.bottom-element.height<=element.top?(module.debug("Bottom fixed rail has reached top of container"),module.setInitialPosition()):scroll.bottom>=context.bottom?(module.debug("Bottom fixed rail has reached bottom of container"),module.bindBottom()):doesntFit&&(module.set.scroll(elementScroll),module.save.lastScroll(scroll.top),module.save.elementScroll(elementScroll))):module.is.bottom()&&(scroll.top<=element.top?(module.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),module.setInitialPosition()):settings.pushing?module.is.bound()&&scroll.bottom<=context.bottom&&(module.debug("Fixing bottom attached element to bottom of browser."),module.fixBottom()):module.is.bound()&&scroll.top<=context.bottom-element.height&&(module.debug("Fixing bottom attached element to top of browser."),module.fixTop())))},bindTop:function(){module.debug("Binding element to top of parent container"),module.remove.offset(),$module.css({left:"",top:"",marginBottom:""}).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top),
settings.onTop.call(element),settings.onUnstick.call(element)},bindBottom:function(){module.debug("Binding element to bottom of parent container"),module.remove.offset(),$module.css({left:"",top:""}).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom),settings.onBottom.call(element),settings.onUnstick.call(element)},setInitialPosition:function(){module.debug("Returning to initial position"),module.unfix(),module.unbind()},fixTop:function(){module.debug("Fixing element to top of page"),module.set.minimumSize(),module.set.offset(),$module.css({left:module.cache.element.left,bottom:"",marginBottom:""}).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top),settings.onStick.call(element)},fixBottom:function(){module.debug("Sticking element to bottom of page"),module.set.minimumSize(),module.set.offset(),$module.css({left:module.cache.element.left,bottom:"",marginBottom:""}).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom),settings.onStick.call(element)},unbind:function(){module.is.bound()&&(module.debug("Removing container bound position on element"),module.remove.offset(),$module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom))},unfix:function(){module.is.fixed()&&(module.debug("Removing fixed position on element"),module.remove.offset(),$module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom),settings.onUnstick.call(element))},reset:function(){module.debug("Resetting elements position"),module.unbind(),module.unfix(),module.resetCSS(),module.remove.offset(),module.remove.lastScroll()},resetCSS:function(){$module.css({width:"",height:""}),$container.css({height:""})},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,0)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:window,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.tab=function(parameters){var returnedValue,$allModules=$($.isFunction(this)?window:this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),initializedHistory=!1;return $allModules.each(function(){var $context,$tabs,activeTabPath,parameterArray,module,historyEvent,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.tab.settings,parameters):$.extend({},$.fn.tab.settings),className=settings.className,metadata=settings.metadata,selector=settings.selector,error=settings.error,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,$module=$(this),cache={},firstLoad=!0,recursionDepth=0,element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.debug("Initializing tab menu item",$module),module.fix.callbacks(),module.determineTabs(),module.debug("Determining tabs",settings.context,$tabs),settings.auto&&module.set.auto(),module.bind.events(),settings.history&&!initializedHistory&&(module.initializeHistory(),initializedHistory=!0),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.debug("Destroying tabs",$module),$module.removeData(moduleNamespace).off(eventNamespace)},bind:{events:function(){$.isWindow(element)||(module.debug("Attaching tab activation events to element",$module),$module.on("click"+eventNamespace,module.event.click))}},determineTabs:function(){var $reference;"parent"===settings.context?($module.closest(selector.ui).length>0?($reference=$module.closest(selector.ui),module.verbose("Using closest UI element as parent",$reference)):$reference=$module,$context=$reference.parent(),module.verbose("Determined parent element for creating context",$context)):settings.context?($context=$(settings.context),module.verbose("Using selector for tab context",settings.context,$context)):$context=$("body"),settings.childrenOnly?($tabs=$context.children(selector.tabs),module.debug("Searching tab context children for tabs",$context,$tabs)):($tabs=$context.find(selector.tabs),module.debug("Searching tab context for tabs",$context,$tabs))},fix:{callbacks:function(){$.isPlainObject(parameters)&&(parameters.onTabLoad||parameters.onTabInit)&&(parameters.onTabLoad&&(parameters.onLoad=parameters.onTabLoad,delete parameters.onTabLoad,module.error(error.legacyLoad,parameters.onLoad)),parameters.onTabInit&&(parameters.onFirstLoad=parameters.onTabInit,delete parameters.onTabInit,module.error(error.legacyInit,parameters.onFirstLoad)),settings=$.extend(!0,{},$.fn.tab.settings,parameters))}},initializeHistory:function(){if(module.debug("Initializing page state"),$.address===undefined)return module.error(error.state),!1;if("state"==settings.historyType){if(module.debug("Using HTML5 to manage state"),settings.path===!1)return module.error(error.path),!1;$.address.history(!0).state(settings.path)}$.address.bind("change",module.event.history.change)},event:{click:function(event){var tabPath=$(this).data(metadata.tab);tabPath!==undefined?(settings.history?(module.verbose("Updating page state",event),$.address.value(tabPath)):(module.verbose("Changing tab",event),module.changeTab(tabPath)),event.preventDefault()):module.debug("No tab specified")},history:{change:function(event){var tabPath=event.pathNames.join("/")||module.get.initialPath(),pageTitle=settings.templates.determineTitle(tabPath)||!1;module.performance.display(),module.debug("History change event",tabPath,event),historyEvent=event,tabPath!==undefined&&module.changeTab(tabPath),pageTitle&&$.address.title(pageTitle)}}},refresh:function(){activeTabPath&&(module.debug("Refreshing tab",activeTabPath),module.changeTab(activeTabPath))},cache:{read:function(cacheKey){return cacheKey!==undefined?cache[cacheKey]:!1},add:function(cacheKey,content){cacheKey=cacheKey||activeTabPath,module.debug("Adding cached content for",cacheKey),cache[cacheKey]=content},remove:function(cacheKey){cacheKey=cacheKey||activeTabPath,module.debug("Removing cached content for",cacheKey),delete cache[cacheKey]}},set:{auto:function(){var url="string"==typeof settings.path?settings.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";module.verbose("Setting up automatic tab retrieval from server",url),$.isPlainObject(settings.apiSettings)?settings.apiSettings.url=url:settings.apiSettings={url:url}},loading:function(tabPath){var $tab=module.get.tabElement(tabPath),isLoading=$tab.hasClass(className.loading);isLoading||(module.verbose("Setting loading state for",$tab),$tab.addClass(className.loading).siblings($tabs).removeClass(className.active+" "+className.loading),$tab.length>0&&settings.onRequest.call($tab[0],tabPath))},state:function(state){$.address.value(state)}},changeTab:function(tabPath){var pushStateAvailable=window.history&&window.history.pushState,shouldIgnoreLoad=pushStateAvailable&&settings.ignoreFirstLoad&&firstLoad,remoteContent=settings.auto||$.isPlainObject(settings.apiSettings),pathArray=remoteContent&&!shouldIgnoreLoad?module.utilities.pathToArray(tabPath):module.get.defaultPathArray(tabPath);tabPath=module.utilities.arrayToPath(pathArray),$.each(pathArray,function(index,tab){var $anchor,nextPathArray,nextPath,isLastTab,currentPathArray=pathArray.slice(0,index+1),currentPath=module.utilities.arrayToPath(currentPathArray),isTab=module.is.tab(currentPath),isLastIndex=index+1==pathArray.length,$tab=module.get.tabElement(currentPath);if(module.verbose("Looking for tab",tab),isTab){if(module.verbose("Tab was found",tab),activeTabPath=currentPath,parameterArray=module.utilities.filterArray(pathArray,currentPathArray),isLastIndex?isLastTab=!0:(nextPathArray=pathArray.slice(0,index+2),nextPath=module.utilities.arrayToPath(nextPathArray),isLastTab=!module.is.tab(nextPath),isLastTab&&module.verbose("Tab parameters found",nextPathArray)),isLastTab&&remoteContent)return shouldIgnoreLoad?(module.debug("Ignoring remote content on first tab load",currentPath),firstLoad=!1,module.cache.add(tabPath,$tab.html()),module.activate.all(currentPath),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent)):(module.activate.navigation(currentPath),module.fetch.content(currentPath,tabPath)),!1;module.debug("Opened local tab",currentPath),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent)),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent)}else{if(-1!=tabPath.search("/")||""===tabPath)return module.error(error.missingTab,$module,$context,currentPath),!1;if($anchor=$("#"+tabPath+', a[name="'+tabPath+'"]'),currentPath=$anchor.closest("[data-tab]").data(metadata.tab),$tab=module.get.tabElement(currentPath),$anchor&&$anchor.length>0&&currentPath)return module.debug("Anchor link used, opening parent tab",$tab,$anchor),$tab.hasClass(className.active)||setTimeout(function(){module.scrollTo($anchor)},0),module.activate.all(currentPath),module.cache.read(currentPath)||(module.cache.add(currentPath,!0),module.debug("First time tab loaded calling tab init"),settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent)),settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent),!1}})},scrollTo:function($element){var scrollOffset=$element&&$element.length>0?$element.offset().top:!1;scrollOffset!==!1&&(module.debug("Forcing scroll to an in-page link in a hidden tab",scrollOffset,$element),$(document).scrollTop(scrollOffset))},update:{content:function(tabPath,html,evaluateScripts){var $tab=module.get.tabElement(tabPath),tab=$tab[0];evaluateScripts=evaluateScripts!==undefined?evaluateScripts:settings.evaluateScripts,"string"==typeof settings.cacheType&&"dom"==settings.cacheType.toLowerCase()&&"string"!=typeof html?$tab.empty().append($(html).clone(!0)):evaluateScripts?(module.debug("Updating HTML and evaluating inline scripts",tabPath,html),$tab.html(html)):(module.debug("Updating HTML",tabPath,html),tab.innerHTML=html)}},fetch:{content:function(tabPath,fullTabPath){var requestSettings,cachedContent,$tab=module.get.tabElement(tabPath),apiSettings={dataType:"html",encodeParameters:!1,on:"now",cache:settings.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(response){"response"==settings.cacheType&&module.cache.add(fullTabPath,response),module.update.content(tabPath,response),tabPath==activeTabPath?(module.debug("Content loaded",tabPath),module.activate.tab(tabPath)):module.debug("Content loaded in background",tabPath),settings.onFirstLoad.call($tab[0],tabPath,parameterArray,historyEvent),settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent),settings.loadOnce?module.cache.add(fullTabPath,!0):"string"==typeof settings.cacheType&&"dom"==settings.cacheType.toLowerCase()&&$tab.children().length>0?setTimeout(function(){var $clone=$tab.children().clone(!0);$clone=$clone.not("script"),module.cache.add(fullTabPath,$clone)},0):module.cache.add(fullTabPath,$tab.html())},urlData:{tab:fullTabPath}},request=$tab.api("get request")||!1,existingRequest=request&&"pending"===request.state();fullTabPath=fullTabPath||tabPath,cachedContent=module.cache.read(fullTabPath),settings.cache&&cachedContent?(module.activate.tab(tabPath),module.debug("Adding cached content",fullTabPath),settings.loadOnce||("once"==settings.evaluateScripts?module.update.content(tabPath,cachedContent,!1):module.update.content(tabPath,cachedContent)),settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent)):existingRequest?(module.set.loading(tabPath),module.debug("Content is already loading",fullTabPath)):$.api!==undefined?(requestSettings=$.extend(!0,{},settings.apiSettings,apiSettings),module.debug("Retrieving remote content",fullTabPath,requestSettings),module.set.loading(tabPath),$tab.api(requestSettings)):module.error(error.api)}},activate:{all:function(tabPath){module.activate.tab(tabPath),module.activate.navigation(tabPath)},tab:function(tabPath){var $tab=module.get.tabElement(tabPath),$deactiveTabs="siblings"==settings.deactivate?$tab.siblings($tabs):$tabs.not($tab),isActive=$tab.hasClass(className.active);module.verbose("Showing tab content for",$tab),isActive||($tab.addClass(className.active),$deactiveTabs.removeClass(className.active+" "+className.loading),$tab.length>0&&settings.onVisible.call($tab[0],tabPath))},navigation:function(tabPath){var $navigation=module.get.navElement(tabPath),$deactiveNavigation="siblings"==settings.deactivate?$navigation.siblings($allModules):$allModules.not($navigation),isActive=$navigation.hasClass(className.active);module.verbose("Activating tab navigation for",$navigation,tabPath),isActive||($navigation.addClass(className.active),$deactiveNavigation.removeClass(className.active+" "+className.loading))}},deactivate:{all:function(){module.deactivate.navigation(),module.deactivate.tabs()},navigation:function(){$allModules.removeClass(className.active)},tabs:function(){$tabs.removeClass(className.active+" "+className.loading)}},is:{tab:function(tabName){return tabName!==undefined?module.get.tabElement(tabName).length>0:!1}},get:{initialPath:function(){return $allModules.eq(0).data(metadata.tab)||$tabs.eq(0).data(metadata.tab)},path:function(){return $.address.value()},defaultPathArray:function(tabPath){return module.utilities.pathToArray(module.get.defaultPath(tabPath))},defaultPath:function(tabPath){var $defaultNav=$allModules.filter("[data-"+metadata.tab+'^="'+tabPath+'/"]').eq(0),defaultTab=$defaultNav.data(metadata.tab)||!1;if(defaultTab){if(module.debug("Found default tab",defaultTab),recursionDepth<settings.maxDepth)return recursionDepth++,module.get.defaultPath(defaultTab);module.error(error.recursion)}else module.debug("No default tabs found for",tabPath,$tabs);return recursionDepth=0,tabPath},navElement:function(tabPath){return tabPath=tabPath||activeTabPath,$allModules.filter("[data-"+metadata.tab+'="'+tabPath+'"]')},tabElement:function(tabPath){var $fullPathTab,$simplePathTab,tabPathArray,lastTab;return tabPath=tabPath||activeTabPath,tabPathArray=module.utilities.pathToArray(tabPath),lastTab=module.utilities.last(tabPathArray),$fullPathTab=$tabs.filter("[data-"+metadata.tab+'="'+tabPath+'"]'),$simplePathTab=$tabs.filter("[data-"+metadata.tab+'="'+lastTab+'"]'),$fullPathTab.length>0?$fullPathTab:$simplePathTab},tab:function(){return activeTabPath}},utilities:{filterArray:function(keepArray,removeArray){return $.grep(keepArray,function(keepValue){return-1==$.inArray(keepValue,removeArray)})},last:function(array){return $.isArray(array)?array[array.length-1]:!1},pathToArray:function(pathName){return pathName===undefined&&(pathName=activeTabPath),"string"==typeof pathName?pathName.split("/"):[pathName]},arrayToPath:function(pathArray){return $.isArray(pathArray)?pathArray.join("/"):!1}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.tab=function(){$(window).tab.apply(this,arguments)},$.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(){},onLoad:function(){},onVisible:function(){},onRequest:function(){},templates:{determineTitle:function(){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.transition=function(){{var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],moduleArguments=arguments,query=moduleArguments[0],queryArguments=[].slice.call(arguments,1),methodInvoked="string"==typeof query;window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)}}return $allModules.each(function(index){var settings,instance,error,className,metadata,animationEnd,moduleNamespace,eventNamespace,module,$module=$(this),element=this;module={initialize:function(){settings=module.get.settings.apply(element,moduleArguments),className=settings.className,error=settings.error,metadata=settings.metadata,eventNamespace="."+settings.namespace,moduleNamespace="module-"+settings.namespace,instance=$module.data(moduleNamespace)||module,animationEnd=module.get.animationEndEvent(),methodInvoked&&(methodInvoked=module.invoke(query)),methodInvoked===!1&&(module.verbose("Converted arguments into settings object",settings),settings.interval?module.delay(settings.animate):module.animate(),module.instantiate())},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing display type on next animation"),delete module.displayType},forceRepaint:function(){module.verbose("Forcing element repaint");var $parentElement=$module.parent(),$nextElement=$module.next();0===$nextElement.length?$module.detach().appendTo($parentElement):$module.detach().insertBefore($nextElement)},repaint:function(){module.verbose("Repainting element");element.offsetWidth},delay:function(interval){var shouldReverse,delay,direction=module.get.animationDirection();direction||(direction=module.can.transition()?module.get.direction():"static"),interval=interval!==undefined?interval:settings.interval,shouldReverse="auto"==settings.reverse&&direction==className.outward,delay=shouldReverse||1==settings.reverse?($allModules.length-index)*settings.interval:index*settings.interval,module.debug("Delaying animation by",delay),setTimeout(module.animate,delay)},animate:function(overrideSettings){if(settings=overrideSettings||settings,!module.is.supported())return module.error(error.support),!1;if(module.debug("Preparing animation",settings.animation),module.is.animating()){if(settings.queue)return!settings.allowRepeats&&module.has.direction()&&module.is.occurring()&&module.queuing!==!0?module.debug("Animation is currently occurring, preventing queueing same animation",settings.animation):module.queue(settings.animation),!1;if(!settings.allowRepeats&&module.is.occurring())return module.debug("Animation is already occurring, will not execute repeated animation",settings.animation),!1;module.debug("New animation started, completing previous early",settings.animation),instance.complete()}module.can.animate()?module.set.animating(settings.animation):module.error(error.noAnimation,settings.animation,element)},reset:function(){module.debug("Resetting animation to beginning conditions"),module.remove.animationCallbacks(),module.restore.conditions(),module.remove.animating()},queue:function(animation){module.debug("Queueing animation of",animation),module.queuing=!0,$module.one(animationEnd+".queue"+eventNamespace,function(){module.queuing=!1,module.repaint(),module.animate.apply(this,settings)})},complete:function(){module.debug("Animation complete",settings.animation),module.remove.completeCallback(),module.remove.failSafe(),module.is.looping()||(module.is.outward()?(module.verbose("Animation is outward, hiding element"),module.restore.conditions(),module.hide()):module.is.inward()?(module.verbose("Animation is outward, showing element"),module.restore.conditions(),module.show()):(module.verbose("Static animation completed"),module.restore.conditions(),settings.onComplete.call(element)))},force:{visible:function(){var style=$module.attr("style"),userStyle=module.get.userStyle(),displayType=module.get.displayType(),overrideStyle=userStyle+"display: "+displayType+" !important;",currentDisplay=$module.css("display"),emptyStyle=style===undefined||""===style;currentDisplay!==displayType?(module.verbose("Overriding default display to show element",displayType),$module.attr("style",overrideStyle)):emptyStyle&&$module.removeAttr("style")},hidden:function(){var style=$module.attr("style"),currentDisplay=$module.css("display"),emptyStyle=style===undefined||""===style;"none"===currentDisplay||module.is.hidden()?emptyStyle&&$module.removeAttr("style"):(module.verbose("Overriding default display to hide element"),$module.css("display","none"))}},has:{direction:function(animation){var hasDirection=!1;return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){(word===className.inward||word===className.outward)&&(hasDirection=!0)})),hasDirection},inlineDisplay:function(){var style=$module.attr("style")||"";return $.isArray(style.match(/display.*?;/,""))}},set:{animating:function(animation){var animationClass;module.remove.completeCallback(),animation=animation||settings.animation,animationClass=module.get.animationClass(animation),module.save.animation(animationClass),module.force.visible(),module.remove.hidden(),module.remove.direction(),module.start.animation(animationClass)},duration:function(animationName,duration){duration=duration||settings.duration,duration="number"==typeof duration?duration+"ms":duration,(duration||0===duration)&&(module.verbose("Setting animation duration",duration),$module.css({"animation-duration":duration}))},direction:function(direction){direction=direction||module.get.direction(),direction==className.inward?module.set.inward():module.set.outward()},looping:function(){module.debug("Transition set to loop"),$module.addClass(className.looping)},hidden:function(){$module.addClass(className.transition).addClass(className.hidden)},inward:function(){module.debug("Setting direction to inward"),$module.removeClass(className.outward).addClass(className.inward)},outward:function(){module.debug("Setting direction to outward"),$module.removeClass(className.inward).addClass(className.outward)},visible:function(){$module.addClass(className.transition).addClass(className.visible)}},start:{animation:function(animationClass){animationClass=animationClass||module.get.animationClass(),module.debug("Starting tween",animationClass),$module.addClass(animationClass).one(animationEnd+".complete"+eventNamespace,module.complete),settings.useFailSafe&&module.add.failSafe(),module.set.duration(settings.duration),settings.onStart.call(element)}},save:{animation:function(animation){module.cache||(module.cache={}),module.cache.animation=animation},displayType:function(displayType){"none"!==displayType&&$module.data(metadata.displayType,displayType)},transitionExists:function(animation,exists){$.fn.transition.exists[animation]=exists,module.verbose("Saving existence of transition",animation,exists)}},restore:{conditions:function(){var animation=module.get.currentAnimation();animation&&($module.removeClass(animation),module.verbose("Removing animation class",module.cache)),module.remove.duration()}},add:{failSafe:function(){var duration=module.get.duration();module.timer=setTimeout(function(){$module.triggerHandler(animationEnd)},duration+settings.failSafeDelay),module.verbose("Adding fail safe timer",module.timer)}},remove:{animating:function(){$module.removeClass(className.animating)},animationCallbacks:function(){module.remove.queueCallback(),module.remove.completeCallback()},queueCallback:function(){$module.off(".queue"+eventNamespace)},completeCallback:function(){$module.off(".complete"+eventNamespace)},display:function(){$module.css("display","")},direction:function(){$module.removeClass(className.inward).removeClass(className.outward)},duration:function(){$module.css("animation-duration","")},failSafe:function(){module.verbose("Removing fail safe timer",module.timer),module.timer&&clearTimeout(module.timer);

},hidden:function(){$module.removeClass(className.hidden)},visible:function(){$module.removeClass(className.visible)},looping:function(){module.debug("Transitions are no longer looping"),module.is.looping()&&(module.reset(),$module.removeClass(className.looping))},transition:function(){$module.removeClass(className.visible).removeClass(className.hidden)}},get:{settings:function(animation,duration,onComplete){return"object"==typeof animation?$.extend(!0,{},$.fn.transition.settings,animation):"function"==typeof onComplete?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:onComplete,duration:duration}):"string"==typeof duration||"number"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,duration:duration}):"object"==typeof duration?$.extend({},$.fn.transition.settings,duration,{animation:animation}):"function"==typeof duration?$.extend({},$.fn.transition.settings,{animation:animation,onComplete:duration}):$.extend({},$.fn.transition.settings,{animation:animation})},animationClass:function(animation){var animationClass=animation||settings.animation,directionClass=module.can.transition()&&!module.has.direction()?module.get.direction()+" ":"";return className.animating+" "+className.transition+" "+directionClass+animationClass},currentAnimation:function(){return module.cache&&module.cache.animation!==undefined?module.cache.animation:!1},currentDirection:function(){return module.is.inward()?className.inward:className.outward},direction:function(){return module.is.hidden()||!module.is.visible()?className.inward:className.outward},animationDirection:function(animation){var direction;return animation=animation||settings.animation,"string"==typeof animation&&(animation=animation.split(" "),$.each(animation,function(index,word){word===className.inward?direction=className.inward:word===className.outward&&(direction=className.outward)})),direction?direction:!1},duration:function(duration){return duration=duration||settings.duration,duration===!1&&(duration=$module.css("animation-duration")||0),"string"==typeof duration?duration.indexOf("ms")>-1?parseFloat(duration):1e3*parseFloat(duration):duration},displayType:function(shouldDetermine){return shouldDetermine=shouldDetermine!==undefined?shouldDetermine:!0,settings.displayType?settings.displayType:(shouldDetermine&&$module.data(metadata.displayType)===undefined&&module.can.transition(!0),$module.data(metadata.displayType))},userStyle:function(style){return style=style||$module.attr("style")||"",style.replace(/display.*?;/,"")},transitionExists:function(animation){return $.fn.transition.exists[animation]},animationStartEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1},animationEndEvent:function(){var animation,element=document.createElement("div"),animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(animation in animations)if(element.style[animation]!==undefined)return animations[animation];return!1}},can:{transition:function(forced){var elementClass,tagName,$clone,currentAnimation,inAnimation,directionExists,animation=settings.animation,transitionExists=module.get.transitionExists(animation),displayType=module.get.displayType(!1);if(transitionExists===undefined||forced){if(module.verbose("Determining whether animation exists"),elementClass=$module.attr("class"),tagName=$module.prop("tagName"),$clone=$("<"+tagName+" />").addClass(elementClass).insertAfter($module),currentAnimation=$clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css("animationName"),inAnimation=$clone.addClass(className.inward).css("animationName"),displayType||(displayType=$clone.attr("class",elementClass).removeAttr("style").removeClass(className.hidden).removeClass(className.visible).show().css("display"),module.verbose("Determining final display state",displayType),module.save.displayType(displayType)),$clone.remove(),currentAnimation!=inAnimation)module.debug("Direction exists for animation",animation),directionExists=!0;else{if("none"==currentAnimation||!currentAnimation)return void module.debug("No animation defined in css",animation);module.debug("Static animation found",animation,displayType),directionExists=!1}module.save.transitionExists(animation,directionExists)}return transitionExists!==undefined?transitionExists:directionExists},animate:function(){return module.can.transition()!==undefined}},is:{animating:function(){return $module.hasClass(className.animating)},inward:function(){return $module.hasClass(className.inward)},outward:function(){return $module.hasClass(className.outward)},looping:function(){return $module.hasClass(className.looping)},occurring:function(animation){return animation=animation||settings.animation,animation="."+animation.replace(" ","."),$module.filter(animation).length>0},visible:function(){return $module.is(":visible")},hidden:function(){return"hidden"===$module.css("visibility")},supported:function(){return animationEnd!==!1}},hide:function(){module.verbose("Hiding element"),module.is.animating()&&module.reset(),element.blur(),module.remove.display(),module.remove.visible(),module.set.hidden(),module.force.hidden(),settings.onHide.call(element),settings.onComplete.call(element)},show:function(display){module.verbose("Showing element",display),module.remove.hidden(),module.set.visible(),module.force.visible(),settings.onShow.call(element),settings.onComplete.call(element)},toggle:function(){module.is.visible()?module.hide():module.show()},stop:function(){module.debug("Stopping current animation"),$module.triggerHandler(animationEnd)},stopAll:function(){module.debug("Stopping all animation"),module.remove.queueCallback(),$module.triggerHandler(animationEnd)},clear:{queue:function(){module.debug("Clearing animation queue"),module.remove.queueCallback()}},enable:function(){module.verbose("Starting animation"),$module.removeClass(className.disabled)},disable:function(){module.debug("Stopping animation"),$module.addClass(className.disabled)},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),$allModules.length>1&&(title+=" ("+$allModules.length+")"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):!1;object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found!==undefined?found:!1}},module.initialize()}),returnedValue!==undefined?returnedValue:this},$.fn.transition.exists={},$.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";var window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();$.api=$.fn.api=function(parameters){var returnedValue,$allModules=$($.isFunction(this)?window:this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var ajaxSettings,requestSettings,url,data,requestStartTime,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.api.settings,parameters):$.extend({},$.fn.api.settings),namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$module=$(this),$form=$module.closest(selector.form),$context=settings.stateContext?$(settings.stateContext):$module,element=this,context=$context[0],instance=$module.data(moduleNamespace);module={initialize:function(){methodInvoked||module.bind.events(),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,instance)},destroy:function(){module.verbose("Destroying previous module for",element),$module.removeData(moduleNamespace).off(eventNamespace)},bind:{events:function(){var triggerEvent=module.get.event();triggerEvent?(module.verbose("Attaching API events to element",triggerEvent),$module.on(triggerEvent+eventNamespace,module.event.trigger)):"now"==settings.on&&(module.debug("Querying API endpoint immediately"),module.query())}},decode:{json:function(response){if(response!==undefined&&"string"==typeof response)try{response=JSON.parse(response)}catch(e){}return response}},read:{cachedResponse:function(url){var response;return window.Storage===undefined?void module.error(error.noStorage):(response=sessionStorage.getItem(url),module.debug("Using cached response",url,response),response=module.decode.json(response))}},write:{cachedResponse:function(url,response){return response&&""===response?void module.debug("Response empty, not caching",response):window.Storage===undefined?void module.error(error.noStorage):($.isPlainObject(response)&&(response=JSON.stringify(response)),sessionStorage.setItem(url,response),void module.verbose("Storing cached response for url",url,response))}},query:function(){if(module.is.disabled())return void module.debug("Element is disabled API request aborted");if(module.is.loading()){if(!settings.interruptRequests)return void module.debug("Cancelling request, previous request is still pending");module.debug("Interrupting previous request"),module.abort()}return settings.defaultData&&$.extend(!0,settings.urlData,module.get.defaultData()),settings.serializeForm&&(settings.data=module.add.formData(settings.data)),requestSettings=module.get.settings(),requestSettings===!1?(module.cancelled=!0,void module.error(error.beforeSend)):(module.cancelled=!1,url=module.get.templatedURL(),url||module.is.mocked()?(url=module.add.urlData(url),url||module.is.mocked()?(requestSettings.url=settings.base+url,ajaxSettings=$.extend(!0,{},settings,{type:settings.method||settings.type,data:data,url:settings.base+url,beforeSend:settings.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),module.debug("Querying URL",ajaxSettings.url),module.verbose("Using AJAX settings",ajaxSettings),"local"===settings.cache&&module.read.cachedResponse(url)?(module.debug("Response returned from local cache"),module.request=module.create.request(),void module.request.resolveWith(context,[module.read.cachedResponse(url)])):void(settings.throttle?settings.throttleFirstRequest||module.timer?(module.debug("Throttling request",settings.throttle),clearTimeout(module.timer),module.timer=setTimeout(function(){module.timer&&delete module.timer,module.debug("Sending throttled request",data,ajaxSettings.method),module.send.request()},settings.throttle)):(module.debug("Sending request",data,ajaxSettings.method),module.send.request(),module.timer=setTimeout(function(){},settings.throttle)):(module.debug("Sending request",data,ajaxSettings.method),module.send.request()))):void 0):void module.error(error.missingURL))},should:{removeError:function(){return settings.hideError===!0||"auto"===settings.hideError&&!module.is.form()}},is:{disabled:function(){return $module.filter(selector.disabled).length>0},expectingJSON:function(){return"json"===settings.dataType||"jsonp"===settings.dataType},form:function(){return $module.is("form")||$context.is("form")},mocked:function(){return settings.mockResponse||settings.mockResponseAsync||settings.response||settings.responseAsync},input:function(){return $module.is("input")},loading:function(){return module.request?"pending"==module.request.state():!1},abortedRequest:function(xhr){return xhr&&xhr.readyState!==undefined&&0===xhr.readyState?(module.verbose("XHR request determined to be aborted"),!0):(module.verbose("XHR request was not aborted"),!1)},validResponse:function(response){return module.is.expectingJSON()&&$.isFunction(settings.successTest)?(module.debug("Checking JSON returned success",settings.successTest,response),settings.successTest(response)?(module.debug("Response passed success test",response),!0):(module.debug("Response failed success test",response),!1)):(module.verbose("Response is not JSON, skipping validation",settings.successTest,response),!0)}},was:{cancelled:function(){return module.cancelled||!1},succesful:function(){return module.request&&"resolved"==module.request.state()},failure:function(){return module.request&&"rejected"==module.request.state()},complete:function(){return module.request&&("resolved"==module.request.state()||"rejected"==module.request.state())}},add:{urlData:function(url,urlData){var requiredVariables,optionalVariables;return url&&(requiredVariables=url.match(settings.regExp.required),optionalVariables=url.match(settings.regExp.optional),urlData=urlData||settings.urlData,requiredVariables&&(module.debug("Looking for required URL variables",requiredVariables),$.each(requiredVariables,function(index,templatedString){var variable=-1!==templatedString.indexOf("$")?templatedString.substr(2,templatedString.length-3):templatedString.substr(1,templatedString.length-2),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];return value===undefined?(module.error(error.requiredParameter,variable,url),url=!1,!1):(module.verbose("Found required variable",variable,value),value=settings.encodeParameters?module.get.urlEncodedValue(value):value,url=url.replace(templatedString,value),void 0)})),optionalVariables&&(module.debug("Looking for optional URL variables",requiredVariables),$.each(optionalVariables,function(index,templatedString){var variable=-1!==templatedString.indexOf("$")?templatedString.substr(3,templatedString.length-4):templatedString.substr(2,templatedString.length-3),value=$.isPlainObject(urlData)&&urlData[variable]!==undefined?urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):urlData[variable];value!==undefined?(module.verbose("Optional variable Found",variable,value),url=url.replace(templatedString,value)):(module.verbose("Optional variable not found",variable),url=-1!==url.indexOf("/"+templatedString)?url.replace("/"+templatedString,""):url.replace(templatedString,""))}))),url},formData:function(data){var hasOtherData,canSerialize=$.fn.serializeObject!==undefined,formData=canSerialize?$form.serializeObject():$form.serialize();return data=data||settings.data,hasOtherData=$.isPlainObject(data),hasOtherData?canSerialize?(module.debug("Extending existing data with form data",data,formData),data=$.extend(!0,{},data,formData)):(module.error(error.missingSerialize),module.debug("Cant extend data. Replacing data with form data",data,formData),data=formData):(module.debug("Adding form data",formData),data=formData),data}},send:{request:function(){module.set.loading(),module.request=module.create.request(),module.is.mocked()?module.mockedXHR=module.create.mockedXHR():module.xhr=module.create.xhr(),settings.onRequest.call(context,module.request,module.xhr)}},event:{trigger:function(event){module.query(),("submit"==event.type||"click"==event.type)&&event.preventDefault()},xhr:{always:function(){},done:function(response,textStatus,xhr){var context=this,elapsedTime=(new Date).getTime()-requestStartTime,timeLeft=settings.loadingDuration-elapsedTime,translatedResponse=$.isFunction(settings.onResponse)?module.is.expectingJSON()?settings.onResponse.call(context,$.extend(!0,{},response)):settings.onResponse.call(context,response):!1;timeLeft=timeLeft>0?timeLeft:0,translatedResponse&&(module.debug("Modified API response in onResponse callback",settings.onResponse,translatedResponse,response),response=translatedResponse),timeLeft>0&&module.debug("Response completed early delaying state change by",timeLeft),setTimeout(function(){module.is.validResponse(response)?module.request.resolveWith(context,[response,xhr]):module.request.rejectWith(context,[xhr,"invalid"])},timeLeft)},fail:function(xhr,status,httpMessage){var context=this,elapsedTime=(new Date).getTime()-requestStartTime,timeLeft=settings.loadingDuration-elapsedTime;timeLeft=timeLeft>0?timeLeft:0,timeLeft>0&&module.debug("Response completed early delaying state change by",timeLeft),setTimeout(function(){module.is.abortedRequest(xhr)?module.request.rejectWith(context,[xhr,"aborted",httpMessage]):module.request.rejectWith(context,[xhr,"error",status,httpMessage])},timeLeft)}},request:{done:function(response,xhr){module.debug("Successful API Response",response),"local"===settings.cache&&url&&(module.write.cachedResponse(url,response),module.debug("Saving server response locally",module.cache)),settings.onSuccess.call(context,response,$module,xhr)},complete:function(firstParameter,secondParameter){var xhr,response;module.was.succesful()?(response=firstParameter,xhr=secondParameter):(xhr=firstParameter,response=module.get.responseFromXHR(xhr)),module.remove.loading(),settings.onComplete.call(context,response,$module,xhr)},fail:function(xhr,status,httpMessage){var response=module.get.responseFromXHR(xhr),errorMessage=module.get.errorFromRequest(response,status,httpMessage);return"aborted"==status?(module.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",status,httpMessage),settings.onAbort.call(context,status,$module,xhr),!0):("invalid"==status?module.debug("JSON did not pass success test. A server-side error has most likely occurred",response):"error"==status&&xhr!==undefined&&(module.debug("XHR produced a server error",status,httpMessage),200!=xhr.status&&httpMessage!==undefined&&""!==httpMessage&&module.error(error.statusMessage+httpMessage,ajaxSettings.url),settings.onError.call(context,errorMessage,$module,xhr)),settings.errorDuration&&"aborted"!==status&&(module.debug("Adding error state"),module.set.error(),module.should.removeError()&&setTimeout(module.remove.error,settings.errorDuration)),module.debug("API Request failed",errorMessage,xhr),void settings.onFailure.call(context,response,$module,xhr))}}},create:{request:function(){return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail)},mockedXHR:function(){var asyncCallback,response,mockedXHR,textStatus=!1,status=!1,httpMessage=!1,responder=settings.mockResponse||settings.response,asyncResponder=settings.mockResponseAsync||settings.responseAsync;return mockedXHR=$.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail),responder?($.isFunction(responder)?(module.debug("Using specified synchronous callback",responder),response=responder.call(context,requestSettings)):(module.debug("Using settings specified response",responder),response=responder),mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}])):$.isFunction(asyncResponder)&&(asyncCallback=function(response){module.debug("Async callback returned response",response),response?mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]):mockedXHR.rejectWith(context,[{responseText:response},status,httpMessage])},module.debug("Using specified async response callback",asyncResponder),asyncResponder.call(context,requestSettings,asyncCallback)),mockedXHR},xhr:function(){var xhr;return xhr=$.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail),module.verbose("Created server request",xhr,ajaxSettings),xhr}},set:{error:function(){module.verbose("Adding error state to element",$context),$context.addClass(className.error)},loading:function(){module.verbose("Adding loading state to element",$context),$context.addClass(className.loading),requestStartTime=(new Date).getTime()}},remove:{error:function(){module.verbose("Removing error state from element",$context),$context.removeClass(className.error)},loading:function(){module.verbose("Removing loading state from element",$context),$context.removeClass(className.loading)}},get:{responseFromXHR:function(xhr){return $.isPlainObject(xhr)?module.is.expectingJSON()?module.decode.json(xhr.responseText):xhr.responseText:!1},errorFromRequest:function(response,status,httpMessage){return $.isPlainObject(response)&&response.error!==undefined?response.error:settings.error[status]!==undefined?settings.error[status]:httpMessage},request:function(){return module.request||!1},xhr:function(){return module.xhr||!1},settings:function(){var runSettings;return runSettings=settings.beforeSend.call(context,settings),runSettings&&(runSettings.success!==undefined&&(module.debug("Legacy success callback detected",runSettings),module.error(error.legacyParameters,runSettings.success),runSettings.onSuccess=runSettings.success),runSettings.failure!==undefined&&(module.debug("Legacy failure callback detected",runSettings),module.error(error.legacyParameters,runSettings.failure),runSettings.onFailure=runSettings.failure),runSettings.complete!==undefined&&(module.debug("Legacy complete callback detected",runSettings),module.error(error.legacyParameters,runSettings.complete),runSettings.onComplete=runSettings.complete)),runSettings===undefined&&module.error(error.noReturnedValue),runSettings===!1?runSettings:runSettings!==undefined?$.extend(!0,{},runSettings):$.extend(!0,{},settings)},urlEncodedValue:function(value){var decodedValue=window.decodeURIComponent(value),encodedValue=window.encodeURIComponent(value),alreadyEncoded=decodedValue!==value;return alreadyEncoded?(module.debug("URL value is already encoded, avoiding double encoding",value),value):(module.verbose("Encoding value using encodeURIComponent",value,encodedValue),encodedValue)},defaultData:function(){var data={};return $.isWindow(element)||(module.is.input()?data.value=$module.val():module.is.form()||(data.text=$module.text())),data},event:function(){return $.isWindow(element)||"now"==settings.on?(module.debug("API called without element, no events attached"),!1):"auto"==settings.on?$module.is("input")?element.oninput!==undefined?"input":element.onpropertychange!==undefined?"propertychange":"keyup":$module.is("form")?"submit":"click":settings.on},templatedURL:function(action){if(action=action||$module.data(metadata.action)||settings.action||!1,url=$module.data(metadata.url)||settings.url||!1)return module.debug("Using specified url",url),url;if(action){if(module.debug("Looking up url for action",action,settings.api),settings.api[action]===undefined&&!module.is.mocked())return void module.error(error.missingAction,settings.action,settings.api);url=settings.api[action]}else module.is.form()&&(url=$module.attr("action")||$context.attr("action")||!1,module.debug("No url or action specified, defaulting to form action",url));return url}},abort:function(){var xhr=module.get.xhr();xhr&&"resolved"!==xhr.state()&&(module.debug("Cancelling API request"),xhr.abort())},reset:function(){module.remove.error(),module.remove.loading()},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"","Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(settings){return settings},beforeXHR:function(){},onRequest:function(){},onResponse:!1,onSuccess:function(){},onComplete:function(){},onFailure:function(){},onError:function(){},onAbort:function(){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),
$.fn.state=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=("ontouchstart"in document.documentElement,(new Date).getTime()),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1);return $allModules.each(function(){var module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.state.settings,parameters):$.extend({},$.fn.state.settings),error=settings.error,metadata=settings.metadata,className=settings.className,namespace=settings.namespace,states=settings.states,text=settings.text,eventNamespace="."+namespace,moduleNamespace=namespace+"-module",$module=$(this),element=this,instance=$module.data(moduleNamespace);module={initialize:function(){module.verbose("Initializing module"),settings.automatic&&module.add.defaults(),settings.context&&""!==moduleSelector?$(settings.context).on(moduleSelector,"mouseenter"+eventNamespace,module.change.text).on(moduleSelector,"mouseleave"+eventNamespace,module.reset.text).on(moduleSelector,"click"+eventNamespace,module.toggle.state):$module.on("mouseenter"+eventNamespace,module.change.text).on("mouseleave"+eventNamespace,module.reset.text).on("click"+eventNamespace,module.toggle.state),module.instantiate()},instantiate:function(){module.verbose("Storing instance of module",module),instance=module,$module.data(moduleNamespace,module)},destroy:function(){module.verbose("Destroying previous module",instance),$module.off(eventNamespace).removeData(moduleNamespace)},refresh:function(){module.verbose("Refreshing selector cache"),$module=$(element)},add:{defaults:function(){var userStates=parameters&&$.isPlainObject(parameters.states)?parameters.states:{};$.each(settings.defaults,function(type,typeStates){module.is[type]!==undefined&&module.is[type]()&&(module.verbose("Adding default states",type,element),$.extend(settings.states,typeStates,userStates))})}},is:{active:function(){return $module.hasClass(className.active)},loading:function(){return $module.hasClass(className.loading)},inactive:function(){return!$module.hasClass(className.active)},state:function(state){return className[state]===undefined?!1:$module.hasClass(className[state])},enabled:function(){return!$module.is(settings.filter.active)},disabled:function(){return $module.is(settings.filter.active)},textEnabled:function(){return!$module.is(settings.filter.text)},button:function(){return $module.is(".button:not(a, .submit)")},input:function(){return $module.is("input")},progress:function(){return $module.is(".ui.progress")}},allow:function(state){module.debug("Now allowing state",state),states[state]=!0},disallow:function(state){module.debug("No longer allowing",state),states[state]=!1},allows:function(state){return states[state]||!1},enable:function(){$module.removeClass(className.disabled)},disable:function(){$module.addClass(className.disabled)},setState:function(state){module.allows(state)&&$module.addClass(className[state])},removeState:function(state){module.allows(state)&&$module.removeClass(className[state])},toggle:{state:function(){var apiRequest,requestCancelled;if(module.allows("active")&&module.is.enabled()){if(module.refresh(),$.fn.api!==undefined)if(apiRequest=$module.api("get request"),requestCancelled=$module.api("was cancelled"))module.debug("API Request cancelled by beforesend"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1};else if(apiRequest)return void module.listenTo(apiRequest);module.change.state()}}},listenTo:function(apiRequest){module.debug("API request detected, waiting for state signal",apiRequest),apiRequest&&(text.loading&&module.update.text(text.loading),$.when(apiRequest).then(function(){"resolved"==apiRequest.state()?(module.debug("API request succeeded"),settings.activateTest=function(){return!0},settings.deactivateTest=function(){return!0}):(module.debug("API request failed"),settings.activateTest=function(){return!1},settings.deactivateTest=function(){return!1}),module.change.state()}))},change:{state:function(){module.debug("Determining state change direction"),module.is.inactive()?module.activate():module.deactivate(),settings.sync&&module.sync(),settings.onChange.call(element)},text:function(){module.is.textEnabled()&&(module.is.disabled()?(module.verbose("Changing text to disabled text",text.hover),module.update.text(text.disabled)):module.is.active()?text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.deactivate&&(module.verbose("Changing text to deactivating text",text.deactivate),module.update.text(text.deactivate)):text.hover?(module.verbose("Changing text to hover text",text.hover),module.update.text(text.hover)):text.activate&&(module.verbose("Changing text to activating text",text.activate),module.update.text(text.activate)))}},activate:function(){settings.activateTest.call(element)&&(module.debug("Setting state to active"),$module.addClass(className.active),module.update.text(text.active),settings.onActivate.call(element))},deactivate:function(){settings.deactivateTest.call(element)&&(module.debug("Setting state to inactive"),$module.removeClass(className.active),module.update.text(text.inactive),settings.onDeactivate.call(element))},sync:function(){module.verbose("Syncing other buttons to current state"),$allModules.not($module).state(module.is.active()?"activate":"deactivate")},get:{text:function(){return settings.selector.text?$module.find(settings.selector.text).text():$module.html()},textFor:function(state){return text[state]||!1}},flash:{text:function(text,duration,callback){var previousText=module.get.text();module.debug("Flashing text message",text,duration),text=text||settings.text.flash,duration=duration||settings.flashDuration,callback=callback||function(){},module.update.text(text),setTimeout(function(){module.update.text(previousText),callback.call(element)},duration)}},reset:{text:function(){var activeText=text.active||$module.data(metadata.storedText),inactiveText=text.inactive||$module.data(metadata.storedText);module.is.textEnabled()&&(module.is.active()&&activeText?(module.verbose("Resetting active text",activeText),module.update.text(activeText)):inactiveText&&(module.verbose("Resetting inactive text",activeText),module.update.text(inactiveText)))}},update:{text:function(text){var currentText=module.get.text();text&&text!==currentText?(module.debug("Updating text",text),settings.selector.text?$module.data(metadata.storedText,text).find(settings.selector.text).text(text):$module.data(metadata.storedText,text).html(text)):module.debug("Text is already set, ignoring update",text)}},setting:function(name,value){if(module.debug("Changing setting",name,value),$.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];$.isPlainObject(settings[name])?$.extend(!0,settings[name],value):settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function($,window,document,undefined){"use strict";window="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),$.fn.visibility=function(parameters){var returnedValue,$allModules=$(this),moduleSelector=$allModules.selector||"",time=(new Date).getTime(),performance=[],query=arguments[0],methodInvoked="string"==typeof query,queryArguments=[].slice.call(arguments,1),moduleCount=$allModules.length,loadedCount=0;return $allModules.each(function(){var $placeholder,contextObserver,observer,module,settings=$.isPlainObject(parameters)?$.extend(!0,{},$.fn.visibility.settings,parameters):$.extend({},$.fn.visibility.settings),className=settings.className,namespace=settings.namespace,error=settings.error,metadata=settings.metadata,eventNamespace="."+namespace,moduleNamespace="module-"+namespace,$window=$(window),$module=$(this),$context=$(settings.context),instance=($module.selector||"",$module.data(moduleNamespace)),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0)},element=this,disabled=!1;module={initialize:function(){module.debug("Initializing",settings),module.setup.cache(),module.should.trackChanges()&&("image"==settings.type&&module.setup.image(),"fixed"==settings.type&&module.setup.fixed(),settings.observeChanges&&module.observeChanges(),module.bind.events()),module.save.position(),module.is.visible()||module.error(error.visible,$module),settings.initialCheck&&module.checkVisibility(),module.instantiate()},instantiate:function(){module.debug("Storing instance",module),$module.data(moduleNamespace,module),instance=module},destroy:function(){module.verbose("Destroying previous module"),observer&&observer.disconnect(),contextObserver&&contextObserver.disconnect(),$window.off("load"+eventNamespace,module.event.load).off("resize"+eventNamespace,module.event.resize),$context.off("scroll"+eventNamespace,module.event.scroll).off("scrollchange"+eventNamespace,module.event.scrollchange),"fixed"==settings.type&&(module.resetFixed(),module.remove.placeholder()),$module.off(eventNamespace).removeData(moduleNamespace)},observeChanges:function(){"MutationObserver"in window&&(contextObserver=new MutationObserver(module.event.contextChanged),observer=new MutationObserver(module.event.changed),contextObserver.observe(document,{childList:!0,subtree:!0}),observer.observe(element,{childList:!0,subtree:!0}),module.debug("Setting up mutation observer",observer))},bind:{events:function(){module.verbose("Binding visibility events to scroll and resize"),settings.refreshOnLoad&&$window.on("load"+eventNamespace,module.event.load),$window.on("resize"+eventNamespace,module.event.resize),$context.off("scroll"+eventNamespace).on("scroll"+eventNamespace,module.event.scroll).on("scrollchange"+eventNamespace,module.event.scrollchange)}},event:{changed:function(){module.verbose("DOM tree modified, updating visibility calculations"),module.timer=setTimeout(function(){module.verbose("DOM tree modified, updating sticky menu"),module.refresh()},100)},contextChanged:function(mutations){[].forEach.call(mutations,function(mutation){mutation.removedNodes&&[].forEach.call(mutation.removedNodes,function(node){(node==element||$(node).find(element).length>0)&&(module.debug("Element removed from DOM, tearing down events"),module.destroy())})})},resize:function(){module.debug("Window resized"),settings.refreshOnResize&&requestAnimationFrame(module.refresh)},load:function(){module.debug("Page finished loading"),requestAnimationFrame(module.refresh)},scroll:function(){settings.throttle?(clearTimeout(module.timer),module.timer=setTimeout(function(){$context.triggerHandler("scrollchange"+eventNamespace,[$context.scrollTop()])},settings.throttle)):requestAnimationFrame(function(){$context.triggerHandler("scrollchange"+eventNamespace,[$context.scrollTop()])})},scrollchange:function(event,scrollPosition){module.checkVisibility(scrollPosition)}},precache:function(images,callback){images instanceof Array||(images=[images]);for(var imagesLength=images.length,loadedCounter=0,cache=[],cacheImage=document.createElement("img"),handleLoad=function(){loadedCounter++,loadedCounter>=images.length&&$.isFunction(callback)&&callback()};imagesLength--;)cacheImage=document.createElement("img"),cacheImage.onload=handleLoad,cacheImage.onerror=handleLoad,cacheImage.src=images[imagesLength],cache.push(cacheImage)},enableCallbacks:function(){module.debug("Allowing callbacks to occur"),disabled=!1},disableCallbacks:function(){module.debug("Disabling all callbacks temporarily"),disabled=!0},should:{trackChanges:function(){return methodInvoked?(module.debug("One time query, no need to bind events"),!1):(module.debug("Callbacks being attached"),!0)}},setup:{cache:function(){module.cache={occurred:{},screen:{},element:{}}},image:function(){var src=$module.data(metadata.src);src&&(module.verbose("Lazy loading image",src),settings.once=!0,settings.observeChanges=!1,settings.onOnScreen=function(){module.debug("Image on screen",element),module.precache(src,function(){module.set.image(src,function(){loadedCount++,loadedCount==moduleCount&&settings.onAllLoaded.call(this),settings.onLoad.call(this)})})})},fixed:function(){module.debug("Setting up fixed"),settings.once=!1,settings.observeChanges=!1,settings.initialCheck=!0,settings.refreshOnLoad=!0,parameters.transition||(settings.transition=!1),module.create.placeholder(),module.debug("Added placeholder",$placeholder),settings.onTopPassed=function(){module.debug("Element passed, adding fixed position",$module),module.show.placeholder(),module.set.fixed(),settings.transition&&$.fn.transition!==undefined&&$module.transition(settings.transition,settings.duration)},settings.onTopPassedReverse=function(){module.debug("Element returned to position, removing fixed",$module),module.hide.placeholder(),module.remove.fixed()}}},create:{placeholder:function(){module.verbose("Creating fixed position placeholder"),$placeholder=$module.clone(!1).css("display","none").addClass(className.placeholder).insertAfter($module)}},show:{placeholder:function(){module.verbose("Showing placeholder"),$placeholder.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){module.verbose("Hiding placeholder"),$placeholder.css("display","none").css("visibility","")}},set:{fixed:function(){module.verbose("Setting element to fixed position"),$module.addClass(className.fixed).css({position:"fixed",top:settings.offset+"px",left:"auto",zIndex:settings.zIndex}),settings.onFixed.call(element)},image:function(src,callback){if($module.attr("src",src),settings.transition)if($.fn.transition!==undefined){if($module.hasClass(className.visible))return void module.debug("Transition already occurred on this image, skipping animation");$module.transition(settings.transition,settings.duration,callback)}else $module.fadeIn(settings.duration,callback);else $module.show()}},is:{onScreen:function(){var calculations=module.get.elementCalculations();return calculations.onScreen},offScreen:function(){var calculations=module.get.elementCalculations();return calculations.offScreen},visible:function(){return module.cache&&module.cache.element?!(0===module.cache.element.width&&0===module.cache.element.offset.top):!1},verticallyScrollableContext:function(){var overflowY=$context.get(0)!==window?$context.css("overflow-y"):!1;return"auto"==overflowY||"scroll"==overflowY},horizontallyScrollableContext:function(){var overflowX=$context.get(0)!==window?$context.css("overflow-x"):!1;return"auto"==overflowX||"scroll"==overflowX}},refresh:function(){module.debug("Refreshing constants (width/height)"),"fixed"==settings.type&&module.resetFixed(),module.reset(),module.save.position(),settings.checkOnRefresh&&module.checkVisibility(),settings.onRefresh.call(element)},resetFixed:function(){module.remove.fixed(),module.remove.occurred()},reset:function(){module.verbose("Resetting all cached values"),$.isPlainObject(module.cache)&&(module.cache.screen={},module.cache.element={})},checkVisibility:function(scroll){module.verbose("Checking visibility of element",module.cache.element),!disabled&&module.is.visible()&&(module.save.scroll(scroll),module.save.calculations(),module.passed(),module.passingReverse(),module.topVisibleReverse(),module.bottomVisibleReverse(),module.topPassedReverse(),module.bottomPassedReverse(),module.onScreen(),module.offScreen(),module.passing(),module.topVisible(),module.bottomVisible(),module.topPassed(),module.bottomPassed(),settings.onUpdate&&settings.onUpdate.call(element,module.get.elementCalculations()))},passed:function(amount,newCallback){var calculations=module.get.elementCalculations();if(amount&&newCallback)settings.onPassed[amount]=newCallback;else{if(amount!==undefined)return module.get.pixelsPassed(amount)>calculations.pixelsPassed;calculations.passing&&$.each(settings.onPassed,function(amount,callback){calculations.bottomVisible||calculations.pixelsPassed>module.get.pixelsPassed(amount)?module.execute(callback,amount):settings.once||module.remove.occurred(callback)})}},onScreen:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onOnScreen,callbackName="onScreen";return newCallback&&(module.debug("Adding callback for onScreen",newCallback),settings.onOnScreen=newCallback),calculations.onScreen?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.onOnScreen:void 0},offScreen:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onOffScreen,callbackName="offScreen";return newCallback&&(module.debug("Adding callback for offScreen",newCallback),settings.onOffScreen=newCallback),calculations.offScreen?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.onOffScreen:void 0},passing:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassing,callbackName="passing";return newCallback&&(module.debug("Adding callback for passing",newCallback),settings.onPassing=newCallback),calculations.passing?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback!==undefined?calculations.passing:void 0},topVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisible,callbackName="topVisible";return newCallback&&(module.debug("Adding callback for top visible",newCallback),settings.onTopVisible=newCallback),calculations.topVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.topVisible:void 0},bottomVisible:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisible,callbackName="bottomVisible";return newCallback&&(module.debug("Adding callback for bottom visible",newCallback),settings.onBottomVisible=newCallback),calculations.bottomVisible?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.bottomVisible:void 0},topPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassed,callbackName="topPassed";return newCallback&&(module.debug("Adding callback for top passed",newCallback),settings.onTopPassed=newCallback),calculations.topPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.topPassed:void 0},bottomPassed:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassed,callbackName="bottomPassed";return newCallback&&(module.debug("Adding callback for bottom passed",newCallback),settings.onBottomPassed=newCallback),calculations.bottomPassed?module.execute(callback,callbackName):settings.once||module.remove.occurred(callbackName),newCallback===undefined?calculations.bottomPassed:void 0},passingReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassingReverse,callbackName="passingReverse";return newCallback&&(module.debug("Adding callback for passing reverse",newCallback),settings.onPassingReverse=newCallback),calculations.passing?settings.once||module.remove.occurred(callbackName):module.get.occurred("passing")&&module.execute(callback,callbackName),newCallback!==undefined?!calculations.passing:void 0},topVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisibleReverse,callbackName="topVisibleReverse";return newCallback&&(module.debug("Adding callback for top visible reverse",newCallback),settings.onTopVisibleReverse=newCallback),calculations.topVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("topVisible")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.topVisible:void 0},bottomVisibleReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisibleReverse,callbackName="bottomVisibleReverse";return newCallback&&(module.debug("Adding callback for bottom visible reverse",newCallback),settings.onBottomVisibleReverse=newCallback),calculations.bottomVisible?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomVisible")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.bottomVisible:void 0},topPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassedReverse,callbackName="topPassedReverse";return newCallback&&(module.debug("Adding callback for top passed reverse",newCallback),settings.onTopPassedReverse=newCallback),calculations.topPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("topPassed")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.onTopPassed:void 0},bottomPassedReverse:function(newCallback){var calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassedReverse,callbackName="bottomPassedReverse";return newCallback&&(module.debug("Adding callback for bottom passed reverse",newCallback),settings.onBottomPassedReverse=newCallback),calculations.bottomPassed?settings.once||module.remove.occurred(callbackName):module.get.occurred("bottomPassed")&&module.execute(callback,callbackName),newCallback===undefined?!calculations.bottomPassed:void 0},execute:function(callback,callbackName){var calculations=module.get.elementCalculations(),screen=module.get.screenCalculations();callback=callback||!1,callback&&(settings.continuous?(module.debug("Callback being called continuously",callbackName,calculations),callback.call(element,calculations,screen)):module.get.occurred(callbackName)||(module.debug("Conditions met",callbackName,calculations),callback.call(element,calculations,screen))),module.save.occurred(callbackName)},remove:{fixed:function(){module.debug("Removing fixed position"),$module.removeClass(className.fixed).css({position:"",top:"",left:"",zIndex:""}),settings.onUnfixed.call(element)},placeholder:function(){module.debug("Removing placeholder content"),$placeholder&&$placeholder.remove()},occurred:function(callback){if(callback){var occurred=module.cache.occurred;occurred[callback]!==undefined&&occurred[callback]===!0&&(module.debug("Callback can now be called again",callback),module.cache.occurred[callback]=!1)}else module.cache.occurred={}}},save:{calculations:function(){module.verbose("Saving all calculations necessary to determine positioning"),module.save.direction(),module.save.screenCalculations(),module.save.elementCalculations()},occurred:function(callback){callback&&(module.cache.occurred[callback]===undefined||module.cache.occurred[callback]!==!0)&&(module.verbose("Saving callback occurred",callback),module.cache.occurred[callback]=!0)},scroll:function(scrollPosition){scrollPosition=scrollPosition+settings.offset||$context.scrollTop()+settings.offset,module.cache.scroll=scrollPosition},direction:function(){var direction,scroll=module.get.scroll(),lastScroll=module.get.lastScroll();return direction=scroll>lastScroll&&lastScroll?"down":lastScroll>scroll&&lastScroll?"up":"static",module.cache.direction=direction,module.cache.direction},elementPosition:function(){var element=module.cache.element,screen=module.get.screenSize();return module.verbose("Saving element position"),element.fits=element.height<screen.height,element.offset=$module.offset(),element.width=$module.outerWidth(),element.height=$module.outerHeight(),module.is.verticallyScrollableContext()&&(element.offset.top+=$context.scrollTop()-$context.offset().top),module.is.horizontallyScrollableContext()&&(element.offset.left+=$context.scrollLeft-$context.offset().left),module.cache.element=element,element},elementCalculations:function(){var screen=module.get.screenCalculations(),element=module.get.elementPosition();return settings.includeMargin?(element.margin={},element.margin.top=parseInt($module.css("margin-top"),10),element.margin.bottom=parseInt($module.css("margin-bottom"),10),element.top=element.offset.top-element.margin.top,element.bottom=element.offset.top+element.height+element.margin.bottom):(element.top=element.offset.top,element.bottom=element.offset.top+element.height),element.topPassed=screen.top>=element.top,element.bottomPassed=screen.top>=element.bottom,element.topVisible=screen.bottom>=element.top&&!element.bottomPassed,element.bottomVisible=screen.bottom>=element.bottom&&!element.topPassed,element.pixelsPassed=0,element.percentagePassed=0,element.onScreen=element.topVisible&&!element.bottomPassed,element.passing=element.topPassed&&!element.bottomPassed,element.offScreen=!element.onScreen,element.passing&&(element.pixelsPassed=screen.top-element.top,element.percentagePassed=(screen.top-element.top)/element.height),module.cache.element=element,module.verbose("Updated element calculations",element),element},screenCalculations:function(){var scroll=module.get.scroll();return module.save.direction(),module.cache.screen.top=scroll,module.cache.screen.bottom=scroll+module.cache.screen.height,module.cache.screen},screenSize:function(){module.verbose("Saving window position"),module.cache.screen={height:$context.height()}},position:function(){module.save.screenSize(),module.save.elementPosition()}},get:{pixelsPassed:function(amount){var element=module.get.elementCalculations();return amount.search("%")>-1?element.height*(parseInt(amount,10)/100):parseInt(amount,10)},occurred:function(callback){return module.cache.occurred!==undefined?module.cache.occurred[callback]||!1:!1},direction:function(){return module.cache.direction===undefined&&module.save.direction(),module.cache.direction},elementPosition:function(){return module.cache.element===undefined&&module.save.elementPosition(),module.cache.element},elementCalculations:function(){return module.cache.element===undefined&&module.save.elementCalculations(),module.cache.element},screenCalculations:function(){return module.cache.screen===undefined&&module.save.screenCalculations(),module.cache.screen},screenSize:function(){return module.cache.screen===undefined&&module.save.screenSize(),module.cache.screen},scroll:function(){return module.cache.scroll===undefined&&module.save.scroll(),module.cache.scroll},lastScroll:function(){return module.cache.screen===undefined?(module.debug("First scroll event, no last scroll could be found"),!1):module.cache.screen.top}},setting:function(name,value){if($.isPlainObject(name))$.extend(!0,settings,name);else{if(value===undefined)return settings[name];settings[name]=value}},internal:function(name,value){if($.isPlainObject(name))$.extend(!0,module,name);else{if(value===undefined)return module[name];module[name]=value}},debug:function(){!settings.silent&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.debug=Function.prototype.bind.call(console.info,console,settings.name+":"),module.debug.apply(console,arguments)))},verbose:function(){!settings.silent&&settings.verbose&&settings.debug&&(settings.performance?module.performance.log(arguments):(module.verbose=Function.prototype.bind.call(console.info,console,settings.name+":"),module.verbose.apply(console,arguments)))},error:function(){settings.silent||(module.error=Function.prototype.bind.call(console.error,console,settings.name+":"),module.error.apply(console,arguments))},performance:{log:function(message){var currentTime,executionTime,previousTime;settings.performance&&(currentTime=(new Date).getTime(),previousTime=time||currentTime,executionTime=currentTime-previousTime,time=currentTime,performance.push({Name:message[0],Arguments:[].slice.call(message,1)||"",
Element:element,"Execution Time":executionTime})),clearTimeout(module.performance.timer),module.performance.timer=setTimeout(module.performance.display,500)},display:function(){var title=settings.name+":",totalTime=0;time=!1,clearTimeout(module.performance.timer),$.each(performance,function(index,data){totalTime+=data["Execution Time"]}),title+=" "+totalTime+"ms",moduleSelector&&(title+=" '"+moduleSelector+"'"),(console.group!==undefined||console.table!==undefined)&&performance.length>0&&(console.groupCollapsed(title),console.table?console.table(performance):$.each(performance,function(index,data){console.log(data.Name+": "+data["Execution Time"]+"ms")}),console.groupEnd()),performance=[]}},invoke:function(query,passedArguments,context){var maxDepth,found,response,object=instance;return passedArguments=passedArguments||queryArguments,context=element||context,"string"==typeof query&&object!==undefined&&(query=query.split(/[\. ]/),maxDepth=query.length-1,$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth)object=object[camelCaseValue];else{if(object[camelCaseValue]!==undefined)return found=object[camelCaseValue],!1;if(!$.isPlainObject(object[value])||depth==maxDepth)return object[value]!==undefined?(found=object[value],!1):(module.error(error.method,query),!1);object=object[value]}})),$.isFunction(found)?response=found.apply(context,passedArguments):found!==undefined&&(response=found),$.isArray(returnedValue)?returnedValue.push(response):returnedValue!==undefined?returnedValue=[returnedValue,response]:response!==undefined&&(returnedValue=response),found}},methodInvoked?(instance===undefined&&module.initialize(),instance.save.scroll(),instance.save.calculations(),module.invoke(query)):(instance!==undefined&&instance.invoke("destroy"),module.initialize())}),returnedValue!==undefined?returnedValue:this},$.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:window,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document)},{}],4:[function(require,module){function BaseMapClient(){this.map={},this.centeredLon=14,this.centeredLat=65,this.zoom=5}function SearchClient(opts){var options=opts||{};this.centeredLon=options.lon,this.centeredLat=options.lat,this.zoom=options.zoom}{var ol=require("openlayers");require("./../../../node_modules/semantic-ui/dist/semantic.js")}window.proj4=require("proj4");var projectionControl=require("./ol3-proj-control"),layerControl=require("./ol3-layer-control"),timeSliderControl=require("./ol3-timeslider-control");BaseMapClient.prototype.addProjections=function(){proj4.defs("EPSG:32661","+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m +no_defs"),proj4.defs("EPSG:3408","+proj=laea +lat_0=90 +lon_0=0 +x_0=0 +y_0=0 +a=6371228 +b=6371228 +units=m +no_defs "),proj4.defs("EPSG:32633","+proj=utm +zone=33 +ellps=WGS84 +datum=WGS84 +units=m +no_defs "),proj4.defs("EPSG:32761","+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),proj4.defs("EPSG:4258","+proj=longlat +ellps=GRS80 +no_defs"),proj4.defs("EPSG:3411","+proj=stere +lat_0=90 +lat_ts=70 +lon_0=-45 +k=1 +x_0=0 +y_0=0 +a=6378273 +b=6356889.449 +units=m +no_defs"),proj4.defs("EPSG:3413","+proj=stere +lat_0=90 +lat_ts=70 +lon_0=-45 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),proj4.defs("EPSG:3995","+proj=stere +lat_0=90 +lat_ts=71 +lon_0=0 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs"),proj4.defs("EPSG:3575","+proj=laea +lat_0=90 +lon_0=10 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ")},ol.inherits(SearchClient,BaseMapClient),SearchClient.prototype.init=function(){this.addProjections();var worldLayer=new ol.layer.Tile({title:"world",type:"base",source:new ol.source.TileWMS({url:"http://public-wms.met.no/verportal/verportal.map?bgcolor=0x6699CC",params:{VERSION:"1.1.1",LAYERS:"kart",FORMAT:"image/png",TRANSPARENT:!1}})});return this.map=new ol.Map({target:"map",pixelRatio:1,interactions:ol.interaction.defaults({dragPan:!0}),layers:[new ol.layer.Group({title:"Base layers",layers:[worldLayer]})],view:new ol.View({projection:ol.proj.get("EPSG:3575"),center:ol.proj.transform([this.centeredLon,this.centeredLat],"EPSG:4326","EPSG:3575"),zoom:this.zoom})}),this},SearchClient.prototype.enableDrawing=function(opts){var bbox=opts.bbox||void 0,drawingSource=new ol.source.Vector({projection:"EPSG:4326"}),drawingLayer=new ol.layer.Vector({source:drawingSource,title:"draw",projection:"EPSG:4326"});this.map.addLayer(drawingLayer);var geometryFunction=function(coordinates,geometry){geometry||(geometry=new ol.geom.Polygon(null));var start=coordinates[0],end=coordinates[1];return geometry.setCoordinates([[start,[start[0],end[1]],end,[end[0],start[1]],start]]),geometry},draw=new ol.interaction.Draw({source:drawingSource,type:"LineString",geometryFunction:geometryFunction,maxPoints:2});this.map.addInteraction(draw);var outerThis=this;return draw.on("drawend",function(e){var extent=e.feature.getGeometry().getExtent();if(console.log(extent),extent&&4===extent.length){extent=ol.proj.transformExtent(extent,"EPSG:3575","EPSG:4326"),console.log(extent);var topLeft=ol.extent.getTopLeft(extent),bottomRight=ol.extent.getBottomRight(extent);bbox.topleft&&bbox.bottomright&&bbox.topleft.latId&&bbox.topleft.lonId&&bbox.bottomright.latId&&bbox.bottomright.lonId&&(jQuery("#"+bbox.topleft.latId).attr("value",topLeft[1]),jQuery("#"+bbox.topleft.lonId).attr("value",topLeft[0]),jQuery("#"+bbox.bottomright.latId).attr("value",bottomRight[1]),jQuery("#"+bbox.bottomright.lonId).attr("value",bottomRight[0]))}}),draw.on("drawstart",function(){outerThis.clear()}),this},SearchClient.prototype.clear=function(){var layers=this.map.getLayers();return layers.forEach(function(layer){layer instanceof ol.layer.Vector&&layer.getSource().clear()}),this},SearchClient.prototype.drawPreviousSelection=function(previousExtent){this.clear();var extent=previousExtent||void 0;if("undefined"!=typeof extent){console.log(extent),extent=ol.proj.transformExtent(extent,"EPSG:4326","EPSG:3575");var polygon=ol.geom.Polygon.fromExtent(extent),feature=new ol.Feature(polygon),vectorSource=new ol.source.Vector;vectorSource.addFeature(feature);var vectorLayer=new ol.layer.Vector({source:vectorSource});this.map.addLayer(vectorLayer)}return this};var wmsc=function(opt_options){var options=opt_options||{};this.webMapServers=options.webMapServers||[],this.baseMapWmsUrl=options.baseMapWmsUrl||"http://public-wms.met.no/backgroundmaps/northpole.map?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities",this.centeredLon=options.lon,this.centeredLat=options.lat,this.zoom=options.zoom,this.projection={},this.wmslayers=[],this.layerGroup={},this.productSelect=options.productSelect||!1,this.overlayBorder=options.overlayBorder||!0,this.projections={"EPSG:4326":"WGS 84","EPSG:32661":"WGS 84 / UPS North","EPSG:3408":"NSIDC EASE-Grid North","EPSG:3411":"NSIDC Sea Ice Polar Stereographic North","EPSG:3413":"WGS84 / NSIDC Sea Ice Polar Stereographic North","EPSG:3995":"WGS 84 / Arctic Polar Stereographic"},this.layerSwitcher,this.wmsProjections=[]};ol.inherits(wmsc,BaseMapClient),wmsc.prototype.addLayerSwitcher=function(){var this_=this;this.layerSwitcher=new layerControl({target:"lyr-switcher",overlayBorder:this_.overlayBorder}),this.map.addControl(this.layerSwitcher)},wmsc.prototype.removeLayerSwitcher=function(){this.map.removeControl(this.layerSwitcher)},wmsc.prototype.init=function(){console.log("Initializing wms client....."),BaseMapClient.prototype.addProjections.call(),this.projection=ol.proj.get("EPSG:32661");for(var parser=new ol.format.WMSCapabilities,outerThis=this,processed=[],idx=0;idx<this.webMapServers.length;idx++)console.log(this.webMapServers[idx].capabilitiesUrl),jQuery.ajax(outerThis.webMapServers[idx].capabilitiesUrl).then(function(response){try{var wLayers=[],result=parser.read(response),wmsProjs=result.Capability.Layer.CRS;outerThis.wmsProjections=outerThis.wmsProjections.concat(wmsProjs);var onlineResource=result.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource;console.log(onlineResource),console.log(result.Capability.Layer.Layer);for(var layers=result.Capability.Layer.Layer,idx=0;idx<layers.length;idx++){var ls=layers[idx].Layer;if(ls)for(var i=0;i<ls.length;i++){var getTimeDimensions=function(){var dimensions=ls[i].Dimension;if(ls[i].Dimension)for(var j=0;j<dimensions.length;j++)if("time"===dimensions[j].name){var times=dimensions[j].values.split(",");return times}return[]};outerThis.extent=ol.proj.transformExtent(ls[i].BoundingBox[0].extent,"EPSG:4326","EPSG:32661"),wLayers.push(new ol.layer.Tile({title:ls[i].Title,visible:!1,keepVisible:!1,dimensions:getTimeDimensions(),styles:ls[i].Style,source:new ol.source.TileWMS({url:onlineResource,params:{LAYERS:ls[i].Name,VERSION:result.version,FORMAT:"image/png",STYLES:"undefined"!=typeof ls[i].Style?ls[i].Style[0].Name:"",TILE:!0}})}))}}var k=onlineResource.substring(onlineResource.lastIndexOf("/")+1);k.lastIndexOf("?",k.length-1)===k.length-1&&(k=k.substring(0,k.lastIndexOf("?"))),outerThis.layerGroup[k]=wLayers,outerThis.wmsProjections=outerThis.wmsProjections.concat(wmsProjs)}catch(error){console.log(error)}processed.push(!0)},function(){processed.push(!0)});return outerThis.isParsedAll(processed),this},wmsc.prototype.isParsedAll=function(parsed){var outerThis=this;if(parsed.length!==this.webMapServers.length)setTimeout(function(){outerThis.isParsedAll(parsed)},30);else{var borderLayer=new ol.layer.Tile({title:"border",type:"base",source:new ol.source.TileWMS({url:"https://public-wms.met.no/backgroundmaps/northpole.map?",params:{VERSION:"1.1.1",LAYERS:"borders",FORMAT:"image/png",TRANSPARENT:!0}})}),worldLayer=new ol.layer.Tile({title:"world",type:"base",source:new ol.source.TileWMS({url:"https://public-wms.met.no/backgroundmaps/northpole.map?",params:{VERSION:"1.1.1",LAYERS:"world",FORMAT:"image/png",TRANSPARENT:!1}})}),lGroug=(new ol.layer.Tile({title:"kart",type:"base",source:new ol.source.TileWMS({url:"https://public-wms.met.no/verportal/verportal.map?bgcolor=0x6699CC",params:{VERSION:"1.1.1",LAYERS:"kart",FORMAT:"image/png",TRANSPARENT:!1}})}),[]),baseLayerGroup=new ol.layer.Group({title:"Base layers",layers:[borderLayer,worldLayer]});lGroug.push(baseLayerGroup),outerThis.webMapServers.forEach(function(webMapServer){var key=webMapServer.capabilitiesUrl.substring(webMapServer.capabilitiesUrl.lastIndexOf("/")+1,webMapServer.capabilitiesUrl.indexOf("?"));if(-1!==webMapServer.capabilitiesUrl.indexOf("?dataset=")){var wmsUrl=webMapServer.capabilitiesUrl.substring(webMapServer.capabilitiesUrl.indexOf("?dataset=")+"?dataset=".length);key=wmsUrl.substring(wmsUrl.lastIndexOf("/")+1,wmsUrl.indexOf("?"))}var lyrGroup=outerThis.layerGroup[key];if("undefined"!=typeof lyrGroup){var setActive=!1;if(webMapServer.activeLayer&&webMapServer.activeLayer.length>0&&lyrGroup.forEach(function(lyr){lyr.get("title")===webMapServer.activeLayer&&(lyr.set("visible",!0),setActive=!0)}),webMapServer.layers&&webMapServer.layers.length){var filterLayers=jQuery.grep(lyrGroup,function(lyr){return-1!==jQuery.inArray(lyr.get("title"),webMapServer.layers)?!0:void 0});outerThis.layerGroup[key]=filterLayers}setActive===!1&&outerThis.layerGroup[key].length>0&&outerThis.layerGroup[key][0].set("visible",!0)}});for(var prop in outerThis.layerGroup){var grp=new ol.layer.Group({title:prop.replace(/_/g," ").replace(/-/g," "),layers:outerThis.layerGroup[prop]});lGroug.push(grp)}outerThis.map=new ol.Map({target:"map",pixelRatio:1,layers:lGroug,view:new ol.View({projection:outerThis.projection,zoom:outerThis.zoom})}),console.log("Adding layer switcher ....."),outerThis.addLayerSwitcher(),console.log("Adding projection ..... "),console.log(outerThis.wmsProjections);var projchnager=new projectionControl({supportedProjections:outerThis.projections,wmsSupportedProjections:outerThis.wmsProjections,lon:outerThis.centeredLon,lat:outerThis.centeredLat,zoom:outerThis.zoom,target:"proj-container"});outerThis.map.addControl(projchnager),console.log("Adding time slider .....");var timeSlider=new timeSliderControl({target:"timeslider-container"});outerThis.map.addControl(timeSlider),outerThis.productSelect&&(outerThis.renderModal(),$(".ui.modal").modal("show")),outerThis.map.getView().fit(outerThis.extent,outerThis.map.getSize())}},wmsc.prototype.renderModal=function(){var this_=this,modal=jQuery("<div>",{"class":"ui modal"});jQuery("<i>",{"class":"close icon"}).appendTo(modal),jQuery("<div>",{"class":"header"}).text("Dataset WMS layers").appendTo(modal);var content=jQuery("<div>",{"class":"content"}).appendTo(modal),actions=jQuery("<div>",{"class":"actions"}).appendTo(modal),updateButton=jQuery("<div>",{"class":"ui button"}).text("Launch client").appendTo(actions),dirButtonsWrapper=jQuery("<div>",{style:"display:block;"}).appendTo(content),shape=jQuery("<div>",{"class":"ui shape",style:"display:block;"}).appendTo(content),sides=jQuery("<div>",{"class":"sides"}).appendTo(shape),layers=[];this.map.getLayers().forEach(function(lyr){lyr.getLayers&&"Base layers"!==lyr.get("title")&&layers.push(lyr)});var activeGroupTile="",productLayers={},getSelectedProductLayers=function(){var selectedLyrs=$(".ui.multiple.selection.dropdown").dropdown("get value");$(".ui.multiple.selection.dropdown").dropdown("clear");var selectedLayers=[];jQuery.isArray(selectedLyrs)?selectedLyrs.forEach(function(layers){layers.length>0&&(selectedLayers=layers.split(","))}):selectedLayers=selectedLyrs.split(","),productLayers[activeGroupTile]=selectedLayers};updateButton.on("click",function(){activeGroupTile=$(".ui.raised.segment.side.active > a").text().trim(),getSelectedProductLayers();for(var i=0;i<layers.length;i++){var layersToBeRemoved=[],selectedLayers=productLayers[layers[i].get("title").trim()];if(selectedLayers&&selectedLayers.length){selectedLayers.forEach(function(layerTitle){var lyrs=layers[i].getLayers();lyrs.forEach(function(lyr){lyr.get("title").trim()!==layerTitle.trim()&&-1===jQuery.inArray(lyr.get("title").trim(),selectedLayers)&&layersToBeRemoved.push(lyr)})}),layersToBeRemoved.forEach(function(l){layers[i].getLayers().remove(l)});var actLyr=!1;layers[i].getLayers().forEach(function(lyr){lyr.get("visible")&&(actLyr=!0)}),actLyr||layers[i].getLayers().item(0).set("visible",!0);for(var i=selectedLayers.length;i>0;i--)selectedLayers.pop()}}$(".ui.modal").modal("hide"),this_.removeLayerSwitcher(),this_.addLayerSwitcher()});for(var i=0;i<layers.length;i++){var classes="ui raised segment side "+(0===i?" active":""),side=jQuery("<div>",{"class":classes}).appendTo(sides);jQuery("<a>",{"class":"ui teal big ribbon label"}).text(layers[i].get("title")).appendTo(side);var multiDropdown=jQuery("<div>",{"class":"ui multiple selection dropdown"}).appendTo(side);jQuery("<input>",{name:"states",type:"hidden"}).appendTo(multiDropdown),jQuery("<i>",{"class":"dropdown icon"}).appendTo(multiDropdown),jQuery("<div>",{"class":"default text"}).text("Select WMS layers").appendTo(multiDropdown);var menu=jQuery("<div>",{"class":"menu"}).appendTo(multiDropdown);layers[i].getLayers().forEach(function(lyr){jQuery("<div>",{"class":"item","data-value":lyr.get("title")}).text(lyr.get("title")).appendTo(menu)})}if(layers.length>1){var dirButtons=jQuery("<div>",{"class":"ui ignored icon buttons",style:"display:block;"}).appendTo(dirButtonsWrapper),leftBtn=jQuery("<button>",{"class":"ui labeled icon button","data-animation":"flip","data-direction":"left",title:"Previous product"}).text("Previous product").appendTo(dirButtons);leftBtn.on("click",function(){$(".shape").shape("flip left")}),jQuery("<i>",{"class":"left arrow icon"}).appendTo(leftBtn);var rightBtn=jQuery("<button>",{"class":"ui right labeled icon button","data-animation":"flip","data-direction":"right",title:"Next product"}).text("Next product").appendTo(dirButtons);jQuery("<i>",{"class":"right arrow icon"}).appendTo(rightBtn),rightBtn.on("click",function(){$(".shape").shape("flip right")})}modal.appendTo(jQuery(".map.container")),$(".shape").shape({onChange:function(){getSelectedProductLayers()},beforeChange:function(){activeGroupTile=$(".ui.raised.segment.side.active > a").text().trim()}}),$(".ui.dropdown").dropdown()},function(){var mapClient=function(){return{search:function(opts){return console.log("creating search ......"),new SearchClient(opts).init().enableDrawing(opts)},wms:function(opts){return console.log("crating wms ......"),new wmsc(opts).init()}}}();"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=mapClient:window.mapClient=mapClient}()},{"./../../../node_modules/semantic-ui/dist/semantic.js":3,"./ol3-layer-control":5,"./ol3-proj-control":6,"./ol3-timeslider-control":7,openlayers:1,proj4:2}],5:[function(require,module){var ol=require("openlayers");ol.control.LayerSwitcher=function(opt_options){var options=opt_options||{};this.mapListeners=[],this.previousContext={},this.overlayBorder=options.overlayBorder||!1,this.className="ol-unselectable ol-control layer-switcher";var element=document.createElement("div");element.className=this.className;var wrapper=document.createElement("div");wrapper.className="panel",element.appendChild(wrapper);var button=document.createElement("button");button.id="lyr-pnl",button.className="ui right floated button browse item",wrapper.appendChild(button),this.panel=document.createElement("div"),this.panel.className="layers ui popup flowing bottom left transition hidden",wrapper.appendChild(this.panel);var this_=this;button.onclick=function(){jQuery(".ui.accordion").accordion({onOpening:function(){var layerGroup,layerGroupId=$(this.parent().prop("parentNode")).prop("id"),layerTitle=this.prop("id").replace(/-/g," ");"undefined"!=typeof layerGroupId&&layerGroupId.length>0&&(layerGroup=this_.getLayerGroupByTitle(layerGroupId.replace(/-/g," ")));var currentLayer=this_.getLayerByTitle(layerGroup,layerTitle);if(currentLayer instanceof ol.layer.Group)this_.previousContext={};else{if(this_.previousContext.index&&jQuery(".ui.accordion").accordion("close",this_.previousContext.index),"base"===currentLayer.get("type")){var currentVisibilitySwitch=jQuery("#input-"+this.prop("id"));if(!currentVisibilitySwitch.prop("checked")){currentVisibilitySwitch.click();for(var baseLayers=this_.getAllBaseLayers(),i=0;i<baseLayers.length;i++)currentLayer.get("title")!==baseLayers[i].get("title")&&jQuery("#layer-"+baseLayers[i].get("title")).toggleClass("visible")}}this_.setVisible_(currentLayer,!0),this_.previousContext.index=this.index(".content"),this_.previousContext.layer=currentLayer,this_.previousContext.id="layer-"+this.prop("id")}},onClosing:function(){this_.previousContext.layer&&"base"!==this_.previousContext.layer.get("type")&&(this_.previousContext.layer.get("keepVisible")||this_.setVisible_(this_.previousContext.layer,!1))},onClose:function(){var layerGroup,index=this_.previousContext.index,layerTitle=this.id.replace(/-/g," "),layerGroupId=$($(this).parent().prop("parentNode")).prop("id");"undefined"!=typeof layerGroupId&&layerGroupId.length>0&&(layerGroup=this_.getLayerGroupByTitle(layerGroupId.replace(/-/g," ")));var currentLayer=this_.getLayerByTitle(layerGroup,layerTitle);currentLayer instanceof ol.layer.Group&&(this_.previousContext={},jQuery(".layers.ui.accordion").accordion("close",index))}})},ol.control.Control.call(this,{element:element,target:options.target})},ol.inherits(ol.control.LayerSwitcher,ol.control.Control),ol.control.LayerSwitcher.prototype.renderPanel=function(){this.useFirstVisbileBaseLayer_();var accordionDiv=document.createElement("div");accordionDiv.className="layers ui styled accordion",this.panel.appendChild(accordionDiv),this.renderLayers_(this.getMap(),accordionDiv);var this_=this;jQuery(".ui.accordion").accordion(),jQuery(".ui.dropdown").dropdown(),jQuery("#lyr-pnl").popup({inline:!0,hoverable:!1,position:"bottom center",exclusive:!0,lastResort:!0,closable:!1,on:"click",onShow:function(){this_.previousContext.layer&&jQuery(".layers.ui.accordion").accordion("toggle",this_.previousContext.index)},onHide:function(){this_.previousContext.layer&&jQuery(".layers.ui.accordion").accordion("toggle",this_.previousContext.index)}})},ol.control.LayerSwitcher.prototype.setMap=function(map){for(var i=0;i<this.mapListeners.length;i++)this.getMap().unByKey(this.mapListeners[i]);this.mapListeners.length=0,ol.control.Control.prototype.setMap.call(this,map),map&&(this.renderPanel(),this.overlayBorder_(1))},ol.control.LayerSwitcher.prototype.useFirstVisbileBaseLayer_=function(){var firstVisibleBaseLyr;ol.control.LayerSwitcher.forEachRecursive(this.getMap(),function(l){"base"===l.get("type")&&l.getVisible()&&(firstVisibleBaseLyr=l)}),firstVisibleBaseLyr&&this.setVisible_(firstVisibleBaseLyr,!0)},ol.control.LayerSwitcher.prototype.setVisible_=function(lyr,visible){var map=this.getMap();lyr.setVisible(visible);var this_=this;visible&&"base"!==lyr.get("type")&&(this.previousContext.zIndex=(this.previousContext.zIndex||0)+10,lyr.setZIndex(this.previousContext.zIndex),this_.overlayBorder_(this.previousContext.zIndex+1)),visible&&"base"===lyr.get("type")&&ol.control.LayerSwitcher.forEachRecursive(map,function(l){l!=lyr&&"base"===l.get("type")&&"border"!==l.get("title")&&(l.setVisible(!1),this_.setAlwaysVisible_(l,!1))})},ol.control.LayerSwitcher.prototype.overlayBase_=function(lyr,visible){this.getMap();lyr.setVisible(visible);visible&&"base"===lyr.get("type")&&lyr.setZIndex(this.previousContext.zIndex+1)},ol.control.LayerSwitcher.prototype.setAlwaysVisible_=function(lyr,visible){lyr.set("keepVisible",visible)},ol.control.LayerSwitcher.prototype.renderLayer_=function(lyr,idx,parent,idPrefix){var this_=this,lyrTitle=lyr.get("title"),lyrId=lyr.get("title").replace(/\s/g,"-"),accordionTitle=document.createElement("div"),contentDiv=document.createElement("div");contentDiv.id=lyrId,accordionTitle.className="title "+(lyr instanceof ol.layer.Layer&&lyr.getVisible()?"visible":"");var id=("undefined"!=typeof idPrefix?idPrefix.replace(/\s/g,"-")+"-":"")+"layer-"+lyrId;id=id.replace(/\./g,"-"),accordionTitle.id=id;var iconWithTitle='<i class="dropdown icon"></i>'+lyrTitle;if(accordionTitle.innerHTML=iconWithTitle,contentDiv.className="content",jQuery(parent).append(accordionTitle,contentDiv),lyr instanceof ol.layer.Group&&lyr.getLayers()){var accordionDiv=document.createElement("div");accordionDiv.className="accordion",console.log(accordionTitle.id),jQuery(contentDiv).append(accordionDiv),this.renderLayers_(lyr,accordionDiv)}else{var layerNameElement=document.createElement("p");layerNameElement.innerHTML=lyrTitle;var switchElement=document.createElement("div");switchElement.style.display="block",switchElement.setAttribute("class","ui checkbox toggle");var input=document.createElement("input"),switchLabel=document.createElement("label");"base"===lyr.get("type")?(input.type="radio",input.name="base",switchLabel.innerHTML=""):(input.type="checkbox",switchLabel.innerHTML="stay visible"),input.setAttribute("tabindex","0"),input.id=id.replace("input","layer"),input.checked=lyr.get("visible"),input.onchange=function(e){jQuery("#"+e.target.id.replace("input","layer")).toggleClass("visible"),this_.setAlwaysVisible_(lyr,e.target.checked)},switchLabel.htmlFor="input-"+lyrId,switchLabel.setAttribute("style","font-size:0.9em;");var visibilitySpan=document.createElement("span");visibilitySpan.setAttribute("class","switch-on"),visibilitySpan.innerHTML="Visibility ",switchElement.appendChild(input),switchElement.appendChild(switchLabel),contentDiv.appendChild(switchElement),this.renderDropdown_(lyr,contentDiv)}},ol.control.LayerSwitcher.prototype.renderDropdown_=function(layer,parentElement){var styles=layer.get("styles");if(styles){{var styleDropdown=jQuery("<div>",{"class":"ui selection dropdown",style:"display:block"}).appendTo(parentElement);jQuery("<input>").attr("type","hidden").attr("name","style").appendTo(styleDropdown)}jQuery("<i>").attr("class","dropdown icon").appendTo(styleDropdown),jQuery("<div>").attr("class","default text").text("Style").appendTo(styleDropdown);var legendImg=jQuery("<img>").appendTo(parentElement);styleDropdown.on("change",function(event){"base"!==layer.get("type")&&layer.getVisible()&&(styles.forEach(function(style){style.Name===event.target.value&&legendImg.attr("src",style.LegendURL[0].OnlineResource)}),layer.get("source").updateParams({STYLES:event.target.value}))});var styleMenu=jQuery("<div>").attr("class","menu").appendTo(styleDropdown);styles.forEach(function(style){styleMenu.append(jQuery("<div>").attr("data-value",style.Name).attr("class","item").text(style.Name))}),jQuery(".ui.dropdown").dropdown("set selected",styles[0].Name),legendImg.attr("src",styles[0].LegendURL[0].OnlineResource)}},ol.control.LayerSwitcher.prototype.renderLayers_=function(lyr,elm){for(var l,lyrs=lyr.getLayers().getArray().slice().reverse(),i=0;i<lyrs.length;i++)l=lyrs[i],l.get("title")&&this.renderLayer_(l,i,elm,lyr.get("title"))},ol.control.LayerSwitcher.prototype.getLayerByTitle=function(layerGroup,layerTitle){var layer;return ol.control.LayerSwitcher.forEachRecursive("undefined"!=typeof layerGroup?layerGroup:this.getMap(),function(lyr){lyr.get("title")===layerTitle&&(layer=lyr)}),layer},ol.control.LayerSwitcher.prototype.getLayerGroupByTitle=function(layerGroupId){var layer;return ol.control.LayerSwitcher.forEachRecursive(this.getMap(),function(lyr){lyr.get("title")===layerGroupId&&(layer=lyr)}),layer},ol.control.LayerSwitcher.prototype.getAllBaseLayers=function(){var layers=[];return ol.control.LayerSwitcher.forEachRecursive(this.getMap(),function(lyr){"base"===lyr.get("type")&&layers.push(lyr)}),layers},ol.control.LayerSwitcher.forEachRecursive=function(lyr,fn){lyr.getLayers().forEach(function(lyr,idx,a){fn(lyr,idx,a),lyr.getLayers&&ol.control.LayerSwitcher.forEachRecursive(lyr,fn)})},ol.control.LayerSwitcher.prototype.overlayBorder_=function(zIndex){if(this.overlayBorder){var layerGroup=this.getLayerGroupByTitle("Base layers"),bLayr=this.getLayerByTitle(layerGroup,"border");bLayr.setVisible(!0),"base"===bLayr.get("type")&&bLayr.setZIndex(zIndex)}},module.exports=ol.control.LayerSwitcher},{openlayers:1}],6:[function(require,module){var ol=require("openlayers");ol.control.Projection=function(opt_options){var options=opt_options||{};this.mapListeners=[],this.supportedProjections=options.supportedProjections||{},this.wmsSupportedProjections=options.wmsSupportedProjections||[],this.zoom=options.zoom||5,this.centeredLat=options.lat||65,this.centeredLon=options.lon||14,this.hiddenClassName="ol-unselectable ol-control proj control",this.shownClassName=this.hiddenClassName+" shown";var element=document.createElement("div");element.className=this.shownClassName;var wrapper=document.createElement("div");wrapper.className="panel",element.appendChild(wrapper);var button=document.createElement("button");button.className="proj button ui browse item",button.innerHTML='<i class="proj diamond icon"></i>',wrapper.appendChild(button),this.panel=document.createElement("div"),this.panel.className="ui flowing popup left center transition hidden",wrapper.appendChild(this.panel);var this_=this;element.onmouseover=function(){this_.showPanel()},button.onclick=function(){this_.showPanel()},ol.control.Control.call(this,{element:element,target:options.target})},ol.inherits(ol.control.Projection,ol.control.Control),ol.control.Projection.prototype.showPanel=function(){this.element.className!=this.shownClassName&&(this.element.className=this.shownClassName,this.panel||this.renderPanel())},ol.control.Projection.prototype.renderPanel=function(){for(;this.panel.firstChild;)this.panel.removeChild(this.panel.firstChild);var commonProjections=ol.control.Projection.CommonProjections(this.supportedProjections,this.wmsSupportedProjections);console.log(commonProjections);var projMenu=document.createElement("div");projMenu.className="ui segment";var projPointMenu=document.createElement("div");projPointMenu.className="proj ui secondary vertical pointing menu",projMenu.appendChild(projPointMenu);for(var this_=this,currentProjection=this.getMap().getView().getProjection().getCode(),i=0;i<commonProjections.length;i++){var projPointMenuItem=document.createElement("a");projPointMenuItem.setAttribute("proj-data",commonProjections[i]);var activeClass=currentProjection===commonProjections[i]?"active":"";projPointMenuItem.className="item "+activeClass,projPointMenuItem.innerHTML=this.supportedProjections[commonProjections[i]],projPointMenuItem.onclick=function(){jQuery(this).hasClass("dropdown browse")||jQuery(this).addClass("active").closest(".ui.menu").find(".item").not(jQuery(this)).removeClass("active");var selectedProj=this.getAttribute("proj-data"),view=new ol.View({projection:ol.proj.get(selectedProj),center:ol.proj.transform([this_.centeredLon,this_.centeredLat],"EPSG:4326",selectedProj),zoom:this_.zoom});this_.getMap().setView(view)},projPointMenu.appendChild(projPointMenuItem)}this.panel.appendChild(projMenu),jQuery(".ui.accordion").accordion(),jQuery(".ui.dropdown").dropdown(),jQuery(".proj.browse").popup({inline:!0,position:"bottom left",exclusive:!0,lastResort:!0,on:"click"})},ol.control.Projection.prototype.setMap=function(map){for(var i=0;i<this.mapListeners.length;i++)this.getMap().unByKey(this.mapListeners[i]);this.mapListeners.length=0,ol.control.Control.prototype.setMap.call(this,map),map&&this.renderPanel()},ol.control.Projection.CommonProjections=function(a,b){var projCode=Object.keys(a);return jQuery.grep(projCode,function(i){return jQuery.inArray(i,b)>-1})},module.exports=ol.control.Projection},{openlayers:1}],7:[function(require,module){var ol=require("openlayers");ol.control.TimeSlider=function(opt_options){var options=opt_options||{},sliderContainer=options.target;this.sliderControlId=options.sliderControlId?options.sliderControlId:"ol-control-timeslider",this.sliderId=options.sliderId?options.sliderId:"slider",availableTimes={},this.times=[];var sliderControlElement=document.createElement("div");sliderControlElement.id=this.sliderControlId,jQuery("#"+sliderContainer).append(sliderControlElement),this.slider=null,ol.control.Control.call(this,{element:sliderControlElement,target:options.target})},ol.inherits(ol.control.TimeSlider,ol.control.Control),ol.control.TimeSlider.prototype.setMap=function(map){ol.control.Control.prototype.setMap.call(this,map);for(var l,this_=this,lyrs=this.getMap().getLayers().getArray().slice().reverse(),i=0;i<lyrs.length;i++)if(l=lyrs[i],this.registerPropertyChangeListener_(l,this_),l instanceof ol.layer.Group)for(var innerLayers=l.getLayers().getArray(),j=0;j<innerLayers.length;j++)this.registerPropertyChangeListener_(innerLayers[j],this_);else l instanceof ol.layer.Layer&&this.registerPropertyChangeListener_(l,this_);this.times=this.getVisibleLayerTimes(),this.showSlider()},ol.control.TimeSlider.prototype.registerPropertyChangeListener_=function(layer,this_){"base"!==layer.get("type")&&layer.on("propertychange",function(event){"visible"===event.key&&this_.layerVisibilityChange(event)})},ol.control.TimeSlider.prototype.renderSlider=function(){
if(null===this.slider){this.slider=document.createElement("input"),this.slider.id=this.sliderId,this.slider.setAttribute("class","range-slider radius"),this.slider.setAttribute("type","range"),this.slider.setAttribute("step","1"),this.slider.setAttribute("min","0"),this.slider.setAttribute("max",this.times.length),jQuery("#"+this.sliderControlId).append(this.slider);var this_=this;this.slider.oninput=function(){this_.slideChange()};var contrls=document.createElement("div");contrls.setAttribute("class","controls");var controlSpan=document.createElement("span");controlSpan.className="ui label radius controls-span";var nextButton=document.createElement("button");nextButton.innerHTML='<i class="forward icon"></i>',nextButton.setAttribute("class","button mini radius");var timeLabel=document.createElement("span");timeLabel.id="time",timeLabel.className="ui label";var previousButton=document.createElement("button");previousButton.innerHTML='<i class="backward icon"></i>',previousButton.setAttribute("class","button mini radius"),controlSpan.appendChild(previousButton),controlSpan.appendChild(timeLabel),controlSpan.appendChild(nextButton),contrls.appendChild(controlSpan),jQuery(contrls).appendTo(jQuery("#"+this.sliderControlId)),nextButton.onclick=function(){this_.stepNext()},previousButton.onclick=function(){this_.stepPrevious()},this.slider.value=0,this.slideChange()}},ol.control.TimeSlider.prototype.showSlider=function(){this.times.length>0&&this.renderSlider()},ol.control.TimeSlider.prototype.removeSlider=function(){null!==this.slider&&(this.slider=null,jQuery("#"+this.sliderControlId).empty())},ol.control.TimeSlider.prototype.updateTime=function(time){for(var l,lyrs=this.getMap().getLayers().getArray().slice().reverse(),i=0;i<lyrs.length;i++)if(l=lyrs[i],l instanceof ol.layer.Layer)this.updateTime_(l,time);else if(l instanceof ol.layer.Group)for(var innerLayers=l.getLayers().getArray(),j=0;j<innerLayers.length;j++)this.updateTime_(innerLayers[j],time)},ol.control.TimeSlider.prototype.updateTime_=function(layer,time){"base"!==layer.get("type")&&layer.getVisible()&&layer.get("source").updateParams({TIME:time})},ol.control.TimeSlider.prototype.stepNext=function(){var val=this.slider.value;val<this.times.length-1?this.slider.stepUp():this.slider.value=0,this.slideChange()},ol.control.TimeSlider.prototype.stepPrevious=function(){var val=this.slider.value;val>0?this.slider.stepDown():this.slider.value=this.times.length-1,this.slideChange()},ol.control.TimeSlider.prototype.slideChange=function(){var index=this.slider.value,currentTime=this.times[index];jQuery("#"+this.sliderId).find(".range-slider-handle").text(currentTime),jQuery("#time").text(currentTime),this.updateTime(currentTime)},ol.control.TimeSlider.prototype.layerVisibilityChange=function(){this.times=this.getVisibleLayerTimes(),this.times.length>0?this.renderSlider():this.removeSlider()},ol.control.TimeSlider.prototype.getVisibleLayerTimes=function(){for(var l,lyrs=this.getMap().getLayers().getArray().slice().reverse(),newTimes={},i=0;i<lyrs.length;i++)if(l=lyrs[i],l instanceof ol.layer.Layer)this.addVisibleLayerTimesTo_(l,newTimes);else if(l instanceof ol.layer.Group)for(var innerLayers=l.getLayers().getArray(),j=0;j<innerLayers.length;j++)this.addVisibleLayerTimesTo_(innerLayers[j],newTimes);return this._sortTimes(newTimes)},ol.control.TimeSlider.prototype.addVisibleLayerTimesTo_=function(layer,newTimes){if("base"!==layer.get("type")&&layer.getVisible()){var layerTimes=[];layerTimes=layer.get("dimensions");for(var k=0;k<layerTimes.length;k++){var time=jQuery.trim(layerTimes[k]);newTimes[time]=time in newTimes?newTimes[time]+1:1}}},ol.control.TimeSlider.prototype._sortTimes=function(availableTimes){var sortedTimes=[];for(var time in availableTimes)sortedTimes.push(time);return sortedTimes.sort(),sortedTimes},module.exports=ol.control.TimeSlider},{openlayers:1}]},{},[4])(4)});